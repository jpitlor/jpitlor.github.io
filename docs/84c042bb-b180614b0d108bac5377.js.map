{"version":3,"sources":["webpack:///./node_modules/@react-pdf/renderer/dist/react-pdf.browser.es.js"],"names":["emojiSource","hyphenationCallback","FONT_WEIGHTS","thin","hairline","ultralight","extralight","light","normal","medium","semibold","demibold","bold","ultrabold","extrabold","heavy","black","INHERITED_PROPERTIES","SVG_INHERITED_PROPS","concat","matchBoxModel","matchObjectPosition","matchBorderShorthand","matchTransformOrigin","isNumber","Number","processFontWeight","key","value","toLowerCase","matchNumber","String","castFloat","v","parseFloat","transformStyle","match","Error","result","transformOffsetKeywords","split","transformStyles","fetchFont","_ref","mark","_callee","src","options","response","buffer","wrap","_context","prev","next","sent","arrayBuffer","abrupt","constructor","name","Buffer","from","stop","_x","_x2","apply","this","arguments","FontSource","fontFamily","fontStyle","fontWeight","data","loading","prototype","load","_load","_callee2","_this$options","headers","body","_this$options$method","method","_this","_context2","create","Promise","resolve","reject","open","err","Font","family","sources","_proto2","register","_ref2","push","descriptor","res","_descriptor$fontWeigh","_descriptor$fontStyle","styleSources","filter","s","exactFit","find","leftOffset","rightOffset","length","lt","gt","emoji","registerEmojiSource","url","_ref$format","format","getEmojiSource","standardFonts","hyphenation","registerHyphenationCallback","callback","getHyphenationCallback","fonts","getFont","includes","font","Font$1","i","getRegisteredFonts","getRegisteredFontFamilies","Object","keys","clear","reset","_font","hasOwnProperty","save$1","ctx","node","save","PROTOCOL_REGEXP","DEST_REGEXP","isSrcId","isSrcId$1","getSource","setLink$1","_node$box","box","top","left","width","height","instanceMethod","slice","getURL","restore$1","restore","isSvg","isText","isPage","hasSource","isLink","isNote","isImage","isCanvas","KAPPA","Math","sqrt","clipNode$1","_node$style","style","_node$style$borderTop","borderTopLeftRadius","_node$style$borderTop2","borderTopRightRadius","_node$style$borderBot","borderBottomRightRadius","_node$style$borderBot2","borderBottomLeftRadius","rtr","min","ctr","moveTo","lineTo","bezierCurveTo","rbr","cbr","rbl","cbl","rtl","ctl","closePath","clip","renderPath","path","props","d","KAPPA$1","getProp","p","renderRect","x","y","rx","ry","krx","kry","getProp$1","renderLine","x1","y1","x2","y2","KAPPA$2","getProp$2","drawEllipse","cx","cy","ox","oy","xe","ye","xm","ym","renderEllipse","getProp$3","renderCircle","r","renderRun","run","runAdvanceWidth","_run$attributes","attributes","fontSize","color","opacity","fillColor","fillOpacity","sbix","COLR","CPAL","translate","ascent","glyphs","position","positions","glyph","xOffset","yOffset","render","xAdvance","yAdvance","_addGlyphs","error","console","log","renderSpan","line","textAnchor","_iterator","runs","_isArray","Array","isArray","_i","Symbol","iterator","done","renderSvgText","_iterator2","children","_isArray2","_i2","span","lines","lengthIsOdd","parsePoints","renderPolyline","points","forEach","drawPolyline","renderPolygon","warning","renderSvgImage","_node$props","paddingTop","paddingLeft","image","href","drawImage","getTranslateX","transform","matchX","exec","matchGeneric","getTranslateY","matchY","getScaleX","getScaleY","applySingleTransformation","origin","test","rotate","PI","getRotation","scale","getMatrix","applyTransformations$1","re","isPath","isRect","isLine","isTspan","isGroup","isCircle","isTextInstance","isEllipse","isPolygon","isPolyline","normalizePath","bezierX","bezierY","startX","startY","quadX","quadY","len","seg","command","curves","px","py","xAxisRotation","largeArcFlag","sweepFlag","c","j","quadratic","max","Infinity","getPolylineBoundingBox","xValues","yValues","getBoundingBox","a","bounds","l","warnUnsupportedNode","warn","type","getProp$4","hasLinearGradientFill","hasRadialGradientFill","setLinearGradientFill","bbox","gradient","m0","m3","m4","m5","gx1","gy1","gx2","gy2","grad","linearGradient","offset","stopColor","stopOpacity","fill","setRadialGradientFill","fx","fy","gr","gcx","gcy","gfx","gfy","radialGradient","setFillColor","renderNode","drawNode","stroke","fillAndStroke","fillRule","draw","setOpacity","setFillOpacity","strokeOpacity","setStrokeOpacity","setFill","strokeColor","setStrokeColor","lineWidth","setStrokeWidth","lineJoin","setLineJoin","dashArray","dash","space","setLineDash","lineCap","setLineCap","drawChildren","clipPath","defaultsZero","renderSvg$1","viewBox","_node$props$preserveA","preserveAspectRatio","_preserveAspectRatio$","meetOrSlice","_preserveAspectRatio$2","align","minX","minY","logicalWidth","maxX","logicalHeight","maxY","logicalRatio","physicalRatio","scaleX","scaleY","_node$box2","moveToOrigin","renderText$1","initialY","renderPage$1","addPage","size","margin","renderNote$1","note","matchPercent","isPercent","_value","percent","absValue","abs","absPercent","isNumeric","n","isNaN","isFinite","applyContainObjectFit","cw","ch","iw","ih","cr","ir","pxp","pyp","pxv","pyv","_width","_height","_xOffset","applyNoneObjectFit","resolveObjectFit","_width2","applyCoverObjectFit","containDimension","noneDimension","applyScaleDownObjectFit","applyFillObjectFit","renderImage$2","objectPositionX","objectPositionY","paddingRight","paddingBottom","_resolveObjectFit","objectFit","drawImage$1","availableMethods","defaultsZero$1","renderCanvas$1","availableWidth","availableHeight","paint","reduce","acc","prop","_extends2","painter","hasVerticalRuler","hasHorizontalRuler","range","steps","ceil","_","matchPercentage","renderVerticalRuler","page","hRange","horizontalRulerSteps","rulerSteps","percentage","getVerticalSteps","rect","map","step","text","round","renderHorizontalRuler","verticalRulerSteps","getHorizontalSteps","renderRulers$1","addMetadata$1","doc","target","or","setProp","info","setPDFMetadata","title","author","subject","keywords","creator","producer","shouldDebug","renderDebug","circle","debugOrigin","_node$box4","marginLeft","marginTop","marginRight","marginBottom","roundedWidth","roundedHeight","debugText","_node$box3","debugMargin","borderLeftWidth","borderTopWidth","borderRightWidth","borderBottomWidth","debugPadding","debugContent","KAPPA$3","renderBorders$1","shouldRenderBorders","_node$style$borderTop3","borderTopColor","_node$style$borderTop4","borderTopStyle","_node$style$borderLef","borderLeftColor","_node$style$borderLef2","borderLeftStyle","_node$style$borderRig","borderRightColor","_node$style$borderRig2","borderRightStyle","_node$style$borderBot3","borderBottomColor","_node$style$borderBot4","borderBottomStyle","layout","c0","topRightYCoord","innerTopRightRadiusX","innerTopRightRadiusY","c1","c2","innerTopLeftRadiusX","innerTopLeftRadiusY","c3","c4","topLeftYCoord","c5","trSlope","_trSlope","clipBorderTop","undash","fillBorderTop","topBottomXCoord","innerBottomRightRadiusX","innerBottomRightRadiusY","topRightXCoord","brSlope","clipBorderRight","fillBorderRight","bottomLeftYCoord","innerBottomLeftRadiusX","innerBottomLeftRadiusY","bottomRightYCoord","clipBorderBottom","fillBorderBottom","topLeftCoordX","bottomLeftXCoord","_trSlope2","clipBorderLeft","fillBorderLeft","shouldRenderBackground","renderBackground$1","backgroundColor","drawBackground","shouldRenderChildren","renderNode$1","id","addNamedDestination","setDestination","renderChildren","renderDocument","end","upperFirst","upperFirst$1","transformText","transformation","toUpperCase","replace","StandardFont","_proto","str","_this$src$encode","encode","encoded","stringIndices","g","getGlyph","parseInt","advanceWidth","glyphForCodePoint","codePoint","codePoints","isLigature","characterToGlyph","hasGlyphForCodePoint","get","fontCache","IGNORED_CODE_POINTS","getFontSize","getOrCreateFont","getFallbackFont","shouldFallbackToFont","fontSubstitution","string","lastFont","lastIndex","index","_fontSize","defaultFont","start","_ref3","_char","codePointAt","unitsPerEm","engines","linebreaker","justification","textDecoration","scriptItemizer","wordHyphenation","engine","layoutOptions","shrinkWhitespaceFactor","before","after","getAttributedString","instance","fromFragments","getFragments","fragments","_instance$props","_instance$props$fill","_instance$props$fontF","_instance$props$fontS","textDecorationColor","textDecorationStyle","textTransform","obj","underlineStyle","underline","underlineColor","strike","strikeStyle","strikeColor","child","layoutText","attributedString","container","isDefs","getChildren","getId","getDefs","isNotDefs","detachDefs","URL_REGEX","replaceDef","defs","parseNodeDefs","replaceDefs","root","parseViewbox","values","getInheritProps","inheritProps","isRgb","isRgba","isHsl","isHsla","parseRgb","to","hex","rgb","parseHsl","hsl","transformColor","transformColors","styles","STYLE_PROPS","VERTICAL_PROPS","HORIZONTAL_PROPS","transformPercent","parsePercent","mergeStyles","removeNoneValues","pickStyleProps","styleProps","parseSvgProps","addMissingTspan","resolveSvgNode","parseProps","parseText","resolveSvgRoot","viewbox","getContainer","resolveChildren","adjustPageSize","resolveRulers","isValid","e","MARKERS","JPEG","readUInt16BE","marker","pos","isBuffer","_temp","_ref$limit","limit","cache","IMAGE_CACHE","set","shift","fetchRemoteFile","uri","getImage","extension","resolveBufferImage","guessFormat","getImageFormat","isPng","isJpg","resolveImageFromUrl","_ref4","_src$method","t0","_x3","resolveImage","_ref5$cache","cacheKey","toString","lower","isValidFormat","resolveBase64Image","JSON","stringify","resolveImageFromData","isNotNil","firstPass","_len","fns","_key","fn","getSource$1","resolveSrc","t1","fetchImage","source","message","emojis","regex","_removeNoColor","buildEmojiUrl","_Font$getEmojiSource","_char2","join","fetchEmojis","promises","_loop","promise","emojiUrl","fetchEmojiImage","then","fetchAssets","listToExplore","_node","childNode","isNotArray","castArray","compact","Boolean","flatten","undefined","styleShorthands","marginHorizontal","marginVertical","padding","paddingHorizontal","paddingVertical","border","borderTop","borderRight","borderBottom","borderLeft","borderColor","borderRadius","borderStyle","borderWidth","objectPosition","transformOrigin","transformOriginX","transformOriginY","flex","flexGrow","flexShrink","flexBasis","expandStyles","propsArray","resolvedStyle","expandedProps","propName","call","transformUnit","scalar","unit","parseValue","transformUnits$1","resolveMediaQueries$1","_matchMedia","LINK_STYLES","filterNoneValues","resolveStyles","resolveNodeStyles","resolveStyles$1","getTransformStyle","getOrigin","percentX","percentY","resolveOrigin","resolveNodeOrigin","VALID_ORIENTATIONS","getOrientation","isLandscape","toSizeObject","flipSizeObject","getStringSize","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","C10","RA0","RA1","RA2","RA3","RA4","SRA0","SRA1","SRA2","SRA3","SRA4","EXECUTIVE","FOLIO","LEGAL","LETTER","TABLOID","getNumberSize","throwInvalidError","assocIfNil$1","resolvePageSizes","getSize","zero","getTop","getWidows","getOrphans","zero$1","getTop$1","hasFixedHeight","splitNode","nodeTop","current","nextHeight","isString","isNumber$1","isNotString","createInstance","element","_element$props","_element$props$style","_element$props$childr","getWrap","getBreak","getMinPresenceAhead","defaultPresenceAhead","shouldBreak","futureElements","minPresenceAhead","presenceAhead","elements","isElementInside","getPresenceAhead","futureHeight","nodes","getNodesHeight","shouldSplit","shouldWrap","getComputedPadding","edge","yogaNode","_yogaNode","getPadding","EDGE_TOP","EDGE_RIGHT","EDGE_BOTTOM","EDGE_LEFT","IGNORABLE_CODEPOINTS","PREPROCESSORS","fragment","charSubset","fromCharCode","subsetRegex","RegExp","emojiSize","chunk","attachment","floor","engines$1","engine$1","layoutText$1","_instance$style","_instance$style$color","_instance$style$fontF","_instance$style$fontS","_instance$style$textA","textAlign","lineHeight","letterSpacing","textIndent","indent","link","characterSpacing","_fragments","preprocessor","getFragments$1","maxLines","truncateMode","hyphenationPenalty","isNotSvg","shouldLayoutText","fixed","hasLines","resolveTextLayout","getInheritStyles","resolveInheritance","inheritStyles","getComputedMargin","getMargin","getTop$2","getComputedTop","getRight","getComputedRight","getBottom","getComputedBottom","getLeft","getComputedLeft","getPosition","right","bottom","DEFAULT_DIMENSION","getDimension","getComputedWidth","getComputedHeight","getComputedBorder","getBorderWidth","isNotNil$1","setYogaValue","attr","hasEdge","fixedMethod","autoMethod","percentMethod","setFlexGrow","setFlexBasis","setAlign","yogaValue","ALIGN_FLEX_START","ALIGN_CENTER","ALIGN_FLEX_END","ALIGN_STRETCH","ALIGN_BASELINE","ALIGN_SPACE_BETWEEN","ALIGN_SPACE_AROUND","ALIGN_AUTO","setAlignSelf","setAlignItems","setFlexShrink","setAlignContent","isRow","isRowReverse","isColumnReverse","setMarginTop","setMarginRight","setMarginBottom","setMarginLeft","setPaddingTop","setPaddingRight","setPaddingBottom","setPaddingLeft","setBorderTop","setBorderRight","setBorderBottom","setBorderLeft","setPositionTop","setPositionRight","setPositionBottom","setPositionLeft","setWidth","setMinWidth","setMaxWidth","setHeight","setMinHeight","setMaxHeight","measureSvg","widthMode","heightMode","aspectRatio","MEASURE_MODE_EXACTLY","MEASURE_MODE_AT_MOST","linesWidth","linesHeight","measureText$1","getRatio","isHeightAuto","measureImage$1","imageRatio","imageMargin","pagePadding","pageArea","MEASURE_MODE_UNDEFINED","scaledHeight","_scaledHeight","getMax","measureCanvas$2","nil","addPoint","w","h","ellipse","polygon","roundedRect","quadraticCurveTo","miterLimit","getWidth","getHeight","measureCtx","YOGA_CONFIG","Config","setPointScaleFactor","setYogaValues","setNodeHeight","minWidth","maxWidth","minHeight","maxHeight","setPositionType","POSITION_TYPE_ABSOLUTE","POSITION_TYPE_RELATIVE","setDisplay","DISPLAY_NONE","DISPLAY_FLEX","display","FLEX_DIRECTION_ROW","FLEX_DIRECTION_ROW_REVERSE","FLEX_DIRECTION_COLUMN_REVERSE","FLEX_DIRECTION_COLUMN","setFlexDirection","flexDirection","alignSelf","alignContent","alignItems","JUSTIFY_CENTER","JUSTIFY_FLEX_END","JUSTIFY_SPACE_BETWEEN","JUSTIFY_SPACE_AROUND","JUSTIFY_SPACE_EVENLY","JUSTIFY_FLEX_START","setJustifyContent","justifyContent","WRAP_WRAP","WRAP_WRAP_REVERSE","WRAP_NO_WRAP","setFlexWrap","flexWrap","OVERFLOW_HIDDEN","OVERFLOW_SCROLL","OVERFLOW_VISIBLE","setOverflow","overflow","setAspectRatio","isNotText","isNotNote","isNotSvg$1","isNotTextInstance","isLayoutElement","createYogaNodes","parent","Node","createWithConfig","setMeasureFunc","insertChild","getChildCount","calculateLayout","persistDimensions","destroyYogaNodes","destroy","resolvePageDimensions","assingChildren","getTop$3","getChildren$1","isElementOutside","isFixed","allFixed","isDynamic","relayoutPage","slicedLineIndex","widows","orphans","linesQuantity","slicedLine","lineIndexAtHeight","getLineBreak","currentHeight","counter","heightAtLineIndex","_splitNode","currentNode","nextNode","_splitChildren","splitChildren","currentChilds","nextChildren","splitNodes","currentChildren","futureNodes","futureFixedNodes","nodeHeight","isOutside","shouldBreak$1","_next","_split","currentChild","nextChild","splitPage","pageNumber","contentArea","getContentArea","dynamicPage","resolveDynamicPage","_splitNodes","nextChilds","currentPage","shouldResolveDynamicNodes","resolveDynamicNodes","isNodeDynamic","paginate","splittedPage","pages","nextPage","resolvePageIndices","totalPages","removeMargins","resolvePageMargins","getNodesText","wrapTextInstance","resolvePageHorizontalPadding","resolvePageVerticalPadding","resolvePagePaddings$1","resolveRadius","transformHeight","hasHeight","resolveNodePercentHeight","getPageArea","resolvePercentHeight","hasRenderProp","hasTextInstanceChilds","asyncCompose","resolveZIndex","subpages","resolvePercentRadius","resolveSvg","all","timeEnd","resolveNoteChildren","time","startTimer","resolveLinkSubstitution","emptyObject","createRenderer","_ref$onChange","onChange","schedulePassiveEffects","cancelPassiveEffects","supportsMutation","isPrimaryRenderer","warnsIfNotActing","appendInitialChild","parentInstance","createTextInstance","rootContainerInstance","finalizeInitialChildren","getPublicInstance","prepareForCommit","prepareUpdate","oldProps","newProps","propsEqual","b","oldPropsKeys","newPropsKeys","resetAfterCommit","resetTextContent","getRootHostContext","getChildHostContext","shouldSetTextContent","now","Date","useSyncScheduling","appendChild","appendChildToContainer","document","insertBefore","beforeChild","indexOf","splice","removeChild","removeChildFromContainer","commitTextUpdate","textInstance","oldText","newText","commitUpdate","updatePayload","StyleSheet","hairlineWidth","absoluteFillObject","View","Text","Page","Image","pdf","initialValue","PDFRenderer","mountNode","createContainer","updateContainer","render$1","layout$1","autoFirstPage","callOnRender","params","onRender","_toBlob","_callee3","stream","_context3","pipe","on","blob","toBlob","_toBuffer","_callee4","_context4","toBuffer","svgpath","queue","queue$1","Component","flatStyles","stylesArray","Document$1","createElement","InternalBlobProvider","_React$PureComponent","args","renderQueue","autostart","concurrency","state","queueDocumentRender","onRenderFailed","setState","onRenderSuccessful","oldBlobUrl","URL","createObjectURL","revokeObjectURL","componentDidMount","componentDidUpdate","componentWillUnmount","PureComponent","PDFViewer","className","innerRef","ref","PDFDownloadLink","_ref5","_ref5$fileName","fileName","download","onClick","window","navigator","msSaveBlob"],"mappings":"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","file":"84c042bb-b180614b0d108bac5377.js","sourcesContent":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.date.now\";\nimport \"core-js/modules/es6.string.fixed\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.string.code-point-at\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _inheritsLoose from '@babel/runtime/helpers/inheritsLoose';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/extends';\nimport React from 'react';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport BlobStream from 'blob-stream';\nimport PDFDocument, { PDFFont } from '@react-pdf/pdfkit';\nimport 'is-url';\nimport fontkit from '@react-pdf/fontkit';\nimport fetch from 'cross-fetch';\nimport { match, is, when, test, compose, cond, T, mapObjIndexed, flip, curryN, either, path, propEq, hasPath, both, tap, pathOr, o, prop, splitEvery, map, slice, split as split$1, replace, trim, identity, reduce, max as max$1, min as min$1, always, pluck, pathEq, propOr, forEach, ifElse, isNil, join, juxt, toUpper, head, tail, memoizeWith, last, evolve, concat, assoc, groupBy, defaultTo, find, complement, filter, __, pick, merge, apply, equals, sortBy, add, then, reject, isEmpty, converge, includes, applySpec, subtract, anyPass, pathSatisfies, allPass, mergeAll, dissoc, useWith, lte, all, assocPath, dissocPath, any, reverse } from 'ramda';\nimport runWidth from '@react-pdf/textkit/run/advanceWidth';\nimport lineWidth from '@react-pdf/textkit/attributedString/advanceWidth';\nimport absPath from 'abs-svg-path';\nimport parsePath from 'parse-svg-path';\nimport arcToCurve from 'svg-arc-to-cubic-bezier';\nimport PDFRenderer from '@react-pdf/textkit/renderers/pdf';\nimport layoutEngine from '@react-pdf/textkit/layout';\nimport linebreaker from '@react-pdf/textkit/engines/linebreaker';\nimport justification from '@react-pdf/textkit/engines/justification';\nimport textDecoration from '@react-pdf/textkit/engines/textDecoration';\nimport scriptItemizer from '@react-pdf/textkit/engines/scriptItemizer';\nimport wordHyphenation from '@react-pdf/textkit/engines/wordHyphenation';\nimport AttributedString from '@react-pdf/textkit/attributedString';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport colorString from 'color-string';\nimport hlsToHex from 'hsl-to-hex';\nimport PNG from '@react-pdf/png-js';\nimport emojiRegex from 'emoji-regex';\nimport matchMedia from 'media-engine';\nimport Yoga from 'yoga-layout-prebuilt';\nimport ReactFiberReconciler from 'react-reconciler';\nimport { unstable_scheduleCallback, unstable_cancelCallback } from 'scheduler';\nvar VIEW = 'VIEW';\nvar TEXT = 'TEXT';\nvar LINK = 'LINK';\nvar PAGE = 'PAGE';\nvar NOTE = 'NOTE';\nvar IMAGE = 'IMAGE';\nvar DOCUMENT = 'DOCUMENT';\nvar CANVAS = 'CANVAS';\nvar TEXT_INSTANCE = 'TEXT_INSTANCE';\nvar SVG = 'SVG';\nvar GROUP = 'G';\nvar PATH = 'PATH';\nvar RECT = 'RECT';\nvar LINE = 'LINE';\nvar CIRCLE = 'CIRCLE';\nvar ELLIPSE = 'ELLIPSE';\nvar POLYGON = 'POLYGON';\nvar POLYLINE = 'POLYLINE';\nvar DEFS = 'DEFS';\nvar TSPAN = 'TSPAN';\nvar CLIP_PATH = 'CLIP_PATH';\nvar STOP = 'STOP';\nvar LINEAR_GRADIENT = 'LINEAR_GRADIENT';\nvar RADIAL_GRADIENT = 'RADIAL_GRADIENT';\nvar DPI = 72; // 72pt per inch.\n// https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Common_weight_name_mapping\n\nvar FONT_WEIGHTS = {\n  thin: 100,\n  hairline: 100,\n  ultralight: 200,\n  extralight: 200,\n  light: 300,\n  normal: 400,\n  medium: 500,\n  semibold: 600,\n  demibold: 600,\n  bold: 700,\n  ultrabold: 800,\n  extrabold: 800,\n  heavy: 900,\n  black: 900\n};\nvar PAGE_SIZES = {\n  '4A0': [4767.87, 6740.79],\n  '2A0': [3370.39, 4767.87],\n  A0: [2383.94, 3370.39],\n  A1: [1683.78, 2383.94],\n  A2: [1190.55, 1683.78],\n  A3: [841.89, 1190.55],\n  A4: [595.28, 841.89],\n  A5: [419.53, 595.28],\n  A6: [297.64, 419.53],\n  A7: [209.76, 297.64],\n  A8: [147.4, 209.76],\n  A9: [104.88, 147.4],\n  A10: [73.7, 104.88],\n  B0: [2834.65, 4008.19],\n  B1: [2004.09, 2834.65],\n  B2: [1417.32, 2004.09],\n  B3: [1000.63, 1417.32],\n  B4: [708.66, 1000.63],\n  B5: [498.9, 708.66],\n  B6: [354.33, 498.9],\n  B7: [249.45, 354.33],\n  B8: [175.75, 249.45],\n  B9: [124.72, 175.75],\n  B10: [87.87, 124.72],\n  C0: [2599.37, 3676.54],\n  C1: [1836.85, 2599.37],\n  C2: [1298.27, 1836.85],\n  C3: [918.43, 1298.27],\n  C4: [649.13, 918.43],\n  C5: [459.21, 649.13],\n  C6: [323.15, 459.21],\n  C7: [229.61, 323.15],\n  C8: [161.57, 229.61],\n  C9: [113.39, 161.57],\n  C10: [79.37, 113.39],\n  RA0: [2437.8, 3458.27],\n  RA1: [1729.13, 2437.8],\n  RA2: [1218.9, 1729.13],\n  RA3: [864.57, 1218.9],\n  RA4: [609.45, 864.57],\n  SRA0: [2551.18, 3628.35],\n  SRA1: [1814.17, 2551.18],\n  SRA2: [1275.59, 1814.17],\n  SRA3: [907.09, 1275.59],\n  SRA4: [637.8, 907.09],\n  EXECUTIVE: [521.86, 756.0],\n  FOLIO: [612.0, 936.0],\n  LEGAL: [612.0, 1008.0],\n  LETTER: [612.0, 792.0],\n  TABLOID: [792.0, 1224.0]\n};\nvar PORTRAIT = 'portrait';\nvar LANDSCAPE = 'landscape';\nvar INHERITED_PROPERTIES = ['color', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight', 'letterSpacing', 'opacity', 'textDecoration', 'lineHeight', 'textAlign', 'visibility', 'wordSpacing'];\nvar SVG_INHERITED_PROPS = ['x', 'y', 'clipPath', 'clipRule', 'opacity', 'fill', 'fillOpacity', 'fillRule', 'stroke', 'strokeLinecap', 'strokeLinejoin', 'strokeOpacity', 'strokeWidth', 'textAnchor'].concat(INHERITED_PROPERTIES);\nvar RULER_WIDTH = 13;\nvar RULER_COLOR = 'white';\nvar RULER_FONT_SIZE = 6;\nvar DEFAULT_RULER_STEPS = 50;\nvar LINE_WIDTH = 0.5;\nvar LINE_COLOR = 'gray';\nvar GRID_COLOR = '#ababab';\nvar BOX_MODEL_REGEX = /\\d+(px|in|mm|cm|pt|%|vw|vh|px)?/g;\nvar OBJECT_POSITION_REGEX = /\\d+(px|in|mm|cm|pt|%|vw|vh|px)?/g;\nvar BORDER_SHORTHAND_REGEX = /(\\d+(px|in|mm|cm|pt|vw|vh|px)?)\\s(\\S+)\\s(\\S+)/;\nvar TRANSFORM_ORIGIN_REGEX = /(-?\\d+(px|in|mm|cm|pt|%|vw|vh|px)?)|top|right|bottom|left|center/g;\nvar matchBoxModel = match(BOX_MODEL_REGEX);\nvar matchObjectPosition = match(OBJECT_POSITION_REGEX);\nvar matchBorderShorthand = match(BORDER_SHORTHAND_REGEX);\nvar matchTransformOrigin = match(TRANSFORM_ORIGIN_REGEX);\nvar isNumber = is(Number);\n\nvar isFontWeightStyle = function isFontWeightStyle(key) {\n  return key.match(/^fontWeight/);\n};\n\nvar isBorderStyle = function isBorderStyle(key, value) {\n  return key.match(/^border(Top|Right|Bottom|Left)(Color|Width|Style)/) && typeof value === 'string';\n};\n\nvar isBoxModelStyle = function isBoxModelStyle(key, value) {\n  return key.match(/^(margin)|(padding)/) && typeof value === 'string';\n};\n\nvar isObjectPositionStyle = function isObjectPositionStyle(key, value) {\n  return key.match(/^objectPosition/) && typeof value === 'string';\n};\n\nvar isTransformOriginStyle = function isTransformOriginStyle(key, value) {\n  return key.match(/^transformOrigin/) && typeof value === 'string';\n};\n\nvar isFlexGrow = function isFlexGrow(key) {\n  return key === 'flexGrow';\n};\n\nvar isFlexShrink = function isFlexShrink(key) {\n  return key === 'flexShrink';\n};\n\nvar isFlexBasis = function isFlexBasis(key) {\n  return key === 'flexBasis';\n};\n\nvar processBorders = function processBorders(key, value) {\n  var match = matchBorderShorthand(value);\n\n  if (match) {\n    if (key.match(/Color$/)) {\n      return match[4] || value;\n    } else if (key.match(/Style$/)) {\n      return match[3] || value;\n    } else if (key.match(/Width$/)) {\n      return match[1] || value;\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n  }\n\n  return value;\n};\n\nvar processBoxModel = function processBoxModel(key, value) {\n  var match = matchBoxModel(value);\n\n  if (match) {\n    if (key.match(/Top$/)) {\n      return match[0];\n    } else if (key.match(/Right$/)) {\n      return match[1] || match[0];\n    } else if (key.match(/Bottom$/)) {\n      return match[2] || match[0];\n    } else if (key.match(/Left$/)) {\n      return match[3] || match[1] || match[0];\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n  }\n\n  return value;\n};\n\nvar processFontWeight = function processFontWeight(key, value) {\n  if (!value) return FONT_WEIGHTS.normal;\n  if (typeof value === 'number') return value;\n  return FONT_WEIGHTS[value.toLowerCase()];\n};\n\nvar processObjectPosition = function processObjectPosition(key, value) {\n  var match = matchObjectPosition(value);\n\n  if (match) {\n    if (key.match(/X$/)) {\n      return match[0] || value;\n    } else if (key.match(/Y$/)) {\n      return match[1] || value;\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n  }\n\n  return value;\n};\n\nvar transformOffsetKeywords = function transformOffsetKeywords(value) {\n  switch (value) {\n    case 'top':\n    case 'left':\n      return '0%';\n\n    case 'right':\n    case 'bottom':\n      return '100%';\n\n    case 'center':\n      return '50%';\n\n    default:\n      return value;\n  }\n}; // Transforms shorthand transformOrigin values\n\n\nvar processTransformOrigin = function processTransformOrigin(key, value) {\n  var match = matchTransformOrigin(value);\n\n  if (match) {\n    var result;\n\n    if (key.match(/X$/)) {\n      result = match[0] || value;\n    } else if (key.match(/Y$/)) {\n      result = match[1] || match[0] || value;\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n\n    return transformOffsetKeywords(result);\n  }\n\n  return value;\n};\n\nvar processFlexGrow = function processFlexGrow(key, value) {\n  if (isNumber(value)) return value;\n  var matches = value.split(' ');\n  return matches[0];\n};\n\nvar processFlexShrink = function processFlexShrink(key, value) {\n  if (isNumber(value)) return value;\n  var matches = value.split(' ');\n  return matches[1];\n};\n\nvar processFlexBasis = function processFlexBasis(key, value) {\n  if (isNumber(value)) return value;\n  var matches = value.split(' ');\n  return matches[2];\n};\n\nvar keepSame = function keepSame(key, value) {\n  return value;\n};\n\nvar matchNumber = when(is(String), test(/^-?\\d*\\.?\\d*$/));\nvar castFloat = when(matchNumber, function (v) {\n  return parseFloat(v, 10);\n});\n/**\n * Transforms style key-value\n *\n * @param {String} key style key\n * @param {String} value style value\n * @returns {String | Number} transformed style values\n */\n\nvar transformStyle = compose(castFloat, cond([[isBorderStyle, processBorders], [isBoxModelStyle, processBoxModel], [isObjectPositionStyle, processObjectPosition], [isTransformOriginStyle, processTransformOrigin], [isFontWeightStyle, processFontWeight], [isFlexGrow, processFlexGrow], [isFlexShrink, processFlexShrink], [isFlexBasis, processFlexBasis], [T, keepSame]]));\n/**\n * Transforms already expanded styles shortcuts into appropiate values\n * Ex. marginTopWidth: '2 solid red' -> marginTopWidth: 2\n *\n * @param {Object} styles expanded object\n * @returns {Object} transformed styles\n */\n\nvar transformStyles = mapObjIndexed(flip(transformStyle));\n\nvar fetchFont = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(src, options) {\n    var response, buffer;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(src, options);\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return response.buffer ? response.buffer() : response.arrayBuffer();\n\n          case 5:\n            buffer = _context.sent;\n            return _context.abrupt(\"return\", buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchFont(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar FontSource = /*#__PURE__*/function () {\n  function FontSource(src, fontFamily, fontStyle, fontWeight, options) {\n    this.src = src;\n    this.fontFamily = fontFamily;\n    this.fontStyle = fontStyle || 'normal';\n    this.fontWeight = processFontWeight(fontWeight) || 400;\n    this.data = null;\n    this.loading = false;\n    this.options = options;\n  }\n\n  var _proto = FontSource.prototype;\n\n  _proto.load = /*#__PURE__*/function () {\n    var _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      var _this$options, headers, body, _this$options$method, method, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.loading = true;\n              _this$options = this.options, headers = _this$options.headers, body = _this$options.body, _this$options$method = _this$options.method, method = _this$options$method === void 0 ? 'GET' : _this$options$method;\n              _context2.next = 5;\n              return fetchFont(this.src, {\n                method: method,\n                body: body,\n                headers: headers\n              });\n\n            case 5:\n              data = _context2.sent;\n              this.data = fontkit.create(data);\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.next = 11;\n              return new Promise(function (resolve, reject) {\n                return fontkit.open(_this.src, function (err, data) {\n                  return err ? reject(err) : resolve(data);\n                });\n              });\n\n            case 11:\n              this.data = _context2.sent;\n\n            case 12:\n              this.loading = false;\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function load() {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }();\n\n  return FontSource;\n}();\n\nvar Font = /*#__PURE__*/function () {\n  Font.create = function create(family) {\n    return new Font(family);\n  };\n\n  function Font(family) {\n    this.family = family;\n    this.sources = [];\n  }\n\n  var _proto2 = Font.prototype;\n\n  _proto2.register = function register(_ref2) {\n    var src = _ref2.src,\n        fontWeight = _ref2.fontWeight,\n        fontStyle = _ref2.fontStyle,\n        options = _objectWithoutPropertiesLoose(_ref2, [\"src\", \"fontWeight\", \"fontStyle\"]);\n\n    this.sources.push(new FontSource(src, this.fontFamily, fontStyle, fontWeight, options));\n  };\n\n  _proto2.resolve = function resolve(descriptor) {\n    var _descriptor$fontWeigh = descriptor.fontWeight,\n        fontWeight = _descriptor$fontWeigh === void 0 ? 400 : _descriptor$fontWeigh,\n        _descriptor$fontStyle = descriptor.fontStyle,\n        fontStyle = _descriptor$fontStyle === void 0 ? 'normal' : _descriptor$fontStyle;\n    var styleSources = this.sources.filter(function (s) {\n      return s.fontStyle === fontStyle;\n    }); // Weight resolution. https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Fallback_weights\n\n    var exactFit = styleSources.find(function (s) {\n      return s.fontWeight === fontWeight;\n    });\n    if (exactFit) return exactFit;\n    var res;\n\n    if (fontWeight >= 400 && fontWeight <= 500) {\n      var leftOffset = styleSources.filter(function (s) {\n        return s.fontWeight <= fontWeight;\n      });\n      var rightOffset = styleSources.filter(function (s) {\n        return s.fontWeight > 500;\n      });\n      var fit = styleSources.filter(function (s) {\n        return s.fontWeight >= fontWeight && s.fontWeight < 500;\n      });\n      res = fit[0] || leftOffset[leftOffset.length - 1] || rightOffset[0];\n    }\n\n    var lt = styleSources.filter(function (s) {\n      return s.fontWeight < fontWeight;\n    });\n    var gt = styleSources.filter(function (s) {\n      return s.fontWeight > fontWeight;\n    });\n\n    if (fontWeight < 400) {\n      res = lt[lt.length - 1] || gt[0];\n    }\n\n    if (fontWeight > 500) {\n      res = gt[0] || lt[lt.length - 1];\n    }\n\n    if (!res) {\n      throw new Error(\"Could not resolve font for \" + this.fontFamily + \", fontWeight \" + fontWeight);\n    }\n\n    return res;\n  };\n\n  return Font;\n}();\n\nvar emojiSource;\n\nvar registerEmojiSource = function registerEmojiSource(_ref) {\n  var url = _ref.url,\n      _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'png' : _ref$format;\n  emojiSource = {\n    url: url,\n    format: format\n  };\n};\n\nvar getEmojiSource = function getEmojiSource() {\n  return emojiSource;\n};\n\nvar emoji = {\n  registerEmojiSource: registerEmojiSource,\n  getEmojiSource: getEmojiSource\n};\nvar standardFonts = ['Courier', 'Courier-Bold', 'Courier-Oblique', 'Helvetica', 'Helvetica-Bold', 'Helvetica-Oblique', 'Times-Roman', 'Times-Bold', 'Times-Italic'];\nvar hyphenationCallback;\n\nvar registerHyphenationCallback = function registerHyphenationCallback(callback) {\n  hyphenationCallback = callback;\n};\n\nvar getHyphenationCallback = function getHyphenationCallback() {\n  return hyphenationCallback;\n};\n\nvar hyphenation = {\n  registerHyphenationCallback: registerHyphenationCallback,\n  getHyphenationCallback: getHyphenationCallback\n};\nvar fonts = {};\n\nvar register = function register(data) {\n  var family = data.family;\n\n  if (!fonts[family]) {\n    fonts[family] = Font.create(family);\n  } // Bulk loading\n\n\n  if (data.fonts) {\n    for (var i = 0; i < data.fonts.length; i++) {\n      fonts[family].register(_extends({\n        family: family\n      }, data.fonts[i]));\n    }\n  } else {\n    fonts[family].register(data);\n  }\n};\n\nvar getRegisteredFonts = function getRegisteredFonts() {\n  return fonts;\n};\n\nvar getRegisteredFontFamilies = function getRegisteredFontFamilies() {\n  return Object.keys(fonts);\n};\n\nvar getFont = function getFont(descriptor) {\n  var fontFamily = descriptor.fontFamily;\n  var isStandard = standardFonts.includes(fontFamily);\n  if (isStandard) return null;\n\n  if (!fonts[fontFamily]) {\n    throw new Error(\"Font family not registered: \" + fontFamily + \". Please register it calling Font.register() method.\");\n  }\n\n  return fonts[fontFamily].resolve(descriptor);\n};\n\nvar load = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(descriptor) {\n    var fontFamily, isStandard, font;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fontFamily = descriptor.fontFamily;\n            isStandard = standardFonts.includes(fontFamily);\n\n            if (!isStandard) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 4:\n            font = getFont(descriptor); // We cache the font to avoid fetching it many times\n\n            if (!(!font.data && !font.loading)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 8;\n            return font.load();\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function load(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar reset = function reset() {\n  for (var _font in fonts) {\n    if (fonts.hasOwnProperty(_font)) {\n      fonts[_font].data = null;\n    }\n  }\n};\n\nvar clear = function clear() {\n  fonts = {};\n};\n\nvar Font$1 = _extends({\n  register: register,\n  getRegisteredFonts: getRegisteredFonts,\n  getRegisteredFontFamilies: getRegisteredFontFamilies,\n  getFont: getFont,\n  load: load,\n  clear: clear,\n  reset: reset\n}, emoji, hyphenation);\n\nvar save = function save(ctx, node) {\n  ctx.save();\n  return node;\n};\n\nvar save$1 = curryN(2, save);\nvar PROTOCOL_REGEXP = /^([a-z]+\\:(\\/\\/)?)/i;\nvar DEST_REGEXP = /^#.+/;\n/**\n * Add protocol th URL if valid\n *\n * @param {String} value url\n * @returns {String} corrected url\n */\n\nvar getURL = function getURL(value) {\n  if (!value) return '';\n  if (isSrcId(value)) return value; // don't modify it if it is an id\n\n  if (typeof value === 'string' && !value.match(PROTOCOL_REGEXP)) {\n    return \"http://\" + value;\n  }\n\n  return value;\n};\n\nvar isSrcId = function isSrcId(src) {\n  return src.match(DEST_REGEXP);\n};\n\nvar DEST_REGEXP$1 = /^#.+/;\nvar isSrcId$1 = test(DEST_REGEXP$1);\nvar getSource = compose(either(path(['props', 'src']), path(['props', 'href'])));\n\nvar setLink = function setLink(ctx, node) {\n  var _node$box = node.box,\n      top = _node$box.top,\n      left = _node$box.left,\n      width = _node$box.width,\n      height = _node$box.height;\n  var src = getSource(node);\n  var instanceMethod = isSrcId$1(src) ? 'goTo' : 'link';\n  var value = isSrcId$1(src) ? src.slice(1) : getURL(src);\n\n  if (value) {\n    ctx[instanceMethod](left, top, width, height, value);\n  }\n\n  return node;\n};\n\nvar setLink$1 = curryN(2, setLink);\n\nvar restore = function restore(ctx, node) {\n  ctx.restore();\n  return node;\n};\n\nvar restore$1 = curryN(2, restore);\n/**\n * Checks if node is svg\n *\n * @param {Object} node\n * @returns {Boolean} is node svg?\n */\n\nvar isSvg = propEq('type', SVG);\n/**\n * Checks if node is text\n *\n * @param {Object} node\n * @returns {Boolean} is node text?\n */\n\nvar isText = propEq('type', TEXT);\n/**\n * Checks if node is page\n *\n * @param {Object} node\n * @returns {Boolean} is node page?\n */\n\nvar isPage = propEq('type', PAGE);\n/**\n * Checks if node has valid source prop\n *\n * @param {Object} node\n * @returns {Boolean} does node have source prop?\n */\n\nvar hasSource = either(hasPath(['props', 'src']), hasPath(['props', 'href']));\n/**\n * Checks if node is link\n *\n * @param {Object} node\n * @returns {Boolean} is node link?\n */\n\nvar isLink = either(propEq('type', LINK), both(propEq('type', TEXT), hasSource));\n/**\n * Checks if node is note\n *\n * @param {Object} node\n * @returns {Boolean} is node note?\n */\n\nvar isNote = propEq('type', NOTE);\n/**\n * Checks if node is image\n *\n * @param {Object} node\n * @returns {Boolean} is node image?\n */\n\nvar isImage = propEq('type', IMAGE);\n/**\n * Checks if node is canvas\n *\n * @param {Object} node\n * @returns {Boolean} is node canvas?\n */\n\nvar isCanvas = propEq('type', CANVAS); // Bezier curve.\n\nvar KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nvar clipNode = function clipNode(ctx, node) {\n  var _node$box = node.box,\n      top = _node$box.top,\n      left = _node$box.left,\n      width = _node$box.width,\n      height = _node$box.height;\n  var _node$style = node.style,\n      _node$style$borderTop = _node$style.borderTopLeftRadius,\n      borderTopLeftRadius = _node$style$borderTop === void 0 ? 0 : _node$style$borderTop,\n      _node$style$borderTop2 = _node$style.borderTopRightRadius,\n      borderTopRightRadius = _node$style$borderTop2 === void 0 ? 0 : _node$style$borderTop2,\n      _node$style$borderBot = _node$style.borderBottomRightRadius,\n      borderBottomRightRadius = _node$style$borderBot === void 0 ? 0 : _node$style$borderBot,\n      _node$style$borderBot2 = _node$style.borderBottomLeftRadius,\n      borderBottomLeftRadius = _node$style$borderBot2 === void 0 ? 0 : _node$style$borderBot2; // Border top\n\n  var rtr = Math.min(borderTopRightRadius, 0.5 * width, 0.5 * height);\n  var ctr = rtr * (1.0 - KAPPA);\n  ctx.moveTo(left + rtr, top);\n  ctx.lineTo(left + width - rtr, top);\n  ctx.bezierCurveTo(left + width - ctr, top, left + width, top + ctr, left + width, top + rtr); // Border right\n\n  var rbr = Math.min(borderBottomRightRadius, 0.5 * width, 0.5 * height);\n  var cbr = rbr * (1.0 - KAPPA);\n  ctx.lineTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(left + width, top + height - cbr, left + width - cbr, top + height, left + width - rbr, top + height); // Border bottom\n\n  var rbl = Math.min(borderBottomLeftRadius, 0.5 * width, 0.5 * height);\n  var cbl = rbl * (1.0 - KAPPA);\n  ctx.lineTo(left + rbl, top + height);\n  ctx.bezierCurveTo(left + cbl, top + height, left, top + height - cbl, left, top + height - rbl); // Border left\n\n  var rtl = Math.min(borderTopLeftRadius, 0.5 * width, 0.5 * height);\n  var ctl = rtl * (1.0 - KAPPA);\n  ctx.lineTo(left, top + rtl);\n  ctx.bezierCurveTo(left, top + ctl, left + ctl, top, left + rtl, top);\n  ctx.closePath();\n  ctx.clip();\n  return node;\n};\n\nvar clipNode$1 = curryN(2, clipNode);\n\nvar renderPath = function renderPath(ctx) {\n  return tap(function (node) {\n    var d = path(['props', 'd'], node);\n    if (d) ctx.path(node.props.d);\n  });\n};\n\nvar KAPPA$1 = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nvar getProp = function getProp(d, p, v) {\n  return pathOr(d, ['props', p], v);\n};\n\nvar renderRect = function renderRect(ctx) {\n  return function (node) {\n    var x = getProp(0, 'x', node);\n    var y = getProp(0, 'y', node);\n    var rx = getProp(0, 'rx', node);\n    var ry = getProp(0, 'ry', node);\n    var width = getProp(0, 'width', node);\n    var height = getProp(0, 'height', node);\n    if (!width || !height) return node;\n\n    if (rx && ry) {\n      var krx = rx * KAPPA$1;\n      var kry = ry * KAPPA$1;\n      ctx.moveTo(x + rx, y);\n      ctx.lineTo(x - rx + width, y);\n      ctx.bezierCurveTo(x - rx + width + krx, y, x + width, y + ry - kry, x + width, y + ry);\n      ctx.lineTo(x + width, y + height - ry);\n      ctx.bezierCurveTo(x + width, y + height - ry + kry, x - rx + width + krx, y + height, x - rx + width, y + height);\n      ctx.lineTo(x + rx, y + height);\n      ctx.bezierCurveTo(x + rx - krx, y + height, x, y + height - ry + kry, x, y + height - ry);\n      ctx.lineTo(x, y + ry);\n      ctx.bezierCurveTo(x, y + ry - kry, x + rx - krx, y, x + rx, y);\n    } else {\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + width, y);\n      ctx.lineTo(x + width, y + height);\n      ctx.lineTo(x, y + height);\n    }\n\n    ctx.closePath();\n    return node;\n  };\n};\n\nvar getProp$1 = function getProp(p, v) {\n  return path(['props', p], v);\n};\n\nvar renderLine = function renderLine(ctx) {\n  return function (node) {\n    var x1 = getProp$1('x1', node);\n    var y1 = getProp$1('y1', node);\n    var x2 = getProp$1('x2', node);\n    var y2 = getProp$1('y2', node);\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    return node;\n  };\n};\n\nvar KAPPA$2 = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nvar getProp$2 = function getProp(p, v) {\n  return path(['props', p], v);\n};\n\nvar drawEllipse = function drawEllipse(ctx, cx, cy, rx, ry) {\n  var x = cx - rx;\n  var y = cy - ry;\n  var ox = rx * KAPPA$2;\n  var oy = ry * KAPPA$2;\n  var xe = x + rx * 2;\n  var ye = y + ry * 2;\n  var xm = x + rx;\n  var ym = y + ry;\n  ctx.moveTo(x, ym);\n  ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n  ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n  ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n  ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n  ctx.closePath();\n};\n\nvar renderEllipse = function renderEllipse(ctx) {\n  return tap(function (node) {\n    var cx = getProp$2('cx', node);\n    var cy = getProp$2('cy', node);\n    var rx = getProp$2('rx', node);\n    var ry = getProp$2('ry', node);\n    drawEllipse(ctx, cx, cy, rx, ry);\n  });\n};\n\nvar getProp$3 = function getProp(p, v) {\n  return path(['props', p], v);\n};\n\nvar renderCircle = function renderCircle(ctx) {\n  return tap(function (node) {\n    var cx = getProp$3('cx', node);\n    var cy = getProp$3('cy', node);\n    var r = getProp$3('r', node);\n    drawEllipse(ctx, cx, cy, r, r);\n  });\n};\n\nvar renderRun = function renderRun(ctx, run) {\n  var runAdvanceWidth = runWidth(run);\n  var _run$attributes = run.attributes,\n      font = _run$attributes.font,\n      fontSize = _run$attributes.fontSize,\n      color = _run$attributes.color,\n      opacity = _run$attributes.opacity;\n  ctx.fillColor(color);\n  ctx.fillOpacity(opacity);\n\n  if (font.sbix || font.COLR && font.CPAL) {\n    ctx.save();\n    ctx.translate(0, -run.ascent);\n\n    for (var i = 0; i < run.glyphs.length; i++) {\n      var position = run.positions[i];\n      var glyph = run.glyphs[i];\n      ctx.save();\n      ctx.translate(position.xOffset, position.yOffset);\n      glyph.render(ctx, fontSize);\n      ctx.restore();\n      ctx.translate(position.xAdvance, position.yAdvance);\n    }\n\n    ctx.restore();\n  } else {\n    ctx.font(typeof font.name === 'string' ? font.name : font, fontSize);\n\n    try {\n      ctx._addGlyphs(run.glyphs, run.positions, 0, 0);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  ctx.translate(runAdvanceWidth, 0);\n};\n\nvar renderSpan = function renderSpan(ctx, line, textAnchor) {\n  ctx.save();\n  var x = pathOr(0, ['box', 'x'], line);\n  var y = pathOr(0, ['box', 'y'], line);\n  var width = lineWidth(line);\n\n  switch (textAnchor) {\n    case 'middle':\n      ctx.translate(x - width / 2, y);\n      break;\n\n    case 'end':\n      ctx.translate(x - width, y);\n      break;\n\n    default:\n      ctx.translate(x, y);\n      break;\n  }\n\n  for (var _iterator = line.runs, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var run = _ref;\n    renderRun(ctx, run);\n  }\n\n  ctx.restore();\n};\n\nvar renderSvgText = function renderSvgText(ctx) {\n  return function (node) {\n    for (var _iterator2 = node.children, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var span = _ref2;\n      renderSpan(ctx, span.lines[0], span.props.textAnchor);\n    }\n\n    return node;\n  };\n};\n\nvar isOdd = function isOdd(x) {\n  return x % 2 !== 0;\n};\n\nvar lengthIsOdd = o(isOdd, prop('length'));\nvar parsePoints = compose(splitEvery(2), map(parseFloat), when(lengthIsOdd, slice(0, -1)), split$1(/\\s+/), replace(/(\\d)-(\\d)/g, '$1 -$2'), replace(/,/g, ' '), trim);\n\nvar drawPolyline = function drawPolyline(ctx) {\n  return function (points) {\n    if (points.length > 0) {\n      ctx.moveTo(points[0][0], points[0][1]);\n      points.slice(1).forEach(function (p) {\n        return ctx.lineTo(p[0], p[1]);\n      });\n    }\n  };\n};\n\nvar renderPolyline = function renderPolyline(ctx) {\n  return tap(compose(drawPolyline(ctx), parsePoints, pathOr('', ['props', 'points'])));\n};\n\nvar closePath = function closePath(ctx) {\n  return tap(function () {\n    return ctx.closePath();\n  });\n};\n\nvar renderPolygon = function renderPolygon(ctx) {\n  return compose(closePath(ctx), renderPolyline(ctx));\n};\n\nfunction printWarning(format) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  var argIndex = 0;\n  var message = 'Warning: ' + format.replace(/%s/g, function () {\n    return args[argIndex++];\n  });\n\n  if (typeof console !== 'undefined') {\n    console.error(message);\n  }\n\n  try {\n    throw new Error(message);\n  } catch (x) {}\n}\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = __DEV__ ? function (condition, format) {\n  if (format === undefined) {\n    throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n  }\n\n  if (!condition) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    printWarning.apply(void 0, [format].concat(args));\n  }\n} : function () {};\n\nvar drawImage = function drawImage(ctx) {\n  return function (node) {\n    var _node$props = node.props,\n        x = _node$props.x,\n        y = _node$props.y;\n    var _node$style = node.style,\n        width = _node$style.width,\n        height = _node$style.height,\n        opacity = _node$style.opacity;\n    var paddingTop = node.box.paddingLeft || 0;\n    var paddingLeft = node.box.paddingLeft || 0;\n\n    if (node.image.data) {\n      if (width !== 0 && height !== 0) {\n        ctx.fillOpacity(opacity || 1).image(node.image.data, x + paddingLeft, y + paddingTop, {\n          width: width,\n          height: height\n        });\n      } else {\n        warning(false, \"Image with src '\" + node.props.href + \"' skipped due to invalid dimensions\");\n      }\n    }\n\n    return node;\n  };\n};\n\nvar renderImage = function renderImage(ctx, node) {\n  compose(restore$1(ctx), drawImage(ctx), save$1(ctx))(node);\n  return node;\n};\n\nvar renderSvgImage = curryN(2, renderImage);\n\nvar getRotation = function getRotation(transform) {\n  var match = /rotate\\((-?\\d+.?\\d+)(.+)\\)/g.exec(transform);\n\n  if (match && match[1] && match[2]) {\n    var value = match[1];\n    return match[2] === 'rad' ? value * 180 / Math.PI : value;\n  }\n\n  return 0;\n};\n\nvar getTranslateX = function getTranslateX(transform) {\n  var matchX = /translateX\\((-?\\d+\\.?d*)\\)/g.exec(transform);\n  var matchGeneric = /translate\\((-?\\d+\\.?d*).*(,|\\s)\\s*(-?\\d+\\.?d*).*\\)/g.exec(transform);\n  if (matchX && matchX[1]) return matchX[1];\n  if (matchGeneric && matchGeneric[1]) return matchGeneric[1];\n  return 0;\n};\n\nvar getTranslateY = function getTranslateY(transform) {\n  var matchY = /translateY\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  var matchGeneric = /translate\\((-?\\d+\\.?\\d*).*(,|\\s)\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(transform);\n  if (matchY && matchY[1]) return matchY[1];\n  if (matchGeneric && matchGeneric[3]) return matchGeneric[3];\n  return 0;\n};\n\nvar getScaleX = function getScaleX(transform) {\n  var matchX = /scaleX\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  var matchGeneric = /scale\\((-?\\d+\\.?\\d*).*,?\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(transform);\n  if (matchX && matchX[1]) return matchX[1];\n  if (matchGeneric && matchGeneric[1]) return matchGeneric[1];\n  return 1;\n};\n\nvar getScaleY = function getScaleY(transform) {\n  var matchY = /scaleY\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  var matchGeneric = /scale\\((-?\\d+\\.?\\d*).*,?\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(transform);\n  if (matchY && matchY[1]) return matchY[1];\n  if (matchGeneric && matchGeneric[2]) return matchGeneric[2];\n  return 1;\n};\n\nvar getMatrix = function getMatrix(transform) {\n  var match = /matrix\\(([^,]+),([^,]+),([^,]+),([^,]+),([^,]+),([^,]+)\\)/g.exec(transform);\n  if (match) return match.slice(1, 7);\n  return null;\n};\n\nvar applySingleTransformation = function applySingleTransformation(ctx, transform, origin) {\n  if (/rotate/g.test(transform)) {\n    ctx.rotate(getRotation(transform), {\n      origin: origin\n    });\n  } else if (/scaleX/g.test(transform)) {\n    ctx.scale(getScaleX(transform), 1, {\n      origin: origin\n    });\n  } else if (/scaleY/g.test(transform)) {\n    ctx.scale(1, getScaleY(transform), {\n      origin: origin\n    });\n  } else if (/scale/g.test(transform)) {\n    ctx.scale(getScaleX(transform), getScaleY(transform), {\n      origin: origin\n    });\n  } else if (/translateX/g.test(transform)) {\n    ctx.translate(getTranslateX(transform), 1, {\n      origin: origin\n    });\n  } else if (/translateY/g.test(transform)) {\n    ctx.translate(1, getTranslateY(transform), {\n      origin: origin\n    });\n  } else if (/translate/g.test(transform)) {\n    ctx.translate(getTranslateX(transform), getTranslateY(transform), {\n      origin: origin\n    });\n  } else if (/matrix/g.test(transform)) {\n    ctx.transform.apply(ctx, getMatrix(transform));\n  }\n};\n\nvar applyTransformations = function applyTransformations(ctx, node) {\n  if (!node.origin) return node;\n  var match;\n  var re = /[a-zA-Z]+\\([^)]+\\)/g;\n  var origin = [node.origin.left, node.origin.top];\n  var transform = node.style && node.style.transform || node.props && node.props.transform || '';\n\n  while ((match = re.exec(transform)) != null) {\n    applySingleTransformation(ctx, match[0], origin);\n  }\n\n  return node;\n};\n\nvar applyTransformations$1 = curryN(2, applyTransformations);\n/**\n * Checks if node is path\n *\n * @param {Object} node\n * @returns {Boolean} is node path?\n */\n\nvar isPath = propEq('type', PATH);\n/**\n * Checks if node is rect\n *\n * @param {Object} node\n * @returns {Boolean} is node rect?\n */\n\nvar isRect = propEq('type', RECT);\n/**\n * Checks if node is line\n *\n * @param {Object} node\n * @returns {Boolean} is node line?\n */\n\nvar isLine = propEq('type', LINE);\n/**\n * Checks if node is tspan\n *\n * @param {Object} node\n * @returns {Boolean} is node tspan?\n */\n\nvar isTspan = propEq('type', TSPAN);\n/**\n * Checks if node is group\n *\n * @param {Object} node\n * @returns {Boolean} is node group?\n */\n\nvar isGroup = propEq('type', GROUP);\n/**\n * Checks if node is circle\n *\n * @param {Object} node\n * @returns {Boolean} is node circle?\n */\n\nvar isCircle = propEq('type', CIRCLE);\n/**\n * Checks if node is text intance\n *\n * @param {Object} node\n * @returns {Boolean} is node text intance?\n */\n\nvar isTextInstance = propEq('type', TEXT_INSTANCE);\n\nvar renderGroup = function renderGroup() {\n  return identity;\n};\n/**\n * Checks if node is ellipse\n *\n * @param {Object} node\n * @returns {Boolean} is node ellipse?\n */\n\n\nvar isEllipse = propEq('type', ELLIPSE);\n/**\n * Checks if node is polygon\n *\n * @param {Object} node\n * @returns {Boolean} is node polygon?\n */\n\nvar isPolygon = propEq('type', POLYGON);\n/**\n * Checks if node is polyline\n *\n * @param {Object} node\n * @returns {Boolean} is node polyline?\n */\n\nvar isPolyline = propEq('type', POLYLINE); // Copied here because an import issue with 'svg-arc-to-cubic-bezier'\n\nvar normalizePath = function normalizePath(path) {\n  var result = [];\n  var prev;\n  var bezierX = 0;\n  var bezierY = 0;\n  var startX = 0;\n  var startY = 0;\n  var quadX = null;\n  var quadY = null;\n  var x = 0;\n  var y = 0;\n\n  for (var i = 0, len = path.length; i < len; i++) {\n    var seg = path[i];\n    var command = seg[0];\n\n    switch (command) {\n      case 'M':\n        startX = seg[1];\n        startY = seg[2];\n        break;\n\n      case 'A':\n        var curves = arcToCurve({\n          px: x,\n          py: y,\n          cx: seg[6],\n          cy: seg[7],\n          rx: seg[1],\n          ry: seg[2],\n          xAxisRotation: seg[3],\n          largeArcFlag: seg[4],\n          sweepFlag: seg[5]\n        }); // null-curves\n\n        if (!curves.length) continue;\n\n        for (var j = 0, c; j < curves.length; j++) {\n          c = curves[j];\n          seg = ['C', c.x1, c.y1, c.x2, c.y2, c.x, c.y];\n          if (j < curves.length - 1) result.push(seg);\n        }\n\n        break;\n\n      case 'S':\n        // default control point\n        var cx = x;\n        var cy = y;\n\n        if (prev === 'C' || prev === 'S') {\n          cx += cx - bezierX; // reflect the previous command's control\n\n          cy += cy - bezierY; // point relative to the current point\n        }\n\n        seg = ['C', cx, cy, seg[1], seg[2], seg[3], seg[4]];\n        break;\n\n      case 'T':\n        if (prev === 'Q' || prev === 'T') {\n          quadX = x * 2 - quadX; // as with 'S' reflect previous control point\n\n          quadY = y * 2 - quadY;\n        } else {\n          quadX = x;\n          quadY = y;\n        }\n\n        seg = quadratic(x, y, quadX, quadY, seg[1], seg[2]);\n        break;\n\n      case 'Q':\n        quadX = seg[1];\n        quadY = seg[2];\n        seg = quadratic(x, y, seg[1], seg[2], seg[3], seg[4]);\n        break;\n\n      case 'L':\n        seg = line(x, y, seg[1], seg[2]);\n        break;\n\n      case 'H':\n        seg = line(x, y, seg[1], y);\n        break;\n\n      case 'V':\n        seg = line(x, y, x, seg[1]);\n        break;\n\n      case 'Z':\n        seg = line(x, y, startX, startY);\n        break;\n\n      default:\n        break;\n    } // update state\n\n\n    prev = command;\n    x = seg[seg.length - 2];\n    y = seg[seg.length - 1];\n\n    if (seg.length > 4) {\n      bezierX = seg[seg.length - 4];\n      bezierY = seg[seg.length - 3];\n    } else {\n      bezierX = x;\n      bezierY = y;\n    }\n\n    result.push(seg);\n  }\n\n  return result;\n};\n\nvar line = function line(x1, y1, x2, y2) {\n  return ['C', x1, y1, x2, y2, x2, y2];\n};\n\nvar quadratic = function quadratic(x1, y1, cx, cy, x2, y2) {\n  return ['C', x1 / 3 + 2 / 3 * cx, y1 / 3 + 2 / 3 * cy, x2 / 3 + 2 / 3 * cx, y2 / 3 + 2 / 3 * cy, x2, y2];\n};\n\nvar getPathBoundingBox = function getPathBoundingBox(node) {\n  var path = compose(normalizePath, absPath, parsePath, pathOr('', ['props', 'd']))(node);\n  if (!path.length) return [0, 0, 0, 0];\n  var bounds = [Infinity, Infinity, -Infinity, -Infinity];\n\n  for (var i = 0, l = path.length; i < l; i++) {\n    var points = path[i].slice(1);\n\n    for (var j = 0; j < points.length; j += 2) {\n      if (points[j + 0] < bounds[0]) bounds[0] = points[j + 0];\n      if (points[j + 1] < bounds[1]) bounds[1] = points[j + 1];\n      if (points[j + 0] > bounds[2]) bounds[2] = points[j + 0];\n      if (points[j + 1] > bounds[3]) bounds[3] = points[j + 1];\n    }\n  }\n\n  return bounds;\n};\n\nvar getCircleBoundingBox = function getCircleBoundingBox(node) {\n  var r = pathOr(0, ['props', 'r'], node);\n  var cx = pathOr(0, ['props', 'cx'], node);\n  var cy = pathOr(0, ['props', 'cy'], node);\n  return [cx - r, cy - r, cx + r, cy + r];\n};\n\nvar getEllipseBoundingBox = function getEllipseBoundingBox(node) {\n  var cx = pathOr(0, ['props', 'cx'], node);\n  var cy = pathOr(0, ['props', 'cy'], node);\n  var rx = pathOr(0, ['props', 'rx'], node);\n  var ry = pathOr(0, ['props', 'ry'], node);\n  return [cx - rx, cy - ry, cx + rx, cy + ry];\n};\n\nvar getLineBoundingBox = function getLineBoundingBox(node) {\n  var x1 = pathOr(0, ['props', 'x1'], node);\n  var y1 = pathOr(0, ['props', 'y1'], node);\n  var x2 = pathOr(0, ['props', 'x2'], node);\n  var y2 = pathOr(0, ['props', 'y2'], node);\n  return [min$1(x1, x2), min$1(y1, y2), max$1(x1, x2), max$1(y1, y2)];\n};\n\nvar getRectBoundingBox = function getRectBoundingBox(node) {\n  var x = pathOr(0, ['props', 'x'], node);\n  var y = pathOr(0, ['props', 'y'], node);\n  var width = pathOr(0, ['props', 'width'], node);\n  var height = pathOr(0, ['props', 'height'], node);\n  return [x, y, x + width, y + height];\n};\n\nvar max = reduce(max$1, -Infinity);\nvar min = reduce(min$1, Infinity);\n\nvar getPolylineBoundingBox = function getPolylineBoundingBox(node) {\n  var points = compose(parsePoints, pathOr([], ['props', 'points']))(node);\n  var xValues = pluck(0, points);\n  var yValues = pluck(1, points);\n  return [min(xValues), min(yValues), max(xValues), max(yValues)];\n};\n\nvar getBoundingBox = cond([[isRect, getRectBoundingBox], [isLine, getLineBoundingBox], [isPath, getPathBoundingBox], [isCircle, getCircleBoundingBox], [isEllipse, getEllipseBoundingBox], [isPolygon, getPolylineBoundingBox], [isPolyline, getPolylineBoundingBox], [T, always([0, 0, 0, 0])]]);\nvar warnUnsupportedNode = tap(function (node) {\n  console.warn(\"SVG node of type \" + node.type + \" is not currenty supported\");\n});\n\nvar getProp$4 = function getProp(d, p, v) {\n  return pathOr(d, ['props', p], v);\n};\n\nvar setStrokeWidth = function setStrokeWidth(ctx) {\n  return function (node) {\n    var lineWidth = getProp$4(0, 'strokeWidth', node);\n    if (lineWidth) ctx.lineWidth(lineWidth);\n    return node;\n  };\n};\n\nvar setStrokeColor = function setStrokeColor(ctx) {\n  return function (node) {\n    var strokeColor = getProp$4(null, 'stroke', node);\n    if (strokeColor) ctx.strokeColor(strokeColor);\n    return node;\n  };\n};\n\nvar setOpacity = function setOpacity(ctx) {\n  return function (node) {\n    var opacity = getProp$4(null, 'opacity', node);\n    if (opacity) ctx.opacity(opacity);\n    return node;\n  };\n};\n\nvar setFillOpacity = function setFillOpacity(ctx) {\n  return function (node) {\n    var fillOpacity = getProp$4(null, 'fillOpacity', node);\n    if (fillOpacity) ctx.fillOpacity(fillOpacity);\n    return node;\n  };\n};\n\nvar setStrokeOpacity = function setStrokeOpacity(ctx) {\n  return function (node) {\n    var strokeOpacity = getProp$4(null, 'strokeOpacity', node);\n    if (strokeOpacity) ctx.strokeOpacity(strokeOpacity);\n    return node;\n  };\n};\n\nvar setLineJoin = function setLineJoin(ctx) {\n  return function (node) {\n    var lineJoin = getProp$4(null, 'strokeLinejoin', node);\n    if (lineJoin) ctx.lineJoin(lineJoin);\n    return node;\n  };\n};\n\nvar setLineCap = function setLineCap(ctx) {\n  return function (node) {\n    var lineCap = getProp$4(null, 'strokeLinecap', node);\n    if (lineCap) ctx.lineCap(lineCap);\n    return node;\n  };\n};\n\nvar setLineDash = function setLineDash(ctx) {\n  return function (node) {\n    var value = getProp$4(null, 'strokeDasharray', node);\n\n    if (value) {\n      var dashArray = compose(map(o(parseFloat, trim)), split$1(','))(value);\n      ctx.dash(dashArray[0], {\n        space: dashArray[1]\n      });\n    }\n\n    return node;\n  };\n};\n\nvar hasLinearGradientFill = pathEq(['props', 'fill', 'type'], LINEAR_GRADIENT);\nvar hasRadialGradientFill = pathEq(['props', 'fill', 'type'], RADIAL_GRADIENT); // Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L104\n\nvar setLinearGradientFill = function setLinearGradientFill(ctx) {\n  return tap(function (node) {\n    var bbox = getBoundingBox(node);\n    var gradient = getProp$4(null, 'fill', node);\n    var x1 = pathOr(0, ['props', 'x1'], gradient);\n    var y1 = pathOr(0, ['props', 'y1'], gradient);\n    var x2 = pathOr(1, ['props', 'x2'], gradient);\n    var y2 = pathOr(0, ['props', 'y2'], gradient);\n    var m0 = bbox[2] - bbox[0];\n    var m3 = bbox[3] - bbox[1];\n    var m4 = bbox[0];\n    var m5 = bbox[1];\n    var gx1 = m0 * x1 + m4;\n    var gy1 = m3 * y1 + m5;\n    var gx2 = m0 * x2 + m4;\n    var gy2 = m3 * y2 + m5;\n    var grad = ctx.linearGradient(gx1, gy1, gx2, gy2);\n    gradient.children.forEach(function (stop) {\n      grad.stop(stop.props.offset, stop.props.stopColor, stop.props.stopOpacity);\n    });\n    ctx.fill(grad);\n  });\n}; // Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L155\n\n\nvar setRadialGradientFill = function setRadialGradientFill(ctx) {\n  return tap(function (node) {\n    var bbox = getBoundingBox(node);\n    var gradient = getProp$4(null, 'fill', node);\n    var cx = pathOr(0.5, ['props', 'cx'], gradient);\n    var cy = pathOr(0.5, ['props', 'cy'], gradient);\n    var fx = pathOr(cx, ['props', 'fx'], gradient);\n    var fy = pathOr(cy, ['props', 'fy'], gradient);\n    var r = pathOr(0.5, ['props', 'r'], gradient);\n    var m0 = bbox[2] - bbox[0];\n    var m3 = bbox[3] - bbox[1];\n    var m4 = bbox[0];\n    var m5 = bbox[1];\n    var gr = r * m0;\n    var gcx = m0 * cx + m4;\n    var gcy = m3 * cy + m5;\n    var gfx = m0 * fx + m4;\n    var gfy = m3 * fy + m5;\n    var grad = ctx.radialGradient(gfx, gfy, 0, gcx, gcy, gr);\n    gradient.children.forEach(function (stop) {\n      grad.stop(stop.props.offset, stop.props.stopColor, stop.props.stopOpacity);\n    });\n    ctx.fill(grad);\n  });\n};\n\nvar setFillColor = function setFillColor(ctx) {\n  return tap(function (node) {\n    var fillColor = getProp$4(null, 'fill', node);\n    if (fillColor) ctx.fillColor(fillColor);\n  });\n};\n\nvar setFill = function setFill(ctx) {\n  return cond([[hasLinearGradientFill, setLinearGradientFill(ctx)], [hasRadialGradientFill, setRadialGradientFill(ctx)], [T, setFillColor(ctx)]]);\n};\n\nvar draw = function draw(ctx) {\n  return function (node) {\n    var props = propOr({}, 'props', node);\n\n    if (props.fill && props.stroke) {\n      ctx.fillAndStroke(props.fillRule);\n    } else if (props.fill) {\n      ctx.fill(props.fillRule);\n    } else if (props.stroke) {\n      ctx.stroke();\n    } else {\n      ctx.save();\n      ctx.opacity(0);\n      ctx.fill(null);\n      ctx.restore();\n    }\n\n    return node;\n  };\n};\n\nvar renderNode = function renderNode(ctx) {\n  return cond([[isTspan, identity], [isTextInstance, identity], [isPath, renderPath(ctx)], [isRect, renderRect(ctx)], [isLine, renderLine(ctx)], [isGroup, renderGroup(ctx)], [isText, renderSvgText(ctx)], [isCircle, renderCircle(ctx)], [isImage, renderSvgImage(ctx)], [isEllipse, renderEllipse(ctx)], [isPolygon, renderPolygon(ctx)], [isPolyline, renderPolyline(ctx)], [T, warnUnsupportedNode]]);\n};\n\nvar drawNode = function drawNode(ctx) {\n  return compose(draw(ctx), renderNode(ctx), applyTransformations$1(ctx), setOpacity(ctx), setFillOpacity(ctx), setStrokeOpacity(ctx), setFill(ctx), setStrokeColor(ctx), setStrokeWidth(ctx), setLineJoin(ctx), setLineDash(ctx), setLineCap(ctx));\n};\n\nvar clipPath = function clipPath(ctx) {\n  return function (node) {\n    var value = path(['props', 'clipPath'], node);\n\n    if (value) {\n      compose(function () {\n        return ctx.clip();\n      }, forEach(renderNode(ctx)), propOr([], 'children'))(value);\n    }\n\n    return node;\n  };\n};\n\nvar drawChildren = function drawChildren(ctx) {\n  return function (node) {\n    return compose(map(compose(restore$1(ctx), drawChildren(ctx), drawNode(ctx), clipPath(ctx), save$1(ctx))), propOr([], 'children'))(node);\n  };\n};\n\nvar defaultsZero = pathOr(0);\n\nvar preserveAspectRatio = function preserveAspectRatio(ctx) {\n  return function (node) {\n    var _node$box = node.box,\n        width = _node$box.width,\n        height = _node$box.height;\n    var _node$props = node.props,\n        viewBox = _node$props.viewBox,\n        _node$props$preserveA = _node$props.preserveAspectRatio,\n        preserveAspectRatio = _node$props$preserveA === void 0 ? {} : _node$props$preserveA;\n    var _preserveAspectRatio$ = preserveAspectRatio.meetOrSlice,\n        meetOrSlice = _preserveAspectRatio$ === void 0 ? 'meet' : _preserveAspectRatio$,\n        _preserveAspectRatio$2 = preserveAspectRatio.align,\n        align = _preserveAspectRatio$2 === void 0 ? 'xMidYMid' : _preserveAspectRatio$2;\n    if (viewBox == null || width == null || height == null) return node;\n    var x = viewBox ? viewBox.minX : 0;\n    var y = viewBox ? viewBox.minY : 0;\n    var logicalWidth = viewBox ? viewBox.maxX : width;\n    var logicalHeight = viewBox ? viewBox.maxY : height;\n    var logicalRatio = logicalWidth / logicalHeight;\n    var physicalRatio = width / height;\n    var scaleX = width / logicalWidth;\n    var scaleY = height / logicalHeight;\n\n    if (align === 'none') {\n      ctx.scale(scaleX, scaleY);\n      ctx.translate(-x, -y);\n      return node;\n    }\n\n    if (logicalRatio < physicalRatio && meetOrSlice === 'meet' || logicalRatio >= physicalRatio && meetOrSlice === 'slice') {\n      ctx.scale(scaleY, scaleY);\n\n      switch (align) {\n        case 'xMinYMin':\n        case 'xMinYMid':\n        case 'xMinYMax':\n          ctx.translate(-x, -y);\n          break;\n\n        case 'xMidYMin':\n        case 'xMidYMid':\n        case 'xMidYMax':\n          ctx.translate(-x - (logicalWidth - width * logicalHeight / height) / 2, -y);\n          break;\n\n        default:\n          ctx.translate(-x - (logicalWidth - width * logicalHeight / height), -y);\n      }\n    } else {\n      ctx.scale(scaleX, scaleX);\n\n      switch (align) {\n        case 'xMinYMin':\n        case 'xMidYMin':\n        case 'xMaxYMin':\n          ctx.translate(-x, -y);\n          break;\n\n        case 'xMinYMid':\n        case 'xMidYMid':\n        case 'xMaxYMid':\n          ctx.translate(-x, -y - (logicalHeight - height * logicalWidth / width) / 2);\n          break;\n\n        default:\n          ctx.translate(-x, -y - (logicalHeight - height * logicalWidth / width));\n      }\n    }\n\n    return node;\n  };\n};\n\nvar moveToOrigin = function moveToOrigin(ctx) {\n  return function (node) {\n    var _node$box2 = node.box,\n        top = _node$box2.top,\n        left = _node$box2.left;\n    var paddingLeft = defaultsZero('paddingLeft', node.box);\n    var paddingTop = defaultsZero('paddingTop', node.box);\n    ctx.translate(left + paddingLeft, top + paddingTop);\n    return node;\n  };\n};\n\nvar renderSvg = function renderSvg(ctx, node) {\n  compose(restore$1(ctx), drawChildren(ctx), preserveAspectRatio(ctx), moveToOrigin(ctx), clipNode$1(ctx), save$1(ctx))(node);\n  return node;\n};\n\nvar renderSvg$1 = curryN(2, renderSvg);\n\nvar renderText = function renderText(ctx, node) {\n  var _node$box = node.box,\n      top = _node$box.top,\n      left = _node$box.left;\n  var paddingTop = pathOr(0, ['box', 'paddingTop'], node);\n  var paddingLeft = pathOr(0, ['box', 'paddingLeft'], node);\n  var initialY = node.lines[0] ? node.lines[0].box.y : 0;\n  ctx.save();\n  ctx.translate(left + paddingLeft, top + paddingTop - initialY);\n  PDFRenderer.render(ctx, [node.lines]);\n  ctx.restore();\n  return node;\n};\n\nvar renderText$1 = curryN(2, renderText);\n\nvar renderPage = function renderPage(ctx, node) {\n  var _node$box = node.box,\n      width = _node$box.width,\n      height = _node$box.height;\n  ctx.addPage({\n    size: [width, height],\n    margin: 0\n  });\n  return node;\n};\n\nvar renderPage$1 = curryN(2, renderPage);\n\nvar renderNote = function renderNote(ctx, node) {\n  var _node$box = node.box,\n      top = _node$box.top,\n      left = _node$box.left;\n  var value = node.children[0] ? node.children[0].value : '';\n  ctx.note(left, top, 0, 0, value);\n  return node;\n};\n\nvar renderNote$1 = curryN(2, renderNote);\n\nvar isPercent = function isPercent(value) {\n  return /((-)?\\d+\\.?\\d*)%/g.exec(value);\n};\n/**\n * Get percentage value of input\n *\n * @param {String} value\n * @returns {Object} percent value (if matches)\n */\n\n\nvar matchPercent = function matchPercent(value) {\n  var match = isPercent(value);\n\n  if (match) {\n    var _value = parseFloat(match[1], 10);\n\n    var percent = _value / 100;\n    return {\n      value: _value,\n      percent: percent,\n      absValue: Math.abs(_value),\n      absPercent: Math.abs(percent)\n    };\n  }\n\n  return null;\n};\n\nvar isNumeric = function isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n};\n\nvar applyContainObjectFit = function applyContainObjectFit(cw, ch, iw, ih, px, py) {\n  var cr = cw / ch;\n  var ir = iw / ih;\n  var pxp = matchPercent(px);\n  var pyp = matchPercent(py);\n  var pxv = pxp ? pxp.percent : 0.5;\n  var pyv = pyp ? pyp.percent : 0.5;\n\n  if (cr > ir) {\n    var height = ch;\n    var width = height * ir;\n    var yOffset = isNumeric(py) ? py : 0;\n    var xOffset = isNumeric(px) ? px : (cw - width) * pxv;\n    return {\n      width: width,\n      height: height,\n      xOffset: xOffset,\n      yOffset: yOffset\n    };\n  } else {\n    var _width = cw;\n\n    var _height = _width / ir;\n\n    var _xOffset = isNumeric(px) ? px : 0;\n\n    var _yOffset = isNumeric(py) ? py : (ch - _height) * pyv;\n\n    return {\n      width: _width,\n      height: _height,\n      yOffset: _yOffset,\n      xOffset: _xOffset\n    };\n  }\n};\n\nvar applyNoneObjectFit = function applyNoneObjectFit(cw, ch, iw, ih, px, py) {\n  var width = iw;\n  var height = ih;\n  var pxp = matchPercent(px);\n  var pyp = matchPercent(py);\n  var pxv = pxp ? pxp.percent : 0.5;\n  var pyv = pyp ? pyp.percent : 0.5;\n  var xOffset = isNumeric(px) ? px : (cw - width) * pxv;\n  var yOffset = isNumeric(py) ? py : (ch - height) * pyv;\n  return {\n    width: width,\n    height: height,\n    xOffset: xOffset,\n    yOffset: yOffset\n  };\n};\n\nvar applyCoverObjectFit = function applyCoverObjectFit(cw, ch, iw, ih, px, py) {\n  var ir = iw / ih;\n  var cr = cw / ch;\n  var pxp = matchPercent(px);\n  var pyp = matchPercent(py);\n  var pxv = pxp ? pxp.percent : 0.5;\n  var pyv = pyp ? pyp.percent : 0.5;\n\n  if (cr > ir) {\n    var width = cw;\n    var height = width / ir;\n    var xOffset = isNumeric(px) ? px : 0;\n    var yOffset = isNumeric(py) ? py : (ch - height) * pyv;\n    return {\n      width: width,\n      height: height,\n      yOffset: yOffset,\n      xOffset: xOffset\n    };\n  } else {\n    var _height2 = ch;\n\n    var _width2 = _height2 * ir;\n\n    var _xOffset2 = isNumeric(px) ? px : (cw - _width2) * pxv;\n\n    var _yOffset2 = isNumeric(py) ? py : 0;\n\n    return {\n      width: _width2,\n      height: _height2,\n      xOffset: _xOffset2,\n      yOffset: _yOffset2\n    };\n  }\n};\n\nvar applyScaleDownObjectFit = function applyScaleDownObjectFit(cw, ch, iw, ih, px, py) {\n  var containDimension = applyContainObjectFit(cw, ch, iw, ih, px, py);\n  var noneDimension = applyNoneObjectFit(cw, ch, iw, ih, px, py);\n  return containDimension.width < noneDimension.width ? containDimension : noneDimension;\n};\n\nvar applyFillObjectFit = function applyFillObjectFit(cw, ch, px, py) {\n  return {\n    width: cw,\n    height: ch,\n    xOffset: matchPercent(px) ? 0 : px || 0,\n    yOffset: matchPercent(py) ? 0 : py || 0\n  };\n};\n\nvar resolveObjectFit = function resolveObjectFit(type, cw, ch, iw, ih, px, py) {\n  if (type === void 0) {\n    type = 'fill';\n  }\n\n  switch (type) {\n    case 'contain':\n      return applyContainObjectFit(cw, ch, iw, ih, px, py);\n\n    case 'cover':\n      return applyCoverObjectFit(cw, ch, iw, ih, px, py);\n\n    case 'none':\n      return applyNoneObjectFit(cw, ch, iw, ih, px, py);\n\n    case 'scale-down':\n      return applyScaleDownObjectFit(cw, ch, iw, ih, px, py);\n\n    default:\n      return applyFillObjectFit(cw, ch, px, py);\n  }\n};\n\nvar drawImage$1 = function drawImage(ctx) {\n  return function (node) {\n    var _node$box = node.box,\n        left = _node$box.left,\n        top = _node$box.top;\n    var _node$style = node.style,\n        opacity = _node$style.opacity,\n        objectPositionX = _node$style.objectPositionX,\n        objectPositionY = _node$style.objectPositionY;\n    var paddingTop = node.box.paddingLeft || 0;\n    var paddingRight = node.box.paddingRight || 0;\n    var paddingBottom = node.box.paddingBottom || 0;\n    var paddingLeft = node.box.paddingLeft || 0;\n\n    var _resolveObjectFit = resolveObjectFit(node.style.objectFit, node.box.width - paddingLeft - paddingRight, node.box.height - paddingTop - paddingBottom, node.image.width, node.image.height, objectPositionX, objectPositionY),\n        width = _resolveObjectFit.width,\n        height = _resolveObjectFit.height,\n        xOffset = _resolveObjectFit.xOffset,\n        yOffset = _resolveObjectFit.yOffset;\n\n    if (node.image.data) {\n      if (width !== 0 && height !== 0) {\n        ctx.fillOpacity(opacity || 1).image(node.image.data, left + paddingLeft + xOffset, top + paddingTop + yOffset, {\n          width: width,\n          height: height\n        });\n      } else {\n        warning(false, \"Image with src '\" + node.props.src + \"' skipped due to invalid dimensions\");\n      }\n    }\n\n    return node;\n  };\n};\n\nvar renderImage$1 = function renderImage(ctx, node) {\n  compose(restore$1(ctx), drawImage$1(ctx), clipNode$1(ctx), save$1(ctx))(node);\n  return node;\n};\n\nvar renderImage$2 = curryN(2, renderImage$1);\nvar availableMethods = ['dash', 'clip', 'save', 'path', 'fill', 'font', 'text', 'rect', 'scale', 'moveTo', 'lineTo', 'stroke', 'rotate', 'circle', 'lineCap', 'opacity', 'ellipse', 'polygon', 'restore', 'lineJoin', 'fontSize', 'fillColor', 'lineWidth', 'translate', 'miterLimit', 'strokeColor', 'fillOpacity', 'roundedRect', 'strokeOpacity', 'bezierCurveTo', 'quadraticCurveTo', 'linearGradient', 'radialGradient'];\n\nvar painter = function painter(ctx) {\n  var p = availableMethods.reduce(function (acc, prop) {\n    var _extends2;\n\n    return _extends({}, acc, (_extends2 = {}, _extends2[prop] = function () {\n      ctx[prop].apply(ctx, arguments);\n      return p;\n    }, _extends2));\n  }, {});\n  return p;\n};\n\nvar defaultsZero$1 = pathOr(0);\n\nvar renderCanvas = function renderCanvas(ctx, node) {\n  var _node$box = node.box,\n      top = _node$box.top,\n      left = _node$box.left,\n      width = _node$box.width,\n      height = _node$box.height;\n  var paddingLeft = defaultsZero$1('paddingLeft', node.box);\n  var paddingRight = defaultsZero$1('paddingRight', node.box);\n  var paddingTop = defaultsZero$1('paddingTop', node.box);\n  var paddingBottom = defaultsZero$1('paddingBottom', node.box);\n  var availableWidth = width - paddingLeft - paddingRight;\n  var availableHeight = height - paddingTop - paddingBottom;\n  warning(availableWidth && availableHeight, 'Canvas element has null width or height. Please provide valid values via the `style` prop in order to correctly render it.');\n  ctx.save().translate(left + paddingLeft, top + paddingTop);\n\n  if (node.props.paint) {\n    node.props.paint(painter(ctx), availableWidth, availableHeight);\n  }\n\n  ctx.restore();\n  return node;\n};\n\nvar renderCanvas$1 = curryN(2, renderCanvas);\n/**\n * Checks if page should render vertical ruler\n *\n * @param {Object} page\n * @returns {boolean} has vertical ruler\n */\n\nvar hasVerticalRuler = either(hasPath(['props', 'ruler']), hasPath(['props', 'verticalRuler']));\n/**\n * Checks if page should render horizontal ruler\n *\n * @param {Object} page\n * @returns {boolean} has horizontal ruler\n */\n\nvar hasHorizontalRuler = either(hasPath(['props', 'ruler']), hasPath(['props', 'horizontalRuler']));\n\nvar range = function range(max, steps) {\n  return Array.from({\n    length: Math.ceil(max / steps)\n  }, function (_, i) {\n    return i * steps;\n  });\n};\n\nvar matchPercentage = function matchPercentage(value) {\n  var match = matchPercent(value);\n  return match ? 100 / match.value : null;\n};\n\nvar getVerticalSteps = function getVerticalSteps(page) {\n  var value = page.props.horizontalRulerSteps || page.props.rulerSteps || DEFAULT_RULER_STEPS;\n\n  if (typeof value === 'string') {\n    var percentage = matchPercentage(value);\n\n    if (percentage) {\n      var width = page.box.width - (hasVerticalRuler(page) ? RULER_WIDTH : 0);\n      return width / percentage;\n    }\n\n    throw new Error('Page: Invalid horizontal steps value');\n  }\n\n  return value;\n};\n\nvar getHorizontalSteps = function getHorizontalSteps(page) {\n  var value = page.props.verticalRulerSteps || page.props.rulerSteps || DEFAULT_RULER_STEPS;\n\n  if (typeof value === 'string') {\n    var percentage = matchPercentage(value);\n\n    if (percentage) {\n      var height = page.box.height - (hasVerticalRuler(page) ? RULER_WIDTH : 0);\n      return height / percentage;\n    }\n\n    throw new Error('Page: Invalid horizontal steps value');\n  }\n\n  return value;\n};\n\nvar renderVerticalRuler = function renderVerticalRuler(ctx) {\n  return function (page) {\n    var width = page.box.width;\n    var height = page.box.height;\n    var offset = hasHorizontalRuler(page) ? RULER_WIDTH : 0;\n    var hRange = range(width, getVerticalSteps(page));\n    ctx.rect(offset, 0, width, RULER_WIDTH).fill(RULER_COLOR).moveTo(offset, RULER_WIDTH).lineTo(width, RULER_WIDTH).stroke(LINE_COLOR);\n    hRange.map(function (step) {\n      ctx.moveTo(offset + step, 0).lineTo(offset + step, RULER_WIDTH).stroke(LINE_COLOR).fillColor('black').text(\"\" + Math.round(step), offset + step + 1, 1);\n\n      if (step !== 0) {\n        ctx.moveTo(offset + step, RULER_WIDTH).lineTo(offset + step, height).stroke(GRID_COLOR);\n      }\n    });\n    return page;\n  };\n};\n\nvar renderHorizontalRuler = function renderHorizontalRuler(ctx) {\n  return function (page) {\n    var width = page.box.width;\n    var height = page.box.height;\n    var offset = hasVerticalRuler(page) ? RULER_WIDTH : 0;\n    var hRange = range(height, getHorizontalSteps(page));\n    ctx.rect(0, offset, RULER_WIDTH, height).fill(RULER_COLOR).moveTo(RULER_WIDTH, hasHorizontalRuler(page) ? RULER_WIDTH : 0).lineTo(RULER_WIDTH, height).stroke(LINE_COLOR);\n    hRange.map(function (step) {\n      ctx.moveTo(0, offset + step).lineTo(RULER_WIDTH, offset + step).stroke(LINE_COLOR).fillColor('black').text(\"\" + Math.round(step), 1, offset + step + 1);\n\n      if (step !== 0) {\n        ctx.moveTo(RULER_WIDTH, offset + step).lineTo(width, offset + step).stroke(GRID_COLOR);\n      }\n    });\n    return page;\n  };\n};\n\nvar renderRulers = function renderRulers(ctx, page) {\n  ctx.save().lineWidth(LINE_WIDTH).fontSize(RULER_FONT_SIZE).opacity(1);\n  compose(when(hasVerticalRuler, renderVerticalRuler(ctx)), when(hasHorizontalRuler, renderHorizontalRuler(ctx)))(page);\n  ctx.restore();\n  return page;\n};\n\nvar renderRulers$1 = curryN(2, renderRulers);\n\nvar getDocumentProp = function getDocumentProp(target) {\n  return function (or, prop) {\n    return pathOr(or, ['props', prop], target);\n  };\n};\n\nvar setPDFMetadata = function setPDFMetadata(target) {\n  return function (key, value) {\n    if (value) target.info[key] = value;\n  };\n};\n/**\n * Set document instance metadata\n *\n * @param {Object} ctx document instance\n * @param {Object} doc document root\n */\n\n\nvar addMetadata = function addMetadata(ctx, doc) {\n  var getProp = getDocumentProp(doc);\n  var setProp = setPDFMetadata(ctx);\n  var title = getProp(null, 'title');\n  var author = getProp(null, 'author');\n  var subject = getProp(null, 'subject');\n  var keywords = getProp(null, 'keywords');\n  var creator = getProp('react-pdf', 'creator');\n  var producer = getProp('react-pdf', 'producer');\n  setProp('Title', title);\n  setProp('Author', author);\n  setProp('Subject', subject);\n  setProp('Keywords', keywords);\n  setProp('Creator', creator);\n  setProp('Producer', producer);\n  return doc;\n};\n\nvar addMetadata$1 = curryN(2, addMetadata);\nvar CONTENT_COLOR = '#a1c6e7';\nvar PADDING_COLOR = '#c4deb9';\nvar MARGIN_COLOR = '#f8cca1';\nvar shouldDebug = pathEq(['props', 'debug'], true); // TODO: Draw debug boxes using clipping to enhance quality\n\nvar debugContent = function debugContent(ctx) {\n  return tap(function (node) {\n    var _node$box = node.box,\n        left = _node$box.left,\n        top = _node$box.top,\n        width = _node$box.width,\n        height = _node$box.height,\n        paddingLeft = _node$box.paddingLeft,\n        paddingTop = _node$box.paddingTop,\n        paddingRight = _node$box.paddingRight,\n        paddingBottom = _node$box.paddingBottom,\n        borderLeftWidth = _node$box.borderLeftWidth,\n        borderTopWidth = _node$box.borderTopWidth,\n        borderRightWidth = _node$box.borderRightWidth,\n        borderBottomWidth = _node$box.borderBottomWidth;\n    ctx.fillColor(CONTENT_COLOR).opacity(0.5).rect(left + paddingLeft + borderLeftWidth, top + paddingTop + borderTopWidth, width - paddingLeft - paddingRight - borderRightWidth - borderLeftWidth, height - paddingTop - paddingBottom - borderTopWidth - borderBottomWidth).fill();\n  });\n};\n\nvar debugPadding = function debugPadding(ctx) {\n  return tap(function (node) {\n    var _node$box2 = node.box,\n        left = _node$box2.left,\n        top = _node$box2.top,\n        width = _node$box2.width,\n        height = _node$box2.height,\n        paddingLeft = _node$box2.paddingLeft,\n        paddingTop = _node$box2.paddingTop,\n        paddingRight = _node$box2.paddingRight,\n        paddingBottom = _node$box2.paddingBottom,\n        borderLeftWidth = _node$box2.borderLeftWidth,\n        borderTopWidth = _node$box2.borderTopWidth,\n        borderRightWidth = _node$box2.borderRightWidth,\n        borderBottomWidth = _node$box2.borderBottomWidth;\n    ctx.fillColor(PADDING_COLOR).opacity(0.5); // Padding top\n\n    ctx.rect(left + paddingLeft + borderLeftWidth, top + borderTopWidth, width - paddingRight - paddingLeft - borderLeftWidth - borderRightWidth, paddingTop).fill(); // Padding left\n\n    ctx.rect(left + borderLeftWidth, top + borderTopWidth, paddingLeft, height - borderTopWidth - borderBottomWidth).fill(); // Padding right\n\n    ctx.rect(left + width - paddingRight - borderRightWidth, top + borderTopWidth, paddingRight, height - borderTopWidth - borderBottomWidth).fill(); // Padding bottom\n\n    ctx.rect(left + paddingLeft + borderLeftWidth, top + height - paddingBottom - borderBottomWidth, width - paddingRight - paddingLeft - borderLeftWidth - borderRightWidth, paddingBottom).fill();\n  });\n};\n\nvar debugMargin = function debugMargin(ctx) {\n  return tap(function (node) {\n    var _node$box3 = node.box,\n        left = _node$box3.left,\n        top = _node$box3.top,\n        width = _node$box3.width,\n        height = _node$box3.height,\n        marginLeft = _node$box3.marginLeft,\n        marginTop = _node$box3.marginTop,\n        marginRight = _node$box3.marginRight,\n        marginBottom = _node$box3.marginBottom;\n    ctx.fillColor(MARGIN_COLOR).opacity(0.5); // Margin top\n\n    ctx.rect(left, top - marginTop, width, marginTop).fill(); // Margin left\n\n    ctx.rect(left - marginLeft, top - marginTop, marginLeft, height + marginTop + marginBottom).fill(); // Margin right\n\n    ctx.rect(left + width, top - marginTop, marginRight, height + marginTop + marginBottom).fill(); // Margin bottom\n\n    ctx.rect(left, top + height, width, marginBottom).fill();\n  });\n};\n\nvar debugText = function debugText(ctx) {\n  return tap(function (node) {\n    var _node$box4 = node.box,\n        left = _node$box4.left,\n        top = _node$box4.top,\n        width = _node$box4.width,\n        height = _node$box4.height,\n        marginLeft = _node$box4.marginLeft,\n        marginTop = _node$box4.marginTop,\n        marginRight = _node$box4.marginRight,\n        marginBottom = _node$box4.marginBottom;\n    var roundedWidth = Math.round(width + marginLeft + marginRight);\n    var roundedHeight = Math.round(height + marginTop + marginBottom);\n    ctx.fontSize(4).opacity(1).fillColor('black').text(roundedWidth + \" x \" + roundedHeight, left - marginLeft, Math.max(top - marginTop - 4, 1));\n  });\n};\n\nvar debugOrigin = function debugOrigin(ctx) {\n  return tap(function (node) {\n    if (node.origin) {\n      ctx.circle(node.origin.left, node.origin.top, 3).fill('red').circle(node.origin.left, node.origin.top, 5).stroke('red');\n    }\n  });\n};\n\nvar renderDebug = function renderDebug(ctx) {\n  return tap(when(shouldDebug, compose(restore$1(ctx), debugOrigin(ctx), debugText(ctx), debugMargin(ctx), debugPadding(ctx), debugContent(ctx), save$1(ctx))));\n}; // This constant is used to approximate a symmetrical arc using a cubic Bezier curve.\n\n\nvar KAPPA$3 = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nvar clipBorderTop = function clipBorderTop(ctx, layout, style, rtr, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderTopWidth = style.borderTopWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth; // Clip outer top border edge\n\n  ctx.moveTo(left + rtl, top);\n  ctx.lineTo(left + width - rtr, top); // Ellipse coefficients outer top right cap\n\n  var c0 = rtr * (1.0 - KAPPA$3); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + width - c0, top, left + width, top + c0, left + width, top + rtr); // Move down in case the margin exceedes the radius\n\n  var topRightYCoord = top + Math.max(borderTopWidth, rtr);\n  ctx.lineTo(left + width, topRightYCoord); // Clip inner top right cap\n\n  ctx.lineTo(left + width - borderRightWidth, topRightYCoord); // Ellipse coefficients inner top right cap\n\n  var innerTopRightRadiusX = Math.max(rtr - borderRightWidth, 0);\n  var innerTopRightRadiusY = Math.max(rtr - borderTopWidth, 0);\n  var c1 = innerTopRightRadiusX * (1.0 - KAPPA$3);\n  var c2 = innerTopRightRadiusY * (1.0 - KAPPA$3); // Clip inner top right cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth, top + borderTopWidth + c2, left + width - borderRightWidth - c1, top + borderTopWidth, left + width - borderRightWidth - innerTopRightRadiusX, top + borderTopWidth); // Clip inner top border edge\n\n  ctx.lineTo(left + Math.max(rtl, borderLeftWidth), top + borderTopWidth); // Ellipse coefficients inner top left cap\n\n  var innerTopLeftRadiusX = Math.max(rtl - borderLeftWidth, 0);\n  var innerTopLeftRadiusY = Math.max(rtl - borderTopWidth, 0);\n  var c3 = innerTopLeftRadiusX * (1.0 - KAPPA$3);\n  var c4 = innerTopLeftRadiusY * (1.0 - KAPPA$3);\n  var topLeftYCoord = top + Math.max(borderTopWidth, rtl); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth + c3, top + borderTopWidth, left + borderLeftWidth, top + borderTopWidth + c4, left + borderLeftWidth, topLeftYCoord);\n  ctx.lineTo(left, topLeftYCoord); // Move down in case the margin exceedes the radius\n\n  ctx.lineTo(left, top + rtl); // Ellipse coefficients outer top left cap\n\n  var c5 = rtl * (1.0 - KAPPA$3); // Clip outer top left cap\n\n  ctx.bezierCurveTo(left, top + c5, left + c5, top, left + rtl, top);\n  ctx.closePath();\n  ctx.clip(); // Clip border top cap joins\n\n  if (borderRightWidth) {\n    var trSlope = -borderTopWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderLeftWidth) {\n    var _trSlope = -borderTopWidth / borderLeftWidth;\n\n    ctx.moveTo(left + width / 2, _trSlope * (-width / 2) + top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left + width, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderTop = function fillBorderTop(ctx, layout, style, rtr, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width;\n  var borderTopColor = style.borderTopColor,\n      borderTopWidth = style.borderTopWidth,\n      borderTopStyle = style.borderTopStyle,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth;\n  var c0 = rtl * (1.0 - KAPPA$3);\n  var c1 = rtr * (1.0 - KAPPA$3);\n  ctx.moveTo(left, top + Math.max(rtl, borderTopWidth));\n  ctx.bezierCurveTo(left, top + c0, left + c0, top, left + rtl, top);\n  ctx.lineTo(left + width - rtr, top);\n  ctx.bezierCurveTo(left + width - c1, top, left + width, top + c1, left + width, top + rtr);\n  ctx.strokeColor(borderTopColor);\n  ctx.lineWidth(Math.max(borderRightWidth, borderTopWidth, borderLeftWidth) * 2);\n\n  if (borderTopStyle === 'dashed') {\n    ctx.dash(borderTopWidth * 2, {\n      space: borderTopWidth * 1.2\n    });\n  } else if (borderTopStyle === 'dotted') {\n    ctx.dash(borderTopWidth, {\n      space: borderTopWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar clipBorderRight = function clipBorderRight(ctx, layout, style, rtr, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderTopWidth = style.borderTopWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderBottomWidth = style.borderBottomWidth; // Clip outer right border edge\n\n  ctx.moveTo(left + width, top + rtr);\n  ctx.lineTo(left + width, top + height - rbr); // Ellipse coefficients outer bottom right cap\n\n  var c0 = rbr * (1.0 - KAPPA$3); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + width, top + height - c0, left + width - c0, top + height, left + width - rbr, top + height); // Move left in case the margin exceedes the radius\n\n  var topBottomXCoord = left + width - Math.max(borderRightWidth, rbr);\n  ctx.lineTo(topBottomXCoord, top + height); // Clip inner bottom right cap\n\n  ctx.lineTo(topBottomXCoord, top + height - borderBottomWidth); // Ellipse coefficients inner bottom right cap\n\n  var innerBottomRightRadiusX = Math.max(rbr - borderRightWidth, 0);\n  var innerBottomRightRadiusY = Math.max(rbr - borderBottomWidth, 0);\n  var c1 = innerBottomRightRadiusX * (1.0 - KAPPA$3);\n  var c2 = innerBottomRightRadiusY * (1.0 - KAPPA$3); // Clip inner top right cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth - c1, top + height - borderBottomWidth, left + width - borderRightWidth, top + height - borderBottomWidth - c2, left + width - borderRightWidth, top + height - Math.max(rbr, borderBottomWidth)); // Clip inner right border edge\n\n  ctx.lineTo(left + width - borderRightWidth, top + Math.max(rtr, borderTopWidth)); // Ellipse coefficients inner top right cap\n\n  var innerTopRightRadiusX = Math.max(rtr - borderRightWidth, 0);\n  var innerTopRightRadiusY = Math.max(rtr - borderTopWidth, 0);\n  var c3 = innerTopRightRadiusX * (1.0 - KAPPA$3);\n  var c4 = innerTopRightRadiusY * (1.0 - KAPPA$3);\n  var topRightXCoord = left + width - Math.max(rtr, borderRightWidth); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth, top + borderTopWidth + c4, left + width - borderRightWidth - c3, top + borderTopWidth, topRightXCoord, top + borderTopWidth);\n  ctx.lineTo(topRightXCoord, top); // Move right in case the margin exceedes the radius\n\n  ctx.lineTo(left + width - rtr, top); // Ellipse coefficients outer top right cap\n\n  var c5 = rtr * (1.0 - KAPPA$3); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + width - c5, top, left + width, top + c5, left + width, top + rtr);\n  ctx.closePath();\n  ctx.clip(); // Clip border right cap joins\n\n  if (borderTopWidth) {\n    var trSlope = -borderTopWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderBottomWidth) {\n    var brSlope = borderBottomWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, brSlope * (-width / 2) + top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderRight = function fillBorderRight(ctx, layout, style, rtr, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderRightColor = style.borderRightColor,\n      borderRightStyle = style.borderRightStyle,\n      borderRightWidth = style.borderRightWidth,\n      borderTopWidth = style.borderTopWidth,\n      borderBottomWidth = style.borderBottomWidth;\n  var c0 = rbr * (1.0 - KAPPA$3);\n  var c1 = rtr * (1.0 - KAPPA$3);\n  ctx.moveTo(left + width - rtr, top);\n  ctx.bezierCurveTo(left + width - c1, top, left + width, top + c1, left + width, top + rtr);\n  ctx.lineTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(left + width, top + height - c0, left + width - c0, top + height, left + width - rbr, top + height);\n  ctx.strokeColor(borderRightColor);\n  ctx.lineWidth(Math.max(borderRightWidth, borderTopWidth, borderBottomWidth) * 2);\n\n  if (borderRightStyle === 'dashed') {\n    ctx.dash(borderRightWidth * 2, {\n      space: borderRightWidth * 1.2\n    });\n  } else if (borderRightStyle === 'dotted') {\n    ctx.dash(borderRightWidth, {\n      space: borderRightWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar clipBorderBottom = function clipBorderBottom(ctx, layout, style, rbl, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderBottomWidth = style.borderBottomWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth; // Clip outer top border edge\n\n  ctx.moveTo(left + width - rbr, top + height);\n  ctx.lineTo(left + rbl, top + height); // Ellipse coefficients outer top right cap\n\n  var c0 = rbl * (1.0 - KAPPA$3); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + c0, top + height, left, top + height - c0, left, top + height - rbl); // Move up in case the margin exceedes the radius\n\n  var bottomLeftYCoord = top + height - Math.max(borderBottomWidth, rbl);\n  ctx.lineTo(left, bottomLeftYCoord); // Clip inner bottom left cap\n\n  ctx.lineTo(left + borderLeftWidth, bottomLeftYCoord); // Ellipse coefficients inner top right cap\n\n  var innerBottomLeftRadiusX = Math.max(rbl - borderLeftWidth, 0);\n  var innerBottomLeftRadiusY = Math.max(rbl - borderBottomWidth, 0);\n  var c1 = innerBottomLeftRadiusX * (1.0 - KAPPA$3);\n  var c2 = innerBottomLeftRadiusY * (1.0 - KAPPA$3); // Clip inner bottom left cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth, top + height - borderBottomWidth - c2, left + borderLeftWidth + c1, top + height - borderBottomWidth, left + borderLeftWidth + innerBottomLeftRadiusX, top + height - borderBottomWidth); // Clip inner bottom border edge\n\n  ctx.lineTo(left + width - Math.max(rbr, borderRightWidth), top + height - borderBottomWidth); // Ellipse coefficients inner top left cap\n\n  var innerBottomRightRadiusX = Math.max(rbr - borderRightWidth, 0);\n  var innerBottomRightRadiusY = Math.max(rbr - borderBottomWidth, 0);\n  var c3 = innerBottomRightRadiusX * (1.0 - KAPPA$3);\n  var c4 = innerBottomRightRadiusY * (1.0 - KAPPA$3);\n  var bottomRightYCoord = top + height - Math.max(borderBottomWidth, rbr); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth - c3, top + height - borderBottomWidth, left + width - borderRightWidth, top + height - borderBottomWidth - c4, left + width - borderRightWidth, bottomRightYCoord);\n  ctx.lineTo(left + width, bottomRightYCoord); // Move down in case the margin exceedes the radius\n\n  ctx.lineTo(left + width, top + height - rbr); // Ellipse coefficients outer top left cap\n\n  var c5 = rbr * (1.0 - KAPPA$3); // Clip outer top left cap\n\n  ctx.bezierCurveTo(left + width, top + height - c5, left + width - c5, top + height, left + width - rbr, top + height);\n  ctx.closePath();\n  ctx.clip(); // Clip border bottom cap joins\n\n  if (borderRightWidth) {\n    var brSlope = borderBottomWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, brSlope * (-width / 2) + top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderLeftWidth) {\n    var trSlope = -borderBottomWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (width / 2) + top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left + width, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderBottom = function fillBorderBottom(ctx, layout, style, rbl, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderBottomColor = style.borderBottomColor,\n      borderBottomStyle = style.borderBottomStyle,\n      borderBottomWidth = style.borderBottomWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth;\n  var c0 = rbl * (1.0 - KAPPA$3);\n  var c1 = rbr * (1.0 - KAPPA$3);\n  ctx.moveTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(left + width, top + height - c1, left + width - c1, top + height, left + width - rbr, top + height);\n  ctx.lineTo(left + rbl, top + height);\n  ctx.bezierCurveTo(left + c0, top + height, left, top + height - c0, left, top + height - rbl);\n  ctx.strokeColor(borderBottomColor);\n  ctx.lineWidth(Math.max(borderBottomWidth, borderRightWidth, borderLeftWidth) * 2);\n\n  if (borderBottomStyle === 'dashed') {\n    ctx.dash(borderBottomWidth * 2, {\n      space: borderBottomWidth * 1.2\n    });\n  } else if (borderBottomStyle === 'dotted') {\n    ctx.dash(borderBottomWidth, {\n      space: borderBottomWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar clipBorderLeft = function clipBorderLeft(ctx, layout, style, rbl, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderTopWidth = style.borderTopWidth,\n      borderLeftWidth = style.borderLeftWidth,\n      borderBottomWidth = style.borderBottomWidth; // Clip outer left border edge\n\n  ctx.moveTo(left, top + height - rbl);\n  ctx.lineTo(left, top + rtl); // Ellipse coefficients outer top left cap\n\n  var c0 = rtl * (1.0 - KAPPA$3); // Clip outer top left cap\n\n  ctx.bezierCurveTo(left, top + c0, left + c0, top, left + rtl, top); // Move right in case the margin exceedes the radius\n\n  var topLeftCoordX = left + Math.max(borderLeftWidth, rtl);\n  ctx.lineTo(topLeftCoordX, top); // Clip inner top left cap\n\n  ctx.lineTo(topLeftCoordX, top + borderTopWidth); // Ellipse coefficients inner top left cap\n\n  var innerTopLeftRadiusX = Math.max(rtl - borderLeftWidth, 0);\n  var innerTopLeftRadiusY = Math.max(rtl - borderTopWidth, 0);\n  var c1 = innerTopLeftRadiusX * (1.0 - KAPPA$3);\n  var c2 = innerTopLeftRadiusY * (1.0 - KAPPA$3); // Clip inner top right cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth + c1, top + borderTopWidth, left + borderLeftWidth, top + borderTopWidth + c2, left + borderLeftWidth, top + Math.max(rtl, borderTopWidth)); // Clip inner left border edge\n\n  ctx.lineTo(left + borderLeftWidth, top + height - Math.max(rbl, borderBottomWidth)); // Ellipse coefficients inner bottom left cap\n\n  var innerBottomLeftRadiusX = Math.max(rbl - borderLeftWidth, 0);\n  var innerBottomLeftRadiusY = Math.max(rbl - borderBottomWidth, 0);\n  var c3 = innerBottomLeftRadiusX * (1.0 - KAPPA$3);\n  var c4 = innerBottomLeftRadiusY * (1.0 - KAPPA$3);\n  var bottomLeftXCoord = left + Math.max(rbl, borderLeftWidth); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth, top + height - borderBottomWidth - c4, left + borderLeftWidth + c3, top + height - borderBottomWidth, bottomLeftXCoord, top + height - borderBottomWidth);\n  ctx.lineTo(bottomLeftXCoord, top + height); // Move left in case the margin exceedes the radius\n\n  ctx.lineTo(left + rbl, top + height); // Ellipse coefficients outer top right cap\n\n  var c5 = rbl * (1.0 - KAPPA$3); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + c5, top + height, left, top + height - c5, left, top + height - rbl);\n  ctx.closePath();\n  ctx.clip(); // Clip border right cap joins\n\n  if (borderBottomWidth) {\n    var trSlope = -borderBottomWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (width / 2) + top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left + width, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderBottomWidth) {\n    var _trSlope2 = -borderTopWidth / borderLeftWidth;\n\n    ctx.moveTo(left + width / 2, _trSlope2 * (-width / 2) + top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderLeft = function fillBorderLeft(ctx, layout, style, rbl, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      height = layout.height;\n  var borderLeftColor = style.borderLeftColor,\n      borderLeftStyle = style.borderLeftStyle,\n      borderLeftWidth = style.borderLeftWidth,\n      borderTopWidth = style.borderTopWidth,\n      borderBottomWidth = style.borderBottomWidth;\n  var c0 = rbl * (1.0 - KAPPA$3);\n  var c1 = rtl * (1.0 - KAPPA$3);\n  ctx.moveTo(left + rbl, top + height);\n  ctx.bezierCurveTo(left + c0, top + height, left, top + height - c0, left, top + height - rbl);\n  ctx.lineTo(left, top + rtl);\n  ctx.bezierCurveTo(left, top + c1, left + c1, top, left + rtl, top);\n  ctx.strokeColor(borderLeftColor);\n  ctx.lineWidth(Math.max(borderLeftWidth, borderTopWidth, borderBottomWidth) * 2);\n\n  if (borderLeftStyle === 'dashed') {\n    ctx.dash(borderLeftWidth * 2, {\n      space: borderLeftWidth * 1.2\n    });\n  } else if (borderLeftStyle === 'dotted') {\n    ctx.dash(borderLeftWidth, {\n      space: borderLeftWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar shouldRenderBorders = function shouldRenderBorders(node) {\n  return node.box && (node.box.borderTopWidth || node.box.borderRightWidth || node.box.borderBottomWidth || node.box.borderLeftWidth);\n};\n\nvar renderBorders = function renderBorders(ctx, node) {\n  if (!shouldRenderBorders(node)) return node;\n  var _node$box = node.box,\n      width = _node$box.width,\n      height = _node$box.height,\n      borderTopWidth = _node$box.borderTopWidth,\n      borderLeftWidth = _node$box.borderLeftWidth,\n      borderRightWidth = _node$box.borderRightWidth,\n      borderBottomWidth = _node$box.borderBottomWidth;\n  var _node$style = node.style,\n      opacity = _node$style.opacity,\n      _node$style$borderTop = _node$style.borderTopLeftRadius,\n      borderTopLeftRadius = _node$style$borderTop === void 0 ? 0 : _node$style$borderTop,\n      _node$style$borderTop2 = _node$style.borderTopRightRadius,\n      borderTopRightRadius = _node$style$borderTop2 === void 0 ? 0 : _node$style$borderTop2,\n      _node$style$borderBot = _node$style.borderBottomLeftRadius,\n      borderBottomLeftRadius = _node$style$borderBot === void 0 ? 0 : _node$style$borderBot,\n      _node$style$borderBot2 = _node$style.borderBottomRightRadius,\n      borderBottomRightRadius = _node$style$borderBot2 === void 0 ? 0 : _node$style$borderBot2,\n      _node$style$borderTop3 = _node$style.borderTopColor,\n      borderTopColor = _node$style$borderTop3 === void 0 ? 'black' : _node$style$borderTop3,\n      _node$style$borderTop4 = _node$style.borderTopStyle,\n      borderTopStyle = _node$style$borderTop4 === void 0 ? 'solid' : _node$style$borderTop4,\n      _node$style$borderLef = _node$style.borderLeftColor,\n      borderLeftColor = _node$style$borderLef === void 0 ? 'black' : _node$style$borderLef,\n      _node$style$borderLef2 = _node$style.borderLeftStyle,\n      borderLeftStyle = _node$style$borderLef2 === void 0 ? 'solid' : _node$style$borderLef2,\n      _node$style$borderRig = _node$style.borderRightColor,\n      borderRightColor = _node$style$borderRig === void 0 ? 'black' : _node$style$borderRig,\n      _node$style$borderRig2 = _node$style.borderRightStyle,\n      borderRightStyle = _node$style$borderRig2 === void 0 ? 'solid' : _node$style$borderRig2,\n      _node$style$borderBot3 = _node$style.borderBottomColor,\n      borderBottomColor = _node$style$borderBot3 === void 0 ? 'black' : _node$style$borderBot3,\n      _node$style$borderBot4 = _node$style.borderBottomStyle,\n      borderBottomStyle = _node$style$borderBot4 === void 0 ? 'solid' : _node$style$borderBot4;\n  var style = {\n    borderTopColor: borderTopColor,\n    borderTopWidth: borderTopWidth,\n    borderTopStyle: borderTopStyle,\n    borderLeftColor: borderLeftColor,\n    borderLeftWidth: borderLeftWidth,\n    borderLeftStyle: borderLeftStyle,\n    borderRightColor: borderRightColor,\n    borderRightWidth: borderRightWidth,\n    borderRightStyle: borderRightStyle,\n    borderBottomColor: borderBottomColor,\n    borderBottomWidth: borderBottomWidth,\n    borderBottomStyle: borderBottomStyle,\n    borderTopLeftRadius: borderTopLeftRadius,\n    borderTopRightRadius: borderTopRightRadius,\n    borderBottomLeftRadius: borderBottomLeftRadius,\n    borderBottomRightRadius: borderBottomRightRadius\n  };\n  var rtr = Math.min(borderTopRightRadius, 0.5 * width, 0.5 * height);\n  var rtl = Math.min(borderTopLeftRadius, 0.5 * width, 0.5 * height);\n  var rbr = Math.min(borderBottomRightRadius, 0.5 * width, 0.5 * height);\n  var rbl = Math.min(borderBottomLeftRadius, 0.5 * width, 0.5 * height);\n  ctx.save();\n  ctx.strokeOpacity(opacity);\n\n  if (borderTopWidth) {\n    ctx.save();\n    clipBorderTop(ctx, node.box, style, rtr, rtl);\n    fillBorderTop(ctx, node.box, style, rtr, rtl);\n    ctx.restore();\n  }\n\n  if (borderRightWidth) {\n    ctx.save();\n    clipBorderRight(ctx, node.box, style, rtr, rbr);\n    fillBorderRight(ctx, node.box, style, rtr, rbr);\n    ctx.restore();\n  }\n\n  if (borderBottomWidth) {\n    ctx.save();\n    clipBorderBottom(ctx, node.box, style, rbl, rbr);\n    fillBorderBottom(ctx, node.box, style, rbl, rbr);\n    ctx.restore();\n  }\n\n  if (borderLeftWidth) {\n    ctx.save();\n    clipBorderLeft(ctx, node.box, style, rbl, rtl);\n    fillBorderLeft(ctx, node.box, style, rbl, rtl);\n    ctx.restore();\n  }\n\n  ctx.restore();\n  return node;\n};\n\nvar renderBorders$1 = curryN(2, renderBorders);\n\nvar setDestination = function setDestination(ctx) {\n  return tap(function (node) {\n    if (node.props.id) {\n      ctx.addNamedDestination(node.props.id, 'XYZ', null, node.box.top, null);\n    }\n  });\n};\n\nvar drawBackground = function drawBackground(ctx) {\n  return function (node) {\n    if (node.box && node.style.backgroundColor) {\n      var _node$box = node.box,\n          top = _node$box.top,\n          left = _node$box.left,\n          width = _node$box.width,\n          height = _node$box.height;\n      ctx.fillOpacity(node.style.opacity || 1).fillColor(node.style.backgroundColor).rect(left, top, width, height).fill();\n    }\n\n    return node;\n  };\n};\n\nvar shouldRenderBackground = hasPath(['style', 'backgroundColor']);\n\nvar renderBackground = function renderBackground(ctx, node) {\n  when(shouldRenderBackground, compose(restore$1(ctx), drawBackground(ctx), clipNode$1(ctx), save$1(ctx)))(node);\n  return node;\n};\n\nvar renderBackground$1 = curryN(2, renderBackground);\n\nvar shouldRenderChildren = function shouldRenderChildren(v) {\n  return !isText(v) && !isSvg(v);\n};\n\nvar renderChildren = function renderChildren(ctx) {\n  return function (node) {\n    save$1(ctx, node);\n    ctx.translate(node.box.left, node.box.top);\n    compose(forEach(renderNode$1(ctx)), pathOr([], ['children']))(node);\n    restore$1(ctx, node);\n    return node;\n  };\n};\n\nvar renderNode$1 = function renderNode(ctx) {\n  return function (node) {\n    return compose(restore$1(ctx), renderDebug(ctx), setDestination(ctx), when(shouldRenderChildren, renderChildren(ctx)), when(either(isText, isLink), setLink$1(ctx)), cond([[isText, renderText$1(ctx)], [isNote, renderNote$1(ctx)], [isImage, renderImage$2(ctx)], [isCanvas, renderCanvas$1(ctx)], [isSvg, renderSvg$1(ctx)], [T, identity]]), renderBorders$1(ctx), renderBackground$1(ctx), applyTransformations$1(ctx), save$1(ctx), when(isPage, renderPage$1(ctx)))(node);\n  };\n};\n\nvar renderDocument = function renderDocument(ctx) {\n  return compose(forEach(compose(renderRulers$1(ctx), renderNode$1(ctx))), pathOr([], ['children']));\n};\n\nvar render = function render(ctx, doc) {\n  addMetadata$1(ctx)(doc);\n  renderDocument(ctx)(doc);\n  ctx.end();\n  Font$1.reset(); // TODO: move outside\n\n  return ctx;\n};\n/**\n * Capitalize first letter of each word\n *\n * @param {String} string\n * @returns {String} capitalized string\n */\n\n\nvar capitalize = function capitalize(value) {\n  if (!value) return value;\n  return value.replace(/(^|\\s)\\S/g, function (l) {\n    return l.toUpperCase();\n  });\n};\n/**\n * Capitalize first letter of string\n *\n * @param {String} string\n * @returns {String} capitalized string\n */\n\n\nvar upperFirst = ifElse(isNil, identity, compose(join(''), juxt([compose(toUpper, head), tail])));\nvar upperFirst$1 = memoizeWith(identity, upperFirst);\n/**\n * Apply transformation to text string\n *\n * @param {String} text\n * @param {String} transformation type\n * @returns {String} transformed text\n */\n\nvar transformText = function transformText(text, transformation) {\n  switch (transformation) {\n    case 'uppercase':\n      return text.toUpperCase();\n\n    case 'lowercase':\n      return text.toLowerCase();\n\n    case 'capitalize':\n      return capitalize(text);\n\n    case 'upperfirst':\n      return upperFirst$1(text);\n\n    default:\n      return text;\n  }\n};\n\nvar StandardFont = /*#__PURE__*/function () {\n  function StandardFont(src) {\n    this.name = src;\n    this.src = PDFFont.open(null, src);\n  }\n\n  var _proto = StandardFont.prototype;\n\n  _proto.layout = function layout(str) {\n    var _this = this;\n\n    var _this$src$encode = this.src.encode(str),\n        encoded = _this$src$encode[0],\n        positions = _this$src$encode[1];\n\n    return {\n      positions: positions,\n      stringIndices: positions.map(function (_, i) {\n        return i;\n      }),\n      glyphs: encoded.map(function (g, i) {\n        var glyph = _this.getGlyph(parseInt(g, 16));\n\n        glyph.advanceWidth = positions[i].advanceWidth;\n        return glyph;\n      })\n    };\n  };\n\n  _proto.glyphForCodePoint = function glyphForCodePoint(codePoint) {\n    var glyph = this.getGlyph(codePoint);\n    glyph.advanceWidth = 400;\n    return glyph;\n  };\n\n  _proto.getGlyph = function getGlyph(id) {\n    return {\n      id: id,\n      _font: this.src,\n      codePoints: [id],\n      isLigature: false,\n      name: this.src.font.characterToGlyph(id)\n    };\n  };\n\n  _proto.hasGlyphForCodePoint = function hasGlyphForCodePoint(codePoint) {\n    return this.src.font.characterToGlyph(codePoint) !== '.notdef';\n  } // Based on empirical observation\n  ;\n\n  _createClass(StandardFont, [{\n    key: \"ascent\",\n    get: function get() {\n      return 900;\n    } // Based on empirical observation\n\n  }, {\n    key: \"descent\",\n    get: function get() {\n      switch (this.name) {\n        case 'Times-Roman':\n        case 'Times-Bold':\n        case 'Times-Italic':\n          return -220;\n\n        case 'Courier':\n        case 'Courier-Bold':\n        case 'Courier-Oblique':\n          return -230;\n\n        default:\n          return -200;\n      }\n    }\n  }, {\n    key: \"lineGap\",\n    get: function get() {\n      return 0;\n    }\n  }, {\n    key: \"unitsPerEm\",\n    get: function get() {\n      return 1000;\n    }\n  }]);\n\n  return StandardFont;\n}();\n\nvar fontCache = {};\nvar IGNORED_CODE_POINTS = [173];\nvar getFontSize = pathOr(12, ['attributes', 'fontSize']);\n\nvar getOrCreateFont = function getOrCreateFont(name) {\n  if (fontCache[name]) return fontCache[name];\n  var font = new StandardFont(name);\n  fontCache[name] = font;\n  return font;\n};\n\nvar getFallbackFont = function getFallbackFont() {\n  return getOrCreateFont('Helvetica');\n};\n\nvar shouldFallbackToFont = function shouldFallbackToFont(codePoint, font) {\n  return !IGNORED_CODE_POINTS.includes(codePoint) && !font.hasGlyphForCodePoint(codePoint) && getFallbackFont().hasGlyphForCodePoint(codePoint);\n};\n\nvar fontSubstitution = function fontSubstitution() {\n  return function (_ref) {\n    var string = _ref.string,\n        runs = _ref.runs;\n    var lastFont = null;\n    var lastIndex = 0;\n    var index = 0;\n    var res = [];\n\n    for (var _iterator = runs, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref2 = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref2 = _i.value;\n      }\n\n      var run = _ref2;\n\n      var _fontSize = getFontSize(run);\n\n      var defaultFont = typeof run.attributes.font === 'string' ? getOrCreateFont(run.attributes.font) : run.attributes.font;\n\n      if (string.length === 0) {\n        res.push({\n          start: 0,\n          end: 0,\n          attributes: {\n            font: defaultFont\n          }\n        });\n        break;\n      }\n\n      for (var _iterator2 = string.slice(run.start, run.end), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n        var _ref3;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref3 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref3 = _i2.value;\n        }\n\n        var _char = _ref3;\n\n        var codePoint = _char.codePointAt();\n\n        var shouldFallback = shouldFallbackToFont(codePoint, defaultFont);\n        var font = shouldFallback ? getFallbackFont() : defaultFont; // If the default font does not have a glyph and the fallback font does, we use it\n\n        if (font !== lastFont) {\n          if (lastFont) {\n            res.push({\n              start: lastIndex,\n              end: index,\n              attributes: {\n                font: lastFont,\n                scale: lastFont ? _fontSize / lastFont.unitsPerEm : 0\n              }\n            });\n          }\n\n          lastFont = font;\n          lastIndex = index;\n        }\n\n        index += _char.length;\n      }\n    }\n\n    if (lastIndex < string.length) {\n      var fontSize = getFontSize(last(runs));\n      res.push({\n        start: lastIndex,\n        end: string.length,\n        attributes: {\n          font: lastFont,\n          scale: lastFont ? fontSize / lastFont.unitsPerEm : 0\n        }\n      });\n    }\n\n    return {\n      string: string,\n      runs: res\n    };\n  };\n};\n\nvar engines = {\n  linebreaker: linebreaker,\n  justification: justification,\n  textDecoration: textDecoration,\n  scriptItemizer: scriptItemizer,\n  wordHyphenation: wordHyphenation,\n  fontSubstitution: fontSubstitution\n};\nvar engine = layoutEngine(engines);\nvar layoutOptions = {\n  hyphenationCallback: Font$1.getHyphenationCallback(),\n  shrinkWhitespaceFactor: {\n    before: -0.5,\n    after: -0.5\n  }\n};\n\nvar getFragments = function getFragments(instance) {\n  if (!instance) return [{\n    string: ''\n  }];\n  var fragments = [];\n  var _instance$props = instance.props,\n      _instance$props$fill = _instance$props.fill,\n      fill = _instance$props$fill === void 0 ? 'black' : _instance$props$fill,\n      _instance$props$fontF = _instance$props.fontFamily,\n      fontFamily = _instance$props$fontF === void 0 ? 'Helvetica' : _instance$props$fontF,\n      fontWeight = _instance$props.fontWeight,\n      fontStyle = _instance$props.fontStyle,\n      _instance$props$fontS = _instance$props.fontSize,\n      fontSize = _instance$props$fontS === void 0 ? 18 : _instance$props$fontS,\n      textDecoration = _instance$props.textDecoration,\n      textDecorationColor = _instance$props.textDecorationColor,\n      textDecorationStyle = _instance$props.textDecorationStyle,\n      textTransform = _instance$props.textTransform,\n      opacity = _instance$props.opacity;\n  var obj = Font$1.getFont({\n    fontFamily: fontFamily,\n    fontWeight: fontWeight,\n    fontStyle: fontStyle\n  });\n  var font = obj ? obj.data : fontFamily;\n  var attributes = {\n    font: font,\n    opacity: opacity,\n    fontSize: fontSize,\n    color: fill,\n    underlineStyle: textDecorationStyle,\n    underline: textDecoration === 'underline',\n    underlineColor: textDecorationColor || fill,\n    strike: textDecoration === 'line-through',\n    strikeStyle: textDecorationStyle,\n    strikeColor: textDecorationColor || fill\n  };\n  instance.children.forEach(function (child) {\n    if (isTextInstance(child)) {\n      fragments.push({\n        string: transformText(child.value, textTransform),\n        attributes: attributes\n      });\n    } else {\n      if (child) {\n        fragments.push.apply(fragments, getFragments(child));\n      }\n    }\n  });\n  return fragments;\n};\n\nvar getAttributedString = function getAttributedString(instance) {\n  return AttributedString.fromFragments(getFragments(instance));\n};\n\nvar AlmostInfinity = 999999999999;\n\nvar layoutTspan = function layoutTspan(node) {\n  var attributedString = getAttributedString(node);\n  var x = pathOr(0, ['props', 'x'], node);\n  var y = pathOr(0, ['props', 'y'], node);\n  var container = {\n    x: x,\n    y: y,\n    width: AlmostInfinity,\n    height: AlmostInfinity\n  };\n  var lines = compose(reduce(concat, []), engine)(attributedString, container, layoutOptions);\n  return assoc('lines', lines, node);\n};\n\nvar layoutText = evolve({\n  children: map(layoutTspan)\n});\n/**\n * Checks if node is svg defs\n *\n * @param {Object} node\n * @returns {Boolean} is node svg defs?\n */\n\nvar isDefs = propEq('type', DEFS);\nvar getChildren = propOr([], 'children');\nvar getId = path(['props', 'id']);\nvar getDefs = compose(map(prop(0)), groupBy(getId), getChildren, defaultTo({}), find(isDefs), getChildren);\nvar isNotDefs = complement(isDefs);\nvar detachDefs = evolve({\n  children: filter(isNotDefs)\n});\nvar URL_REGEX = /url\\(['\"]?#([^'\"]+)['\"]?\\)/;\n\nvar replaceDef = function replaceDef(defs) {\n  return compose(when(test(URL_REGEX), compose(prop(__, defs), prop(1), match(URL_REGEX))), defaultTo(''));\n};\n\nvar parseNodeDefs = function parseNodeDefs(defs) {\n  return function (node) {\n    return compose(evolve({\n      props: evolve({\n        fill: replaceDef(defs),\n        clipPath: replaceDef(defs)\n      })\n    }), evolve({\n      children: map(parseNodeDefs(defs))\n    }))(node);\n  };\n};\n\nvar parseDefs = function parseDefs(root) {\n  var defs = getDefs(root);\n  return evolve({\n    children: map(parseNodeDefs(defs))\n  }, root);\n};\n\nvar replaceDefs = compose(detachDefs, parseDefs);\n\nvar parseViewbox = function parseViewbox(value) {\n  if (!value) return null;\n  var values = value.split(/[,\\s]+/).map(parseFloat);\n  if (values.length !== 4) return null;\n  return {\n    minX: values[0],\n    minY: values[1],\n    maxX: values[2],\n    maxY: values[3]\n  };\n};\n\nvar getContainer = function getContainer(node) {\n  var viewbox = parseViewbox(node.props.viewBox);\n\n  if (viewbox) {\n    return {\n      width: viewbox.maxX,\n      height: viewbox.maxY\n    };\n  }\n\n  if (node.props.width && node.props.height) {\n    return {\n      width: parseFloat(node.props.width),\n      height: parseFloat(node.props.height)\n    };\n  }\n\n  return {\n    width: 0,\n    height: 0\n  };\n};\n\nvar getInheritProps = compose(pick(SVG_INHERITED_PROPS), propOr({}, 'props'));\n\nvar inheritProps = function inheritProps(node) {\n  var props = getInheritProps(node);\n  return evolve({\n    children: map(compose(inheritProps, evolve({\n      props: merge(props)\n    })))\n  })(node);\n};\n\nvar parseAspectRatio = function parseAspectRatio(value) {\n  var match = value.replace(/[\\s\\r\\t\\n]+/gm, ' ').replace(/^defer\\s/, '').split(' ');\n  var align = match[0] || 'xMidYMid';\n  var meetOrSlice = match[1] || 'meet';\n  return {\n    align: align,\n    meetOrSlice: meetOrSlice\n  };\n};\n\nvar isRgb = test(/rgb/g);\nvar isRgba = test(/rgba/g);\nvar isHsl = test(/hsl/g);\nvar isHsla = test(/hsla/g);\n/**\n * Transform rgb color to hexa\n *\n * @param {String} styles value\n * @returns {Object} transformed value\n */\n\nvar parseRgb = compose(colorString.to.hex, colorString.get.rgb);\n/**\n * Transform Hsl color to hexa\n *\n * @param {String} styles value\n * @returns {Object} transformed value\n */\n\nvar parseHsl = compose(toUpper, apply(hlsToHex), map(Math.round), colorString.get.hsl);\n/**\n * Transform given color to hexa\n *\n * @param {String} styles value\n * @returns {Object} transformed value\n */\n\nvar transformColor = function transformColor(value) {\n  return cond([[isRgba, parseRgb], [isRgb, parseRgb], [isHsla, parseHsl], [isHsl, parseHsl], [T, always(value)]])(value);\n};\n/**\n * Transform rbg and cmyk colors to hexa\n *\n * @param {Object} styles object\n * @returns {Object} transformed styles\n */\n\n\nvar transformColors = function transformColors(styles) {\n  return map(transformColor, styles);\n};\n\nvar STYLE_PROPS = ['width', 'height', 'color', 'stroke', 'strokeWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'fill', 'fillRule', 'clipPath', 'offset', 'transform', 'strokeLinejoin', 'strokeLinecap', 'strokeDasharray'];\nvar VERTICAL_PROPS = ['y', 'y1', 'y2', 'height', 'cy', 'ry'];\nvar HORIZONTAL_PROPS = ['x', 'x1', 'x2', 'width', 'cx', 'rx'];\n\nvar transformPercent = function transformPercent(container) {\n  return mapObjIndexed(function (value, key) {\n    var match = matchPercent(value);\n\n    if (match && VERTICAL_PROPS.includes(key)) {\n      return match.percent * container.height;\n    }\n\n    if (match && HORIZONTAL_PROPS.includes(key)) {\n      return match.percent * container.width;\n    }\n\n    return value;\n  });\n};\n\nvar parsePercent = function parsePercent(value) {\n  var match = matchPercent(value);\n  return match ? match.percent : parseFloat(value);\n};\n\nvar parseProps = function parseProps(container) {\n  return compose(evolve({\n    props: o(evolve({\n      x: parseFloat,\n      x1: parseFloat,\n      x2: parseFloat,\n      y: parseFloat,\n      y1: parseFloat,\n      y2: parseFloat,\n      r: parseFloat,\n      rx: parseFloat,\n      ry: parseFloat,\n      cx: parseFloat,\n      cy: parseFloat,\n      width: parseFloat,\n      height: parseFloat,\n      offset: parsePercent,\n      fill: transformColor,\n      opacity: parsePercent,\n      stroke: transformColor,\n      stopOpacity: parsePercent,\n      stopColor: transformColor\n    }), transformPercent(container))\n  }));\n};\n\nvar mergeStyles = function mergeStyles(node) {\n  var style = propOr({}, 'style', node);\n  return evolve({\n    props: merge(style)\n  }, node);\n};\n\nvar removeNoneValues = evolve({\n  props: map(when(equals('none'), always(null)))\n});\n\nvar pickStyleProps = function pickStyleProps(node) {\n  var styleProps = o(pick(STYLE_PROPS), propOr({}, 'props'))(node);\n  return evolve({\n    style: merge(styleProps)\n  }, node);\n};\n\nvar parseSvgProps = evolve({\n  props: evolve({\n    width: parseFloat,\n    height: parseFloat,\n    viewBox: parseViewbox,\n    preserveAspectRatio: parseAspectRatio\n  })\n});\n\nvar wrapBetweenTspan = function wrapBetweenTspan(node) {\n  return {\n    type: 'TSPAN',\n    props: {},\n    children: [node]\n  };\n};\n\nvar addMissingTspan = when(isText, evolve({\n  children: map(when(isTextInstance, wrapBetweenTspan))\n}));\n\nvar resolveSvgNode = function resolveSvgNode(container) {\n  return compose(parseProps(container), addMissingTspan, removeNoneValues, mergeStyles);\n};\n\nvar resolveChildren = function resolveChildren(container) {\n  return function (node) {\n    return evolve({\n      children: map(compose(resolveChildren(container), resolveSvgNode(container)))\n    })(node);\n  };\n};\n\nvar parseText = function parseText(node) {\n  return ifElse(isText, layoutText, evolve({\n    children: map(parseText)\n  }))(node);\n};\n\nvar resolveSvgRoot = function resolveSvgRoot(node) {\n  var container = getContainer(node);\n  return compose(replaceDefs, parseText, parseSvgProps, pickStyleProps, inheritProps, resolveChildren(container))(node);\n};\n\nvar resolveSvg = function resolveSvg(node) {\n  return compose(evolve({\n    children: map(resolveSvg)\n  }), when(isSvg, resolveSvgRoot))(node);\n};\n/**\n * Sort children by zIndex value\n *\n * @param {Object} node\n * @returns {Object} node\n */\n\n\nvar resolveZIndex = function resolveZIndex(node) {\n  return evolve({\n    children: compose(map(resolveZIndex), sortBy(path(['style', 'zIndex'])))\n  })(node);\n};\n/**\n * Adjust page size given ruler props\n *\n * @param {Object} page\n * @returns {boolean} page with size altered by ruler props\n */\n\n\nvar adjustPageSize = compose(when(hasVerticalRuler, evolve({\n  box: {\n    height: add(RULER_WIDTH)\n  },\n  children: map(evolve({\n    box: {\n      top: add(RULER_WIDTH)\n    }\n  }))\n})), when(hasHorizontalRuler, evolve({\n  box: {\n    width: add(RULER_WIDTH)\n  },\n  children: map(evolve({\n    box: {\n      left: add(RULER_WIDTH)\n    }\n  }))\n})));\n/**\n * Adjust pages size given ruler props\n *\n * @param {Object} root\n * @returns {boolean} root with pages size altered by ruler props\n */\n\nvar resolveRulers = evolve({\n  children: map(adjustPageSize)\n});\nvar fs = {};\n\nPNG.isValid = function (data) {\n  try {\n    return !!new PNG(data);\n  } catch (e) {\n    return false;\n  }\n}; // Extracted from https://github.com/devongovett/pdfkit/blob/master/lib/image/jpeg.coffee\n\n\nvar MARKERS = [0xffc0, 0xffc1, 0xffc2, 0xffc3, 0xffc5, 0xffc6, 0xffc7, 0xffc8, 0xffc9, 0xffca, 0xffcb, 0xffcc, 0xffcd, 0xffce, 0xffcf];\n\nvar JPEG = function JPEG(data) {\n  this.data = null;\n  this.width = null;\n  this.height = null;\n  this.data = data;\n\n  if (data.readUInt16BE(0) !== 0xffd8) {\n    throw new Error('SOI not found in JPEG');\n  }\n\n  var marker;\n  var pos = 2;\n\n  while (pos < data.length) {\n    marker = data.readUInt16BE(pos);\n    pos += 2;\n\n    if (MARKERS.includes(marker)) {\n      break;\n    }\n\n    pos += data.readUInt16BE(pos);\n  }\n\n  if (!MARKERS.includes(marker)) {\n    throw new Error('Invalid JPEG.');\n  }\n\n  pos += 3;\n  this.height = data.readUInt16BE(pos);\n  pos += 2;\n  this.width = data.readUInt16BE(pos);\n};\n\nJPEG.isValid = function (data) {\n  if (!data || !Buffer.isBuffer(data) || data.readUInt16BE(0) !== 0xffd8) {\n    return false;\n  }\n\n  var marker;\n  var pos = 2;\n\n  while (pos < data.length) {\n    marker = data.readUInt16BE(pos);\n    pos += 2;\n\n    if (MARKERS.includes(marker)) {\n      break;\n    }\n\n    pos += data.readUInt16BE(pos);\n  }\n\n  if (!MARKERS.includes(marker)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar createCache = function createCache(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === void 0 ? 100 : _ref$limit;\n\n  var cache = {};\n  var keys = [];\n  return {\n    get: function get(key) {\n      return cache[key];\n    },\n    set: function set(key, value) {\n      keys.push(key);\n\n      if (keys.length > limit) {\n        delete cache[keys.shift()];\n      }\n\n      cache[key] = value;\n    },\n    reset: function reset() {\n      cache = {};\n      keys = [];\n    },\n    length: function length() {\n      return keys.length;\n    }\n  };\n};\n\nvar IMAGE_CACHE = createCache({\n  limit: 30\n});\n\nvar getAbsoluteLocalPath = function getAbsoluteLocalPath(src) {\n  {\n    throw new Error('Cannot check local paths in client-side environment');\n  }\n\n  var _url$parse = fs.parse(src),\n      protocol = _url$parse.protocol,\n      auth = _url$parse.auth,\n      host = _url$parse.host,\n      port = _url$parse.port,\n      hostname = _url$parse.hostname,\n      pathname = _url$parse.path;\n\n  var absolutePath = fs.resolve(pathname);\n\n  if (protocol && protocol !== 'file:' || auth || host || port || hostname) {\n    return undefined;\n  }\n\n  return absolutePath;\n};\n\nvar fetchLocalFile = function fetchLocalFile(src) {\n  return new Promise(function (resolve, reject) {\n    try {\n      {\n        return reject(new Error('Cannot fetch local file in this environemnt'));\n      }\n      var absolutePath = getAbsoluteLocalPath(src);\n\n      if (!absolutePath) {\n        return reject(new Error(\"Cannot fetch non-local path: \" + src));\n      }\n\n      fs.readFile(absolutePath, function (err, data) {\n        return err ? reject(err) : resolve(data);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nvar fetchRemoteFile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(uri, options) {\n    var response, buffer;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(uri, options);\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return response.buffer ? response.buffer() : response.arrayBuffer();\n\n          case 5:\n            buffer = _context.sent;\n            return _context.abrupt(\"return\", buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchRemoteFile(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar isValidFormat = function isValidFormat(format) {\n  var lower = format.toLowerCase();\n  return lower === 'jpg' || lower === 'jpeg' || lower === 'png';\n};\n\nvar guessFormat = function guessFormat(buffer) {\n  var format;\n\n  if (JPEG.isValid(buffer)) {\n    format = 'jpg';\n  } else if (PNG.isValid(buffer)) {\n    format = 'png';\n  }\n\n  return format;\n};\n\nvar isCompatibleBase64 = function isCompatibleBase64(_ref2) {\n  var uri = _ref2.uri;\n  return /^data:image\\/[a-zA-Z]*;base64,[^\"]*/g.test(uri);\n};\n\nfunction getImage(body, extension) {\n  switch (extension.toLowerCase()) {\n    case 'jpg':\n    case 'jpeg':\n      return new JPEG(body);\n\n    case 'png':\n      return new PNG(body);\n\n    default:\n      return null;\n  }\n}\n\nvar resolveBase64Image = function resolveBase64Image(_ref3) {\n  var uri = _ref3.uri;\n  var match = /^data:image\\/([a-zA-Z]*);base64,([^\"]*)/g.exec(uri);\n  var format = match[1];\n  var data = match[2];\n\n  if (!isValidFormat(format)) {\n    throw new Error(\"Base64 image invalid format: \" + format);\n  }\n\n  return new Promise(function (resolve) {\n    return resolve(getImage(Buffer.from(data, 'base64'), format));\n  });\n};\n\nvar resolveImageFromData = function resolveImageFromData(src) {\n  if (src.data && src.format) {\n    return new Promise(function (resolve) {\n      return resolve(getImage(src.data, src.format));\n    });\n  }\n\n  throw new Error(\"Invalid data given for local file: \" + JSON.stringify(src));\n};\n\nvar resolveBufferImage = function resolveBufferImage(buffer) {\n  var format = guessFormat(buffer);\n\n  if (format) {\n    return new Promise(function (resolve) {\n      return resolve(getImage(buffer, format));\n    });\n  }\n};\n\nvar getImageFormat = function getImageFormat(body) {\n  var isPng = body[0] === 137 && body[1] === 80 && body[2] === 78 && body[3] === 71 && body[4] === 13 && body[5] === 10 && body[6] === 26 && body[7] === 10;\n  var isJpg = body[0] === 255 && body[1] === 216 && body[2] === 255;\n  var extension = '';\n\n  if (isPng) {\n    extension = 'png';\n  } else if (isJpg) {\n    extension = 'jpg';\n  } else {\n    throw new Error('Not valid image extension');\n  }\n\n  return extension;\n};\n\nvar resolveImageFromUrl = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(src) {\n    var uri, body, headers, _src$method, method, data, extension;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            uri = src.uri, body = src.body, headers = src.headers, _src$method = src.method, method = _src$method === void 0 ? 'GET' : _src$method;\n            {\n              _context2.next = 7;\n              break;\n            }\n            _context2.next = 4;\n            return fetchLocalFile(uri);\n\n          case 4:\n            _context2.t0 = _context2.sent;\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.next = 9;\n            return fetchRemoteFile(uri, {\n              body: body,\n              headers: headers,\n              method: method\n            });\n\n          case 9:\n            _context2.t0 = _context2.sent;\n\n          case 10:\n            data = _context2.t0;\n            extension = getImageFormat(data);\n            return _context2.abrupt(\"return\", getImage(data, extension));\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function resolveImageFromUrl(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar resolveImage = function resolveImage(src, _temp) {\n  var _ref5 = _temp === void 0 ? {} : _temp,\n      _ref5$cache = _ref5.cache,\n      cache = _ref5$cache === void 0 ? true : _ref5$cache;\n\n  var cacheKey = src.data ? src.data.toString() : src.uri;\n\n  if (cache && IMAGE_CACHE.get(cacheKey)) {\n    return IMAGE_CACHE.get(cacheKey);\n  }\n\n  var image;\n\n  if (isCompatibleBase64(src)) {\n    image = resolveBase64Image(src);\n  } else if (Buffer.isBuffer(src)) {\n    image = resolveBufferImage(src);\n  } else if (typeof src === 'object' && src.data) {\n    image = resolveImageFromData(src);\n  } else {\n    image = resolveImageFromUrl(src);\n  }\n\n  if (!image) {\n    throw new Error('Cannot resolve image');\n  }\n\n  if (cache) {\n    IMAGE_CACHE.set(cacheKey, image);\n  }\n\n  return image;\n};\n\nvar isNotNil = complement(isNil);\n/**\n * Takes a list of predicates and returns the first predicate result that returns true for a given list of arguments\n *\n * @param  {...any} predicates\n * @param  {any} value\n */\n\nvar firstPass = function firstPass() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    var res;\n\n    for (var _i = 0; _i < fns.length; _i++) {\n      var fn = fns[_i];\n      res = fn(value);\n      if (isNotNil(res)) return res;\n    }\n\n    return res;\n  };\n};\n/**\n * Get image source\n *\n * @param {Object} image node\n * @returns {String} image src\n */\n\n\nvar getSource$1 = compose(when(is(String), function (src) {\n  return {\n    uri: src\n  };\n}), firstPass(path(['props', 'src']), path(['props', 'source']), path(['props', 'href'])));\n/**\n * Resolves async src if passed\n *\n * @param {string | Function} src\n * @returns {object} resolved src\n */\n\nvar resolveSrc = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(src) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(typeof src === 'function')) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 3;\n            return src();\n\n          case 3:\n            _context.t1 = _context.sent;\n            _context.t0 = {\n              uri: _context.t1\n            };\n            _context.next = 8;\n            break;\n\n          case 7:\n            _context.t0 = src;\n\n          case 8:\n            return _context.abrupt(\"return\", _context.t0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function resolveSrc(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**\n * Fetches image and append data to node\n * Ideally this fn should be immutable.\n *\n * @param {Object} node\n */\n\n\nvar fetchImage = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(node) {\n    var src, cache, source;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            src = getSource$1(node);\n            cache = node.props.cache;\n\n            if (src) {\n              _context2.next = 5;\n              break;\n            }\n\n            warning(false, 'Image should receive either a \"src\" or \"source\" prop');\n            return _context2.abrupt(\"return\");\n\n          case 5:\n            _context2.prev = 5;\n            _context2.next = 8;\n            return resolveSrc(src);\n\n          case 8:\n            source = _context2.sent;\n            _context2.next = 11;\n            return resolveImage(source, {\n              cache: cache\n            });\n\n          case 11:\n            node.image = _context2.sent;\n            _context2.next = 18;\n            break;\n\n          case 14:\n            _context2.prev = 14;\n            _context2.t0 = _context2[\"catch\"](5);\n            node.image = {\n              width: 0,\n              height: 0\n            };\n            console.warn(_context2.t0.message);\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[5, 14]]);\n  }));\n\n  return function fetchImage(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar emojis = {};\nvar regex = emojiRegex();\n\nvar reflect = function reflect(promise) {\n  return function () {\n    return promise.apply(void 0, arguments).then(function (v) {\n      return v;\n    }, function (e) {\n      return e;\n    });\n  };\n}; // Returns a function to be able to mock resolveImage.\n\n\nvar makeFetchEmojiImage = function makeFetchEmojiImage() {\n  return reflect(resolveImage);\n};\n/**\n * When an emoji as no color, it might still have 2 parts,\n * the canonical emoji and an empty string.\n * ex.\n *   (no color) Array.from('❤️') => [\"❤\", \"️\"]\n *   (w/ color) Array.from('👍🏿') => [\"👍\", \"🏿\"]\n *\n * The empty string needs to be removed otherwise the generated\n * url will be incorect.\n */\n\n\nvar _removeNoColor = function _removeNoColor(x) {\n  return x !== '️';\n};\n\nvar getCodePoints = function getCodePoints(string) {\n  return Array.from(string).filter(_removeNoColor).map(function (_char2) {\n    return _char2.codePointAt(0).toString(16);\n  }).join('-');\n};\n\nvar buildEmojiUrl = function buildEmojiUrl(emoji) {\n  var _Font$getEmojiSource = Font$1.getEmojiSource(),\n      url = _Font$getEmojiSource.url,\n      format = _Font$getEmojiSource.format;\n\n  return \"\" + url + getCodePoints(emoji) + \".\" + format;\n};\n\nvar fetchEmojis = function fetchEmojis(string) {\n  var emojiSource = Font$1.getEmojiSource();\n  if (!emojiSource || !emojiSource.url) return [];\n  var promises = [];\n  var match;\n\n  var _loop = function _loop() {\n    var emoji = match[0];\n\n    if (!emojis[emoji] || emojis[emoji].loading) {\n      var emojiUrl = buildEmojiUrl(emoji);\n      emojis[emoji] = {\n        loading: true\n      };\n      var fetchEmojiImage = makeFetchEmojiImage();\n      promises.push(fetchEmojiImage({\n        uri: emojiUrl\n      }).then(function (image) {\n        emojis[emoji].loading = false;\n        emojis[emoji].data = image.data;\n      }));\n    }\n  };\n\n  while (match = regex.exec(string)) {\n    _loop();\n  }\n\n  return promises;\n};\n\nvar embedEmojis = function embedEmojis(fragments) {\n  var result = [];\n\n  for (var i = 0; i < fragments.length; i++) {\n    var fragment = fragments[i];\n    var match = void 0;\n    var lastIndex = 0;\n\n    while (match = regex.exec(fragment.string)) {\n      var index = match.index;\n      var emoji = match[0];\n      var emojiSize = fragment.attributes.fontSize;\n      var chunk = fragment.string.slice(lastIndex, index + match[0].length); // If emoji image was found, we create a new fragment with the\n      // correct attachment and object substitution character;\n\n      if (emojis[emoji] && emojis[emoji].data) {\n        result.push({\n          string: chunk.replace(match, String.fromCharCode(0xfffc)),\n          attributes: _extends({}, fragment.attributes, {\n            attachment: {\n              width: emojiSize,\n              height: emojiSize,\n              yOffset: Math.floor(emojiSize * 0.1),\n              image: emojis[emoji].data\n            }\n          })\n        });\n      } else {\n        // If no emoji data, we just replace the emoji with a nodef char\n        result.push({\n          string: chunk.replace(match, String.fromCharCode(0)),\n          attributes: fragment.attributes\n        });\n      }\n\n      lastIndex = index + emoji.length;\n    }\n\n    if (lastIndex < fragment.string.length) {\n      result.push({\n        string: fragment.string.slice(lastIndex),\n        attributes: fragment.attributes\n      });\n    }\n  }\n\n  return result;\n};\n/**\n * Get all asset promises that need to be resolved\n *\n * @param {Object} root node\n * @returns {Array} asset promises\n */\n\n\nvar fetchAssets = function fetchAssets(node) {\n  var promises = [];\n  var listToExplore = node.children.slice(0);\n\n  while (listToExplore.length > 0) {\n    var _node = listToExplore.shift();\n\n    if (isImage(_node)) {\n      promises.push(fetchImage(_node));\n    }\n\n    if (_node.style && _node.style.fontFamily) {\n      promises.push(Font$1.load(_node.style));\n    }\n\n    if (typeof _node === 'string') {\n      promises.push.apply(promises, fetchEmojis(_node));\n    }\n\n    if (typeof _node.value === 'string') {\n      promises.push.apply(promises, fetchEmojis(_node.value));\n    }\n\n    if (_node.children) {\n      _node.children.forEach(function (childNode) {\n        listToExplore.push(childNode);\n      });\n    }\n  }\n\n  return promises;\n};\n/**\n * Fetch image, font and emoji assets in parallel.\n * Layout process will not be resumed until promise resolves.\n *\n * @param {Object} root node\n * @returns {Object} root node\n */\n\n\nvar resolveAssets = function resolveAssets(node) {\n  return compose(then(always(node)), function (p) {\n    return Promise.all(p);\n  }, fetchAssets)(node);\n};\n/**\n * Checks if value is not an array\n *\n * @param {any} value\n * @returns {Boolean} isn't value an array\n */\n\n\nvar isNotArray = complement(is(Array));\n/**\n * Casts value to array\n *\n * @param {any} value\n * @returns {Array} casted value\n */\n\nvar castArray = when(isNotArray, function (v) {\n  return [v];\n});\n/**\n * Remove nil values from array\n *\n * @param {Array} array\n * @returns {Array} array without nils\n */\n\nvar compact = filter(Boolean);\n/**\n * Checks if value is array\n *\n * @param {any} value\n * @returns {Boolean} is value an array\n */\n\nvar isArray = is(Array);\n/**\n * Merges style objects array\n *\n * @param {Array} style objects array\n * @returns {Object} merged style object\n */\n\nvar mergeStyles$1 = function mergeStyles(styles) {\n  return styles.reduce(function (acc, style) {\n    var s = isArray(style) ? flatten(style) : style;\n    Object.keys(s).forEach(function (key) {\n      if (s[key] !== null && s[key] !== undefined) {\n        acc[key] = s[key];\n      }\n    });\n    return acc;\n  }, {});\n};\n/**\n * Flattens an array of style objects, into one aggregated style object.\n *\n * @param {Array} style objects array\n * @returns {Object} flatted style object\n */\n\n\nvar flatten = compose(mergeStyles$1, compact, castArray);\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Expand rules\n */\n\nvar styleShorthands = {\n  margin: {\n    marginTop: true,\n    marginRight: true,\n    marginBottom: true,\n    marginLeft: true\n  },\n  marginHorizontal: {\n    marginLeft: true,\n    marginRight: true\n  },\n  marginVertical: {\n    marginTop: true,\n    marginBottom: true\n  },\n  padding: {\n    paddingTop: true,\n    paddingRight: true,\n    paddingBottom: true,\n    paddingLeft: true\n  },\n  paddingHorizontal: {\n    paddingLeft: true,\n    paddingRight: true\n  },\n  paddingVertical: {\n    paddingTop: true,\n    paddingBottom: true\n  },\n  border: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true,\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true,\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true,\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true\n  },\n  borderTop: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true\n  },\n  borderRight: {\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true\n  },\n  borderBottom: {\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true\n  },\n  borderLeft: {\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true\n  },\n  borderColor: {\n    borderTopColor: true,\n    borderRightColor: true,\n    borderBottomColor: true,\n    borderLeftColor: true\n  },\n  borderRadius: {\n    borderTopLeftRadius: true,\n    borderTopRightRadius: true,\n    borderBottomRightRadius: true,\n    borderBottomLeftRadius: true\n  },\n  borderStyle: {\n    borderTopStyle: true,\n    borderRightStyle: true,\n    borderBottomStyle: true,\n    borderLeftStyle: true\n  },\n  borderWidth: {\n    borderTopWidth: true,\n    borderRightWidth: true,\n    borderBottomWidth: true,\n    borderLeftWidth: true\n  },\n  objectPosition: {\n    objectPositionX: true,\n    objectPositionY: true\n  },\n  transformOrigin: {\n    transformOriginX: true,\n    transformOriginY: true\n  },\n  flex: {\n    flexGrow: true,\n    flexShrink: true,\n    flexBasis: true\n  }\n};\n/**\n * Expand the shorthand properties to isolate every declaration from the others.\n *\n * @param { Object } style object\n * @returns { Object } expanded style object\n */\n\nvar expandStyles = function expandStyles(style) {\n  if (!style) return style;\n  var propsArray = Object.keys(style);\n  var resolvedStyle = {};\n\n  for (var i = 0; i < propsArray.length; i++) {\n    var key = propsArray[i];\n    var value = style[key];\n\n    if (styleShorthands[key]) {\n      var expandedProps = styleShorthands[key];\n\n      for (var propName in expandedProps) {\n        if (hasOwnProperty.call(expandedProps, propName)) {\n          resolvedStyle[propName] = value;\n        }\n      }\n    } else {\n      resolvedStyle[key] = value;\n    }\n  }\n\n  return resolvedStyle;\n};\n\nvar MM_FACTOR = 1 / 25.4 * DPI;\nvar CM_FACTOR = 1 / 2.54 * DPI;\n/**\n * Parses scalar value in value and unit pairs\n *\n * @param {String} scalar value\n * @returns {Object} parsed value\n */\n\nvar parseValue = function parseValue(value) {\n  var match = /^(-?\\d*\\.?\\d+)(in|mm|cm|pt|vh|vw|px)?$/g.exec(value);\n  return match ? {\n    value: parseFloat(match[1], 10),\n    unit: match[2] || 'pt'\n  } : {\n    value: value,\n    unit: undefined\n  };\n};\n/**\n * Transform given scalar value\n *\n * @param {Object} container\n * @param {String} styles value\n * @returns {Object} transformed value\n */\n\n\nvar transformUnit = curryN(2, function (container, value) {\n  var scalar = parseValue(value);\n\n  switch (scalar.unit) {\n    case 'in':\n      return scalar.value * DPI;\n\n    case 'mm':\n      return scalar.value * MM_FACTOR;\n\n    case 'cm':\n      return scalar.value * CM_FACTOR;\n\n    case 'vh':\n      return scalar.value * (container.height / 100);\n\n    case 'vw':\n      return scalar.value * (container.width / 100);\n\n    default:\n      return scalar.value;\n  }\n});\n/**\n * Transform units on given styles object.\n * Container is given to calculate vh and vw\n *\n * @param {Object} container\n * @param {Object} styles object\n * @returns {Object} transformed styles\n */\n\nvar transformUnits = function transformUnits(container, styles) {\n  return map(transformUnit(container), styles);\n};\n\nvar transformUnits$1 = curryN(2, transformUnits);\n/**\n * Resolves media queries in styles object\n *\n * @param {Object} container\n * @param {Object} styles object\n */\n\nvar resolveMediaQueries = function resolveMediaQueries(container, styles) {\n  return Object.keys(styles).reduce(function (acc, key) {\n    var _extends2;\n\n    if (/@media/.test(key)) {\n      var _matchMedia;\n\n      return _extends({}, acc, matchMedia((_matchMedia = {}, _matchMedia[key] = styles[key], _matchMedia), container));\n    }\n\n    return _extends({}, acc, (_extends2 = {}, _extends2[key] = styles[key], _extends2));\n  }, {});\n};\n\nvar resolveMediaQueries$1 = curryN(2, resolveMediaQueries);\nvar LINK_STYLES = {\n  color: 'blue',\n  textDecoration: 'underline'\n};\n/**\n * Filter styles with `none` value\n *\n * @param {Object} style object\n * @returns {Object} style without none values\n */\n\nvar filterNoneValues = reject(equals('none'));\n/**\n * Resolves styles\n *\n * @param {Object} container\n * @param {Object} node\n * @param {Object} style object\n * @returns {Object} resolved style object\n */\n\nvar resolveStyles = function resolveStyles(container) {\n  return compose(transformUnits$1(container), transformColors, transformStyles, expandStyles, resolveMediaQueries$1(container), filterNoneValues, flatten);\n};\n/**\n * Resolves node styles\n *\n * @param {Object} container\n * @param {Object} document node\n * @returns {Object} node (and subnodes) with resolved styles\n */\n\n\nvar resolveNodeStyles = function resolveNodeStyles(container) {\n  return function (node) {\n    return o(when(isLink, evolve({\n      style: merge(LINK_STYLES)\n    })), evolve({\n      style: resolveStyles(container),\n      children: map(resolveNodeStyles(container))\n    }))(node);\n  };\n};\n/**\n * Resolves page styles\n *\n * @param {Object} document page\n * @returns {Object} document page with resolved styles\n */\n\n\nvar resolvePageStyles = function resolvePageStyles(page) {\n  var box = prop('box', page);\n  var style = prop('style', page);\n  var container = isEmpty(box) ? style : box;\n  return evolve({\n    style: resolveStyles(container),\n    children: map(resolveNodeStyles(container))\n  })(page);\n};\n/**\n * Resolves root styles\n *\n * @param {Object} document root\n * @returns {Object} document root with resolved styles\n */\n\n\nvar resolveStyles$1 = evolve({\n  children: map(resolvePageStyles)\n});\n\nvar getTransformStyle = function getTransformStyle(s) {\n  return pathOr('50%', ['style', s]);\n};\n/**\n * Get node origin\n *\n * @param {Object} node\n * @returns {Object} node origin\n */\n\n\nvar getOrigin = function getOrigin(node) {\n  if (!node.box) return {};\n  var _node$box = node.box,\n      left = _node$box.left,\n      top = _node$box.top,\n      width = _node$box.width,\n      height = _node$box.height;\n  var transformOriginX = getTransformStyle('transformOriginX')(node);\n  var transformOriginY = getTransformStyle('transformOriginY')(node);\n  var percentX = matchPercent(transformOriginX);\n  var percentY = matchPercent(transformOriginY);\n  var offsetX = percentX ? width * percentX.percent : transformOriginX;\n  var offsetY = percentY ? height * percentY.percent : transformOriginY;\n  return {\n    left: left + offsetX,\n    top: top + offsetY\n  };\n};\n/**\n * Resolve node origin\n *\n * @param {Object} node\n * @returns {Object} node with origin attribute\n */\n\n\nvar resolveNodeOrigin = function resolveNodeOrigin(node) {\n  return compose(evolve({\n    children: map(resolveNodeOrigin)\n  }), converge(assoc('origin'), [getOrigin, identity]))(node);\n};\n/**\n * Resolve document origins\n *\n * @param {Object} document root\n * @returns {Object} documrnt root\n */\n\n\nvar resolveOrigin = evolve({\n  children: map(resolveNodeOrigin)\n});\nvar VALID_ORIENTATIONS = [PORTRAIT, LANDSCAPE];\n/**\n * Get page orientation. Defaults to landscape\n *\n * @param { Object } page object\n * @returns { String } page orientation\n */\n\nvar getOrientation = compose(ifElse(includes(__, VALID_ORIENTATIONS), identity, always(PORTRAIT)), pathOr(PORTRAIT, ['props', 'orientation']));\nvar isLandscape = compose(equals(LANDSCAPE), getOrientation);\n/**\n * Transforms array into size object\n *\n * @param {Array} array\n * @returns {Object} size object with width and height\n */\n\nvar toSizeObject = applySpec({\n  width: prop(0),\n  height: prop(1)\n});\n/**\n * Flip size object\n *\n * @param {Object} size object\n * @returns {Object} flipped size object\n */\n\nvar flipSizeObject = applySpec({\n  width: prop('height'),\n  height: prop('width')\n});\n/**\n * Returns size object from a given string\n *\n * @param {String} page size string\n * @returns {Object} size object with width and height\n */\n\nvar getStringSize = compose(toSizeObject, prop(__, PAGE_SIZES), toUpper);\n/**\n * Returns size object from a single number\n *\n * @param {Number} page size number\n * @returns {Object} size object with width and height\n */\n\nvar getNumberSize = compose(toSizeObject, function (v) {\n  return [v];\n});\n/**\n * Throws invalid size error\n *\n * @param {String} invalid page size input\n */\n\nvar throwInvalidError = function throwInvalidError(size) {\n  throw new Error(\"Invalid Page size: \" + JSON.stringify(size));\n};\n/**\n * Return page size in an object { width, height }\n *\n * @param {Object} page instance\n * @returns {Object} size object with width and height\n */\n\n\nvar getSize = function getSize(page) {\n  var size = compose(cond([[is(String), getStringSize], [is(Array), toSizeObject], [is(Number), getNumberSize], [is(Object), identity], [T, throwInvalidError]]), pathOr('A4', ['props', 'size']))(page);\n  return isLandscape(page) ? flipSizeObject(size) : size;\n};\n/**\n * Add empt box prop if not present in node\n *\n * @param {Object} node\n * @returns {Object} node with box prop\n */\n\n\nvar assocIfNil = function assocIfNil(key, value, target) {\n  return when(compose(isNil, prop(key)), assoc(key, value))(target);\n};\n\nvar assocIfNil$1 = curryN(3, assocIfNil);\n/**\n * Resolves page size\n *\n * @param {Object} page\n * @returns {Object} page with resolved size in style attribute\n */\n\nvar resolvePageSize = function resolvePageSize(page) {\n  var size = getSize(page);\n  return evolve({\n    style: merge(__, size)\n  })(page);\n};\n/**\n * Resolves page sizes\n *\n * @param {Object} document root\n * @returns {Object} document root with resolved page sizes\n */\n\n\nvar resolvePageSizes = evolve({\n  children: map(compose(resolvePageSize, assocIfNil$1('style', {})))\n});\n/**\n * Get line index at given height\n *\n * @param {Object} node\n * @param {Number} height\n */\n\nvar lineIndexAtHeight = function lineIndexAtHeight(node, height) {\n  var y = 0;\n  if (!node.lines) return 0;\n\n  for (var i = 0; i < node.lines.length; i++) {\n    var line = node.lines[i];\n    if (y + line.box.height > height) return i;\n    y += line.box.height;\n  }\n\n  return node.lines.length;\n};\n/**\n * Get height for given text line index\n *\n * @param {Object} node\n * @param {Number} index\n */\n\n\nvar heightAtLineIndex = function heightAtLineIndex(node, index) {\n  var counter = 0;\n  if (!node.lines) return counter;\n\n  for (var i = 0; i < index; i++) {\n    var line = node.lines[i];\n    if (!line) break;\n    counter += line.box.height;\n  }\n\n  return counter;\n};\n\nvar zero = always(0);\nvar getTop = pathOr(0, ['box', 'top']);\nvar getWidows = pathOr(2, ['props', 'widows']);\nvar getOrphans = pathOr(2, ['props', 'orphans']);\n\nvar getLineBreak = function getLineBreak(node, height) {\n  var top = getTop(node);\n  var widows = getWidows(node);\n  var orphans = getOrphans(node);\n  var linesQuantity = node.lines.length;\n  var slicedLine = lineIndexAtHeight(node, height - top);\n\n  if (slicedLine === 0) {\n    return 0;\n  } else if (linesQuantity < orphans) {\n    return linesQuantity;\n  } else if (slicedLine < orphans || linesQuantity < orphans + widows) {\n    return 0;\n  } else if (linesQuantity === orphans + widows) {\n    return orphans;\n  } else if (linesQuantity - slicedLine < widows) {\n    return linesQuantity - widows;\n  }\n\n  return slicedLine;\n};\n\nvar splitText = function splitText(node, height) {\n  var slicedLineIndex = getLineBreak(node, height);\n  var currentHeight = heightAtLineIndex(node, slicedLineIndex);\n  var nextHeight = node.box.height - currentHeight;\n  var current = evolve({\n    lines: slice(0, slicedLineIndex),\n    style: evolve({\n      marginBottom: zero,\n      paddingBottom: zero,\n      borderBottomWidth: zero,\n      borderBottomLeftRadius: zero,\n      borderBottomRightRadius: zero\n    }),\n    box: {\n      height: always(currentHeight),\n      borderBottomWidth: zero\n    }\n  }, node);\n  var next = evolve({\n    lines: slice(slicedLineIndex, Infinity),\n    style: evolve({\n      marginTop: zero,\n      paddingTop: zero,\n      borderTopWidth: zero,\n      borderTopLeftRadius: zero,\n      borderTopRightRadius: zero\n    }),\n    box: {\n      top: zero,\n      height: always(nextHeight),\n      borderTopWidth: zero\n    }\n  }, node);\n  return [current, next];\n};\n\nvar zero$1 = always(0);\nvar getTop$1 = pathOr(0, ['box', 'top']);\nvar hasFixedHeight = hasPath(['style', 'height']);\n\nvar subtractHeight = function subtractHeight(value) {\n  return o(subtract(__, value), path(['box', 'height']));\n};\n\nvar splitNode = function splitNode(node, height) {\n  if (!node) return [null, null];\n  var nodeTop = getTop$1(node); // TODO: We should keep style untouched\n\n  var current = evolve({\n    style: evolve({\n      marginBottom: zero$1,\n      paddingBottom: zero$1,\n      borderBottomWidth: zero$1,\n      borderBottomLeftRadius: zero$1,\n      borderBottomRightRadius: zero$1\n    }),\n    box: {\n      height: always(height - nodeTop),\n      borderBottomWidth: zero$1\n    }\n  })(node);\n  var nextHeight = ifElse(hasFixedHeight, subtractHeight(height - nodeTop), always(null))(node); // TODO: We should keep style untouched\n\n  var next = evolve({\n    style: evolve({\n      marginTop: zero$1,\n      paddingTop: zero$1,\n      borderTopWidth: zero$1,\n      borderTopLeftRadius: zero$1,\n      borderTopRightRadius: zero$1\n    }),\n    box: {\n      top: zero$1,\n      height: always(nextHeight),\n      borderTopWidth: zero$1\n    }\n  })(node);\n  return [current, next];\n};\n\nvar isString = is(String);\nvar isNumber$1 = is(Number);\nvar isNotString = complement(isString);\n/**\n * Transforms a react element instance to internal element format\n *\n * @param {Object} React element\n * @returns {Object} parsed react element\n */\n\nvar createInstance = function createInstance(element) {\n  if (isString(element) || isNumber$1(element)) return {\n    type: TEXT_INSTANCE,\n    value: \"\" + element\n  };\n  if (isNotString(element.type)) return createInstance(element.type(element.props));\n\n  var type = element.type,\n      _element$props = element.props,\n      _element$props$style = _element$props.style,\n      style = _element$props$style === void 0 ? {} : _element$props$style,\n      _element$props$childr = _element$props.children,\n      children = _element$props$childr === void 0 ? [] : _element$props$childr,\n      props = _objectWithoutPropertiesLoose(_element$props, [\"style\", \"children\"]);\n\n  var nextChildren = compose(map(createInstance), castArray)(children);\n  return {\n    type: type,\n    style: style,\n    props: props,\n    box: {},\n    children: nextChildren\n  };\n};\n/**\n * Get many nodes height\n *\n * @param {Array} nodes\n * @return {number} nodes height\n */\n\n\nvar getNodesHeight = function getNodesHeight(nodes) {\n  var max = 0;\n  var min = Infinity;\n  if (isEmpty(nodes)) return 0;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    min = Math.min(min, node.box.top);\n    max = Math.max(max, node.box.top + node.box.height);\n  }\n\n  return max - min;\n};\n\nvar getWrap = ifElse(anyPass([isSvg, isNote, isImage, isCanvas]), always(false), pathOr(true, ['props', 'wrap']));\nvar getBreak = pathOr(false, ['props', 'break']);\nvar getMinPresenceAhead = path(['props', 'minPresenceAhead']);\n\nvar defaultPresenceAhead = function defaultPresenceAhead(element) {\n  return function (height) {\n    return Math.min(element.box.height, height);\n  };\n};\n\nvar getPresenceAhead = function getPresenceAhead(elements, height) {\n  var result = 0;\n\n  for (var i = 0; i < elements.length; i++) {\n    var element = elements[i];\n    if (!element.box) continue;\n    var isElementInside = height > element.box.top;\n    var presenceAhead = element.props.presenceAhead || defaultPresenceAhead(element);\n\n    if (element && isElementInside) {\n      result += presenceAhead(height - element.box.top);\n    }\n  }\n\n  return result;\n};\n\nvar shouldBreak = function shouldBreak(child, futureElements, height) {\n  var minPresenceAhead = getMinPresenceAhead(child);\n  var presenceAhead = getPresenceAhead(futureElements, height);\n  var futureHeight = getNodesHeight(futureElements);\n  var shouldSplit = height < child.box.top + child.box.height;\n  var shouldWrap = getWrap(child);\n  return getBreak(child) || !shouldWrap && shouldSplit || minPresenceAhead < futureHeight && presenceAhead < minPresenceAhead;\n};\n\nvar getComputedPadding = function getComputedPadding(edge) {\n  return function (node) {\n    var yogaNode = node._yogaNode;\n    return yogaNode ? yogaNode.getComputedPadding(edge) : null;\n  };\n};\n/**\n * Get Yoga computed paddings. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} paddings\n */\n\n\nvar getPadding = applySpec({\n  paddingTop: firstPass(getComputedPadding(Yoga.EDGE_TOP), path(['box', 'paddingTop']), path(['style', 'paddingTop']), path(['style', 'paddingVertical']), path(['style', 'padding']), always(0)),\n  paddingRight: firstPass(getComputedPadding(Yoga.EDGE_RIGHT), path(['box', 'paddingRight']), path(['style', 'paddingRight']), path(['style', 'paddingHorizontal']), path(['style', 'padding']), always(0)),\n  paddingBottom: firstPass(getComputedPadding(Yoga.EDGE_BOTTOM), path(['box', 'paddingBottom']), path(['style', 'paddingBottom']), path(['style', 'paddingVertical']), path(['style', 'padding']), always(0)),\n  paddingLeft: firstPass(getComputedPadding(Yoga.EDGE_LEFT), path(['box', 'paddingLeft']), path(['style', 'paddingLeft']), path(['style', 'paddingHorizontal']), path(['style', 'padding']), always(0))\n});\n\nvar getContentArea = function getContentArea(page) {\n  var _getPadding = getPadding(page),\n      paddingTop = _getPadding.paddingTop;\n\n  var height = path(['style', 'height'], page);\n  return height - paddingTop;\n};\n\nvar IGNORABLE_CODEPOINTS = [8232, // LINE_SEPARATOR\n8233];\n\nvar buildSubsetForFont = function buildSubsetForFont(font) {\n  return IGNORABLE_CODEPOINTS.reduce(function (acc, codePoint) {\n    if (font.hasGlyphForCodePoint && font.hasGlyphForCodePoint(codePoint)) {\n      return acc;\n    }\n\n    return [].concat(acc, [String.fromCharCode(codePoint)]);\n  }, []);\n};\n\nvar ignoreChars = function ignoreChars(fragments) {\n  return fragments.map(function (fragment) {\n    var charSubset = buildSubsetForFont(fragment.attributes.font);\n    var subsetRegex = new RegExp(charSubset.join('|'));\n    return {\n      string: fragment.string.replace(subsetRegex, ''),\n      attributes: fragment.attributes\n    };\n  });\n};\n\nvar PREPROCESSORS = [ignoreChars, embedEmojis];\n/**\n * Get textkit framgents of given node object\n *\n * @param {Object} instance node\n * @returns {Array} text fragments\n */\n\nvar getFragments$1 = function getFragments(instance) {\n  if (!instance) return [{\n    string: ''\n  }];\n  var fragments = [];\n  var _instance$style = instance.style,\n      _instance$style$color = _instance$style.color,\n      color = _instance$style$color === void 0 ? 'black' : _instance$style$color,\n      backgroundColor = _instance$style.backgroundColor,\n      _instance$style$fontF = _instance$style.fontFamily,\n      fontFamily = _instance$style$fontF === void 0 ? 'Helvetica' : _instance$style$fontF,\n      fontWeight = _instance$style.fontWeight,\n      fontStyle = _instance$style.fontStyle,\n      _instance$style$fontS = _instance$style.fontSize,\n      fontSize = _instance$style$fontS === void 0 ? 18 : _instance$style$fontS,\n      _instance$style$textA = _instance$style.textAlign,\n      textAlign = _instance$style$textA === void 0 ? 'left' : _instance$style$textA,\n      lineHeight = _instance$style.lineHeight,\n      textDecoration = _instance$style.textDecoration,\n      textDecorationColor = _instance$style.textDecorationColor,\n      textDecorationStyle = _instance$style.textDecorationStyle,\n      textTransform = _instance$style.textTransform,\n      letterSpacing = _instance$style.letterSpacing,\n      textIndent = _instance$style.textIndent,\n      opacity = _instance$style.opacity;\n  var obj = Font$1.getFont({\n    fontFamily: fontFamily,\n    fontWeight: fontWeight,\n    fontStyle: fontStyle\n  });\n  var font = obj ? obj.data : fontFamily;\n  var attributes = {\n    font: font,\n    color: color,\n    opacity: opacity,\n    fontSize: fontSize,\n    backgroundColor: backgroundColor,\n    align: textAlign,\n    indent: textIndent,\n    link: instance.src,\n    characterSpacing: letterSpacing,\n    underlineStyle: textDecorationStyle,\n    underline: textDecoration === 'underline',\n    underlineColor: textDecorationColor || color,\n    strike: textDecoration === 'line-through',\n    strikeStyle: textDecorationStyle,\n    strikeColor: textDecorationColor || color,\n    lineHeight: lineHeight ? lineHeight * fontSize : null\n  };\n  instance.children.forEach(function (child) {\n    if (isImage(child)) {\n      fragments.push({\n        string: String.fromCharCode(0xfffc),\n        attributes: _extends({}, attributes, {\n          attachment: {\n            width: child.style.width || fontSize,\n            height: child.style.height || fontSize,\n            image: child.image.data\n          }\n        })\n      });\n    } else if (isTextInstance(child)) {\n      fragments.push({\n        string: transformText(child.value, textTransform),\n        attributes: attributes\n      });\n    } else {\n      if (child) {\n        var _fragments;\n\n        (_fragments = fragments).push.apply(_fragments, getFragments(child));\n      }\n    }\n  });\n\n  for (var _i = 0; _i < PREPROCESSORS.length; _i++) {\n    var preprocessor = PREPROCESSORS[_i];\n    fragments = preprocessor(fragments);\n  }\n\n  return fragments;\n};\n/**\n * Get textkit attributed string from text node\n *\n * @param {Object} instance node\n * @returns {Object} attributed string\n */\n\n\nvar getAttributedString$1 = function getAttributedString(instance) {\n  return AttributedString.fromFragments(getFragments$1(instance));\n};\n\nvar engines$1 = {\n  linebreaker: linebreaker,\n  justification: justification,\n  textDecoration: textDecoration,\n  scriptItemizer: scriptItemizer,\n  wordHyphenation: wordHyphenation,\n  fontSubstitution: fontSubstitution\n};\nvar engine$1 = layoutEngine(engines$1);\n/**\n * Get layout container for specific text node\n *\n * @param {Object} node\n * @param {Number} width\n * @param {Number} height\n * @returns {Object} layout container\n */\n\nvar getContainer$1 = function getContainer(node, width, height) {\n  var maxLines = path(['style', 'maxLines'], node);\n  var textOverflow = path(['style', 'textOverflow'], node);\n  return {\n    x: 0,\n    y: 0,\n    width: width,\n    maxLines: maxLines,\n    height: height || Infinity,\n    truncateMode: textOverflow\n  };\n};\n/**\n * Get text layout options for specific text node\n *\n * @param {Object} node instance\n * @returns {Object} layout options\n */\n\n\nvar getLayoutOptions = function getLayoutOptions(node) {\n  return {\n    hyphenationPenalty: node.props.hyphenationPenalty,\n    hyphenationCallback: Font$1.getHyphenationCallback(),\n    shrinkWhitespaceFactor: {\n      before: -0.5,\n      after: -0.5\n    }\n  };\n};\n/**\n * Get text lines for given node\n *\n * @param {Object} node\n * @param {Number} container width\n * @param {Number} container height\n * @returns {Array} layout lines\n */\n\n\nvar layoutText$1 = compose(reduce(concat, []), converge(engine$1, [getAttributedString$1, getContainer$1, getLayoutOptions]));\nvar isNotSvg = complement(isSvg);\n\nvar hasLines = function hasLines(node) {\n  return node.props.fixed ? !isEmpty(node.lines) : !!node.lines;\n};\n\nvar shouldLayoutText = function shouldLayoutText(node) {\n  return isText(node) && !hasLines(node);\n};\n/**\n * Performs text layout on text node if wasn't calculated before.\n * Text layout is usually performed on Yoga's layout process (via setMeasureFunc),\n * but we need to layout those nodes with fixed width and height.\n *\n * @param {Object} node\n * @returns {Object} layouted node\n */\n\n\nvar resolveTextLayout = function resolveTextLayout(node) {\n  return compose(evolve({\n    children: map(when(isNotSvg, resolveTextLayout))\n  }), when(shouldLayoutText, compose(converge(assoc('lines'), [converge(layoutText$1, [identity, path(['box', 'width']), path(['box', 'height'])]), identity]))))(node);\n};\n/**\n * Get styles sub group of inherited properties\n *\n * @param {Object} style object\n * @returns {Object} style object only with inherited properties\n */\n\n\nvar getInheritStyles = compose(pick(INHERITED_PROPERTIES), propOr({}, 'style'));\n/**\n * Merges styles with node\n *\n * @param {Object} style object\n * @param {Object} node\n * @returns {Object} node with styles merged\n */\n\nvar mergeStyles$2 = function mergeStyles(styles) {\n  return evolve({\n    style: merge(styles)\n  });\n};\n/**\n * Inherit style values from the root to the leafs\n *\n * @param {Object} document root\n * @returns {Object} document root with inheritance\n *\n */\n\n\nvar resolveInheritance = function resolveInheritance(node) {\n  if (isSvg(node)) return node;\n  var inheritStyles = getInheritStyles(node);\n  return evolve({\n    children: map(compose(resolveInheritance, mergeStyles$2(inheritStyles)))\n  })(node);\n};\n\nvar getComputedMargin = function getComputedMargin(edge) {\n  return function (node) {\n    var yogaNode = node._yogaNode;\n    return yogaNode ? yogaNode.getComputedMargin(edge) : null;\n  };\n};\n/**\n * Get Yoga computed magins. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} margins\n */\n\n\nvar getMargin = applySpec({\n  marginTop: firstPass(getComputedMargin(Yoga.EDGE_TOP), path(['box', 'marginTop']), path(['style', 'marginTop']), path(['style', 'marginVertical']), path(['style', 'margin']), always(0)),\n  marginRight: firstPass(getComputedMargin(Yoga.EDGE_RIGHT), path(['box', 'marginRight']), path(['style', 'marginRight']), path(['style', 'marginHorizontal']), path(['style', 'margin']), always(0)),\n  marginBottom: firstPass(getComputedMargin(Yoga.EDGE_BOTTOM), path(['box', 'marginBottom']), path(['style', 'marginBottom']), path(['style', 'marginVertical']), path(['style', 'margin']), always(0)),\n  marginLeft: firstPass(getComputedMargin(Yoga.EDGE_LEFT), path(['box', 'marginLeft']), path(['style', 'marginLeft']), path(['style', 'marginHorizontal']), path(['style', 'margin']), always(0))\n});\n\nvar getTop$2 = function getTop(yogaNode) {\n  return yogaNode ? yogaNode.getComputedTop() : 0;\n};\n\nvar getRight = function getRight(yogaNode) {\n  return yogaNode ? yogaNode.getComputedRight() : 0;\n};\n\nvar getBottom = function getBottom(yogaNode) {\n  return yogaNode ? yogaNode.getComputedBottom() : 0;\n};\n\nvar getLeft = function getLeft(yogaNode) {\n  return yogaNode ? yogaNode.getComputedLeft() : 0;\n};\n/**\n * Get Yoga computed position. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} position\n */\n\n\nvar getPosition = function getPosition(node) {\n  var yogaNode = node._yogaNode;\n  return applySpec({\n    top: getTop$2,\n    right: getRight,\n    bottom: getBottom,\n    left: getLeft\n  })(yogaNode);\n};\n\nvar DEFAULT_DIMENSION = {\n  width: 0,\n  height: 0\n};\n/**\n * Get Yoga computed dimensions. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} dimensions\n */\n\nvar getDimension = function getDimension(node) {\n  var yogaNode = node._yogaNode;\n  if (!yogaNode) return DEFAULT_DIMENSION;\n  return {\n    width: yogaNode.getComputedWidth(),\n    height: yogaNode.getComputedHeight()\n  };\n};\n\nvar getComputedBorder = function getComputedBorder(edge) {\n  return function (yogaNode) {\n    return yogaNode ? yogaNode.getComputedBorder(edge) : 0;\n  };\n};\n/**\n * Get Yoga computed border width. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} border widths\n */\n\n\nvar getBorderWidth = function getBorderWidth(node) {\n  var yogaNode = node._yogaNode;\n  return applySpec({\n    borderTopWidth: getComputedBorder(Yoga.EDGE_TOP),\n    borderRightWidth: getComputedBorder(Yoga.EDGE_RIGHT),\n    borderBottomWidth: getComputedBorder(Yoga.EDGE_BOTTOM),\n    borderLeftWidth: getComputedBorder(Yoga.EDGE_LEFT)\n  })(yogaNode);\n};\n/**\n * Set display attribute to node's Yoga instance\n *\n * @param {String} display\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setDisplay = function setDisplay(value) {\n  return tap(function (node) {\n    var yogaNode = node._yogaNode;\n\n    if (yogaNode) {\n      yogaNode.setDisplay(value === 'none' ? Yoga.DISPLAY_NONE : Yoga.DISPLAY_FLEX);\n    }\n  });\n};\n/**\n * Set overflow attribute to node's Yoga instance\n *\n * @param {String} overflow value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setOverflow = function setOverflow(value) {\n  return tap(function (node) {\n    var yogaNode = node._yogaNode;\n\n    if (!isNil(value) && yogaNode) {\n      var yogaValue = cond([[equals('hidden'), always(Yoga.OVERFLOW_HIDDEN)], [equals('scroll'), always(Yoga.OVERFLOW_SCROLL)], [T, always(Yoga.OVERFLOW_VISIBLE)]])(value);\n      yogaNode.setOverflow(yogaValue);\n    }\n  });\n};\n/**\n * Set flex wrap attribute to node's Yoga instance\n *\n * @param {String} flex wrap value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setFlexWrap = function setFlexWrap(value) {\n  return tap(function (node) {\n    var yogaNode = node._yogaNode;\n\n    if (yogaNode) {\n      var yogaValue = cond([[equals('wrap'), always(Yoga.WRAP_WRAP)], [equals('wrap-reverse'), always(Yoga.WRAP_WRAP_REVERSE)], [T, always(Yoga.WRAP_NO_WRAP)]])(value);\n      yogaNode.setFlexWrap(yogaValue);\n    }\n  });\n};\n\nvar isNotNil$1 = complement(isNil);\n/**\n * Set generic yoga attribute to node's Yoga instance, handing `auto`, edges and percentage cases\n *\n * @param {String} property\n * @param {Number} edge\n * @param {any} value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setYogaValue = function setYogaValue(attr, edge) {\n  return function (value) {\n    return tap(function (node) {\n      var yogaNode = node._yogaNode;\n\n      if (!isNil(value) && yogaNode) {\n        var hasEdge = isNotNil$1(edge);\n        var fixedMethod = \"set\" + upperFirst$1(attr);\n        var autoMethod = fixedMethod + \"Auto\";\n        var percentMethod = fixedMethod + \"Percent\";\n        var percent = matchPercent(value);\n\n        if (percent && !yogaNode[percentMethod]) {\n          throw new Error(\"You can't pass percentage values to \" + attr + \" property\");\n        }\n\n        if (percent) {\n          hasEdge ? yogaNode[percentMethod](edge, percent.value) : yogaNode[percentMethod](percent.value);\n        } else if (value === 'auto') {\n          hasEdge ? yogaNode[autoMethod](edge) : yogaNode[autoMethod]();\n        } else {\n          hasEdge ? yogaNode[fixedMethod](edge, value) : yogaNode[fixedMethod](value);\n        }\n      }\n    });\n  };\n};\n/**\n * Set flex grow attribute to node's Yoga instance\n *\n * @param {Number} flex grow value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setFlexGrow = compose(setYogaValue('flexGrow'), defaultTo(0));\n/**\n * Set flex basis attribute to node's Yoga instance\n *\n * @param {Number} flex basis value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setFlexBasis = setYogaValue('flexBasis');\n/**\n * Set generic align attribute to node's Yoga instance\n *\n * @param {String} specific align property\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setAlign = function setAlign(attr) {\n  return function (value) {\n    return tap(function (node) {\n      var yogaNode = node._yogaNode;\n\n      if (yogaNode) {\n        var yogaValue = cond([[equals('flex-start'), always(Yoga.ALIGN_FLEX_START)], [equals('center'), always(Yoga.ALIGN_CENTER)], [equals('flex-end'), always(Yoga.ALIGN_FLEX_END)], [equals('stretch'), always(Yoga.ALIGN_STRETCH)], [equals('baseline'), always(Yoga.ALIGN_BASELINE)], [equals('space-between'), always(Yoga.ALIGN_SPACE_BETWEEN)], [equals('space-around'), always(Yoga.ALIGN_SPACE_AROUND)], [T, always(attr === 'items' ? Yoga.ALIGN_STRETCH : Yoga.ALIGN_AUTO)]])(value);\n        yogaNode[\"setAlign\" + upperFirst$1(attr)](yogaValue);\n      }\n    });\n  };\n};\n/**\n * Set align self attribute to node's Yoga instance\n *\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setAlignSelf = setAlign('self');\n/**\n * Set align items attribute to node's Yoga instance\n *\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setAlignItems = setAlign('items');\n/**\n * Set flex shrink attribute to node's Yoga instance\n *\n * @param {Number} flex shrink value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setFlexShrink = compose(setYogaValue('flexShrink'), defaultTo(1));\n/**\n * Set aspect ratio attribute to node's Yoga instance\n *\n * @param {Number} ratio\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setAspectRatio = function setAspectRatio(value) {\n  return tap(function (node) {\n    var yogaNode = node._yogaNode;\n\n    if (!isNil(value) && yogaNode) {\n      yogaNode.setAspectRatio(value);\n    }\n  });\n};\n/**\n * Set align content attribute to node's Yoga instance\n *\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setAlignContent = setAlign('content');\n/**\n * Set position type attribute to node's Yoga instance\n *\n * @param {String} position type\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPositionType = function setPositionType(value) {\n  return tap(function (node) {\n    var yogaNode = node._yogaNode;\n\n    if (!isNil(value) && yogaNode) {\n      yogaNode.setPositionType(value === 'absolute' ? Yoga.POSITION_TYPE_ABSOLUTE : Yoga.POSITION_TYPE_RELATIVE);\n    }\n  });\n};\n\nvar isRow = equals('row');\nvar isRowReverse = equals('row-reverse');\nvar isColumnReverse = equals('column-reverse');\n/**\n * Set flex direction attribute to node's Yoga instance\n *\n * @param {String} flex direction value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setFlexDirection = function setFlexDirection(value) {\n  return tap(function (node) {\n    var yogaNode = node._yogaNode;\n\n    if (yogaNode) {\n      var yogaValue = cond([[isRow, always(Yoga.FLEX_DIRECTION_ROW)], [isRowReverse, always(Yoga.FLEX_DIRECTION_ROW_REVERSE)], [isColumnReverse, always(Yoga.FLEX_DIRECTION_COLUMN_REVERSE)], [T, always(Yoga.FLEX_DIRECTION_COLUMN)]])(value);\n      yogaNode.setFlexDirection(yogaValue);\n    }\n  });\n};\n/**\n * Set justify content attribute to node's Yoga instance\n *\n * @param {String} justify content value\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setJustifyContent = function setJustifyContent(value) {\n  return tap(function (node) {\n    var yogaNode = node._yogaNode;\n\n    if (!isNil(value) && yogaNode) {\n      var yogaValue = cond([[equals('center'), always(Yoga.JUSTIFY_CENTER)], [equals('flex-end'), always(Yoga.JUSTIFY_FLEX_END)], [equals('space-between'), always(Yoga.JUSTIFY_SPACE_BETWEEN)], [equals('space-around'), always(Yoga.JUSTIFY_SPACE_AROUND)], [equals('space-evenly'), always(Yoga.JUSTIFY_SPACE_EVENLY)], [T, always(Yoga.JUSTIFY_FLEX_START)]])(value);\n      yogaNode.setJustifyContent(yogaValue);\n    }\n  });\n};\n/**\n * Set margin top attribute to node's Yoga instance\n *\n * @param {Number} margin top\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\n\nvar setMarginTop = setYogaValue('margin', Yoga.EDGE_TOP);\n/**\n * Set margin right attribute to node's Yoga instance\n *\n * @param {Number} margin right\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setMarginRight = setYogaValue('margin', Yoga.EDGE_RIGHT);\n/**\n * Set margin bottom attribute to node's Yoga instance\n *\n * @param {Number} margin bottom\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setMarginBottom = setYogaValue('margin', Yoga.EDGE_BOTTOM);\n/**\n * Set margin left attribute to node's Yoga instance\n *\n * @param {Number} margin left\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setMarginLeft = setYogaValue('margin', Yoga.EDGE_LEFT);\n/**\n * Set padding top attribute to node's Yoga instance\n *\n * @param {Number} padding top\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPaddingTop = setYogaValue('padding', Yoga.EDGE_TOP);\n/**\n * Set padding right attribute to node's Yoga instance\n *\n * @param {Number} padding right\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPaddingRight = setYogaValue('padding', Yoga.EDGE_RIGHT);\n/**\n * Set padding bottom attribute to node's Yoga instance\n *\n * @param {Number} padding bottom\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPaddingBottom = setYogaValue('padding', Yoga.EDGE_BOTTOM);\n/**\n * Set padding left attribute to node's Yoga instance\n *\n * @param {Number} padding left\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPaddingLeft = setYogaValue('padding', Yoga.EDGE_LEFT);\n/**\n * Set border top attribute to node's Yoga instance\n *\n * @param {Number} border top width\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setBorderTop = setYogaValue('border', Yoga.EDGE_TOP);\n/**\n * Set border right attribute to node's Yoga instance\n *\n * @param {Number} border right width\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setBorderRight = setYogaValue('border', Yoga.EDGE_RIGHT);\n/**\n * Set border bottom attribute to node's Yoga instance\n *\n * @param {Number} border bottom width\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setBorderBottom = setYogaValue('border', Yoga.EDGE_BOTTOM);\n/**\n * Set border left attribute to node's Yoga instance\n *\n * @param {Number} border left width\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setBorderLeft = setYogaValue('border', Yoga.EDGE_LEFT);\n/**\n * Set position top attribute to node's Yoga instance\n *\n * @param {Number} position top\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPositionTop = setYogaValue('position', Yoga.EDGE_TOP);\n/**\n * Set position right attribute to node's Yoga instance\n *\n * @param {Number} position right\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPositionRight = setYogaValue('position', Yoga.EDGE_RIGHT);\n/**\n * Set position bottom attribute to node's Yoga instance\n *\n * @param {Number} position bottom\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPositionBottom = setYogaValue('position', Yoga.EDGE_BOTTOM);\n/**\n * Set position left attribute to node's Yoga instance\n *\n * @param {Number} position left\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setPositionLeft = setYogaValue('position', Yoga.EDGE_LEFT);\n/**\n * Set width to node's Yoga instance\n *\n * @param {Number} width\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setWidth = setYogaValue('width');\n/**\n * Set min width to node's Yoga instance\n *\n * @param {Number} min width\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setMinWidth = setYogaValue('minWidth');\n/**\n * Set max width to node's Yoga instance\n *\n * @param {Number} max width\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setMaxWidth = setYogaValue('maxWidth');\n/**\n * Set height to node's Yoga instance\n *\n * @param {Number} height\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setHeight = setYogaValue('height');\n/**\n * Set min height to node's Yoga instance\n *\n * @param {Number} min height\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setMinHeight = setYogaValue('minHeight');\n/**\n * Set max height to node's Yoga instance\n *\n * @param {Number} max height\n * @param {Object} node instance\n * @return {Object} node instance\n */\n\nvar setMaxHeight = setYogaValue('maxHeight');\n\nvar getAspectRatio = function getAspectRatio(viewbox) {\n  if (!viewbox) return null;\n  return (viewbox.maxX - viewbox.minX) / (viewbox.maxY - viewbox.minY);\n};\n/**\n * Yoga svg measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} canvas width and height\n */\n\n\nvar measureCanvas = function measureCanvas(page, node, width, widthMode, height, heightMode) {\n  var aspectRatio = getAspectRatio(node.props.viewBox) || 1;\n\n  if (widthMode === Yoga.MEASURE_MODE_EXACTLY || widthMode === Yoga.MEASURE_MODE_AT_MOST) {\n    return {\n      width: width,\n      height: width / aspectRatio\n    };\n  }\n\n  if (heightMode === Yoga.MEASURE_MODE_EXACTLY) {\n    return {\n      width: height * aspectRatio\n    };\n  }\n\n  return {};\n};\n\nvar measureSvg = curryN(6, measureCanvas);\n/**\n * Get lines width (if any)\n *\n * @param {Object} node\n * @returns {Number} lines width\n */\n\nvar linesWidth = function linesWidth(node) {\n  if (!node.lines) return -1;\n  return Math.max.apply(Math, node.lines.map(function (line) {\n    return AttributedString.advanceWidth(line);\n  }));\n};\n/**\n * Get lines height (if any)\n *\n * @param {Object} node\n * @returns {Number} lines height\n */\n\n\nvar linesHeight = function linesHeight(node) {\n  if (!node.lines) return -1;\n  return node.lines.reduce(function (acc, line) {\n    return acc + line.box.height;\n  }, 0);\n};\n/**\n * Yoga text measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} text width and height\n */\n\n\nvar measureText = function measureText(page, node, width, widthMode, height, heightMode) {\n  if (widthMode === Yoga.MEASURE_MODE_EXACTLY) {\n    if (!node.lines) node.lines = layoutText$1(node, width, height);\n    return {\n      height: linesHeight(node)\n    };\n  }\n\n  if (widthMode === Yoga.MEASURE_MODE_AT_MOST) {\n    if (!node.lines) node.lines = layoutText$1(node, width, height);\n    return {\n      height: linesHeight(node),\n      width: Math.min(width, linesWidth(node))\n    };\n  }\n\n  return {};\n};\n\nvar measureText$1 = curryN(6, measureText);\n/**\n * Get image ratio\n *\n * @param {Object} image node\n * @returns {Number} image ratio\n */\n\nvar getRatio = ifElse(hasPath(['image', 'data']), function (node) {\n  return node.image.width / node.image.height;\n}, always(1));\n/**\n * Checks if page has auto height\n *\n * @param {Object} page\n * @returns {Boolean} is page height auto\n */\n\nvar isHeightAuto = pathSatisfies(isNil, ['box', 'height']);\nvar SAFETY_HEIGHT = 10;\n/**\n * Yoga image measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} image width and height\n */\n\nvar measureImage = function measureImage(page, node, width, widthMode, height, heightMode) {\n  var imageRatio = getRatio(node);\n  var imageMargin = getMargin(node);\n  var pagePadding = getPadding(page);\n  var pageArea = isHeightAuto(page) ? Infinity : page.box.height - pagePadding.paddingTop - pagePadding.paddingBottom - imageMargin.marginTop - imageMargin.marginBottom - SAFETY_HEIGHT; // Skip measure if image data not present yet\n\n  if (!node.image) return {\n    width: 0,\n    height: 0\n  };\n\n  if (widthMode === Yoga.MEASURE_MODE_EXACTLY && heightMode === Yoga.MEASURE_MODE_UNDEFINED) {\n    var scaledHeight = width / imageRatio;\n    return {\n      height: Math.min(pageArea, scaledHeight)\n    };\n  }\n\n  if (heightMode === Yoga.MEASURE_MODE_EXACTLY && (widthMode === Yoga.MEASURE_MODE_AT_MOST || widthMode === Yoga.MEASURE_MODE_UNDEFINED)) {\n    return {\n      width: Math.min(height * imageRatio, width)\n    };\n  }\n\n  if (widthMode === Yoga.MEASURE_MODE_EXACTLY && heightMode === Yoga.MEASURE_MODE_AT_MOST) {\n    var _scaledHeight = width / imageRatio;\n\n    return {\n      height: Math.min(height, pageArea, _scaledHeight)\n    };\n  }\n\n  if (widthMode === Yoga.MEASURE_MODE_AT_MOST && heightMode === Yoga.MEASURE_MODE_AT_MOST) {\n    if (imageRatio > 1) {\n      return {\n        width: width,\n        height: Math.min(width / imageRatio, height)\n      };\n    } else {\n      return {\n        width: Math.min(height * imageRatio, width),\n        height: height\n      };\n    }\n  }\n\n  return {\n    height: height,\n    width: width\n  };\n};\n\nvar measureImage$1 = curryN(6, measureImage);\nvar SAFETY_HEIGHT$1 = 10;\nvar getMax = reduce(max$1, -Infinity);\n/**\n * Helper object to predict canvas size\n * TODO: Implement remaining functions (as close as possible);\n */\n\nvar measureCtx = function measureCtx() {\n  var ctx = {};\n  var points = [];\n\n  var nil = function nil() {\n    return ctx;\n  };\n\n  var addPoint = function addPoint(x, y) {\n    return points.push([x, y]);\n  };\n\n  var moveTo = compose(nil, addPoint);\n\n  var rect = function rect(x, y, w, h) {\n    addPoint(x, y);\n    addPoint(x + w, y);\n    addPoint(x, y + h);\n    addPoint(x + w, y + h);\n    return ctx;\n  };\n\n  var ellipse = function ellipse(x, y, rx, ry) {\n    ry = ry || rx;\n    addPoint(x - rx, y - ry);\n    addPoint(x + rx, y - ry);\n    addPoint(x + rx, y + ry);\n    addPoint(x - rx, y + ry);\n    return ctx;\n  };\n\n  var polygon = function polygon() {\n    points.push.apply(points, arguments);\n    return nil();\n  }; // Change dimensions\n\n\n  ctx.rect = rect;\n  ctx.moveTo = moveTo;\n  ctx.lineTo = moveTo;\n  ctx.circle = ellipse;\n  ctx.polygon = polygon;\n  ctx.ellipse = ellipse;\n  ctx.roundedRect = rect; // To be implemented\n\n  ctx.text = nil;\n  ctx.path = nil;\n  ctx.lineWidth = nil;\n  ctx.bezierCurveTo = nil;\n  ctx.quadraticCurveTo = nil;\n  ctx.scale = nil;\n  ctx.rotate = nil;\n  ctx.translate = nil; // These don't change dimensions\n\n  ctx.dash = nil;\n  ctx.clip = nil;\n  ctx.save = nil;\n  ctx.fill = nil;\n  ctx.font = nil;\n  ctx.stroke = nil;\n  ctx.lineCap = nil;\n  ctx.opacity = nil;\n  ctx.restore = nil;\n  ctx.lineJoin = nil;\n  ctx.fontSize = nil;\n  ctx.fillColor = nil;\n  ctx.miterLimit = nil;\n  ctx.strokeColor = nil;\n  ctx.fillOpacity = nil;\n  ctx.strokeOpacity = nil;\n  ctx.linearGradient = nil;\n  ctx.radialGradient = nil;\n\n  ctx.getWidth = function () {\n    return compose(getMax, pluck(0))(points);\n  };\n\n  ctx.getHeight = function () {\n    return compose(getMax, pluck(1))(points);\n  };\n\n  return ctx;\n};\n/**\n * Yoga canvas measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} canvas width and height\n */\n\n\nvar measureCanvas$1 = function measureCanvas(page, node) {\n  var imageMargin = getMargin(node);\n  var pagePadding = getPadding(page);\n  var pageArea = isHeightAuto(page) ? Infinity : page.box.height - pagePadding.paddingTop - pagePadding.paddingBottom - imageMargin.marginTop - imageMargin.marginBottom - SAFETY_HEIGHT$1;\n  var ctx = measureCtx();\n  node.props.paint(ctx);\n  var width = ctx.getWidth();\n  var height = Math.min(pageArea, ctx.getHeight());\n  return {\n    height: height,\n    width: width\n  };\n};\n\nvar measureCanvas$2 = curryN(6, measureCanvas$1);\nvar YOGA_NODE = '_yogaNode';\nvar YOGA_CONFIG = Yoga.Config.create();\nYOGA_CONFIG.setPointScaleFactor(0);\n\nvar setNodeHeight = function setNodeHeight(node) {\n  return ifElse(isPage, setHeight(node.box.height), setHeight(node.box.height || node.style.height));\n};\n/**\n * Set styles valeus into yoga node before layout calculation\n *\n * @param {Object} node\n * @returns {Object} node\n */\n\n\nvar setYogaValues = tap(function (node) {\n  compose(setNodeHeight(node), setWidth(node.style.width), setMinWidth(node.style.minWidth), setMaxWidth(node.style.maxWidth), setMinHeight(node.style.minHeight), setMaxHeight(node.style.maxHeight), setMarginTop(node.style.marginTop), setMarginRight(node.style.marginRight), setMarginBottom(node.style.marginBottom), setMarginLeft(node.style.marginLeft), setPaddingTop(node.style.paddingTop), setPaddingRight(node.style.paddingRight), setPaddingBottom(node.style.paddingBottom), setPaddingLeft(node.style.paddingLeft), setPositionType(node.style.position), setPositionTop(node.style.top), setPositionRight(node.style.right), setPositionBottom(node.style.bottom), setPositionLeft(node.style.left), setBorderTop(node.style.borderTopWidth), setBorderRight(node.style.borderRightWidth), setBorderBottom(node.style.borderBottomWidth), setBorderLeft(node.style.borderLeftWidth), setDisplay(node.style.display), setFlexDirection(node.style.flexDirection), setAlignSelf(node.style.alignSelf), setAlignContent(node.style.alignContent), setAlignItems(node.style.alignItems), setJustifyContent(node.style.justifyContent), setFlexWrap(node.style.flexWrap), setOverflow(node.style.overflow), setAspectRatio(node.style.aspectRatio), setFlexBasis(node.style.flexBasis), setFlexGrow(node.style.flexGrow), setFlexShrink(node.style.flexShrink))(node);\n});\n/**\n * Inserts child into parent' yoga node\n *\n * @param {Object} parent\n * @param {Object} node\n * @param {Object} node\n */\n\nvar insertYogaNodes = function insertYogaNodes(parent) {\n  return tap(function (child) {\n    return parent.insertChild(child[YOGA_NODE], parent.getChildCount());\n  });\n};\n\nvar setMeasureFunc = function setMeasureFunc(page) {\n  return function (node) {\n    var yogaNode = node[YOGA_NODE];\n\n    if (isText(node)) {\n      yogaNode.setMeasureFunc(measureText$1(page, node));\n    }\n\n    if (isImage(node)) {\n      yogaNode.setMeasureFunc(measureImage$1(page, node));\n    }\n\n    if (isCanvas(node)) {\n      yogaNode.setMeasureFunc(measureCanvas$2(page, node));\n    }\n\n    if (isSvg(node)) {\n      yogaNode.setMeasureFunc(measureSvg(page, node));\n    }\n\n    return node;\n  };\n};\n\nvar isNotText = complement(isText);\nvar isNotNote = complement(isNote);\nvar isNotSvg$1 = complement(isSvg);\nvar isNotTextInstance = complement(isTextInstance);\nvar isLayoutElement = allPass([isNotText, isNotNote, isNotSvg$1]);\n/**\n * Creates and add yoga node to document tree\n * Handles measure function for text and image nodes\n *\n * @param {Object} node\n * @returns {Object} node with appended yoga node\n */\n\nvar createYogaNodes = function createYogaNodes(page) {\n  return function (node) {\n    var yogaNode = Yoga.Node.createWithConfig(YOGA_CONFIG);\n    return compose(setMeasureFunc(page), when(isLayoutElement, evolve({\n      children: map(compose(insertYogaNodes(yogaNode), createYogaNodes(page)))\n    })), setYogaValues, assoc(YOGA_NODE, yogaNode))(node);\n  };\n};\n/**\n * Performs yoga calculation\n *\n * @param {Object} node\n * @returns {Object} node\n */\n\n\nvar calculateLayout = tap(function (page) {\n  return page[YOGA_NODE].calculateLayout();\n});\n/**\n * Saves Yoga layout result into 'box' attribute of node\n *\n * @param {Object} node\n * @returns {Object} node with box data\n */\n\nvar persistDimensions = function persistDimensions(node) {\n  return evolve({\n    children: map(when(isNotTextInstance, persistDimensions)),\n    box: always(mergeAll([getPadding(node), getMargin(node), getBorderWidth(node), getPosition(node), getDimension(node)]))\n  })(node);\n};\n/**\n * Removes and destroys yoga node frm document tree\n *\n * @param {Object} node\n * @returns {Object} node without yoga node\n */\n\n\nvar destroyYogaNodes = function destroyYogaNodes(node) {\n  return compose(dissoc(YOGA_NODE), tap(function (n) {\n    return Yoga.Node.destroy(n[YOGA_NODE]);\n  }), evolve({\n    children: map(when(isLayoutElement, destroyYogaNodes))\n  }))(node);\n};\n/**\n * Calculates page object layout using Yoga.\n * Takes node values from 'box' and 'style' attributes, and persist them back into 'box'\n * Destroy yoga values at the end.\n *\n * @param {Object} page object\n * @returns {Object} page object with correct 'box' layout attributes\n */\n\n\nvar resolvePageDimensions = function resolvePageDimensions(page) {\n  return ifElse(isNil, always(null), compose(destroyYogaNodes, persistDimensions, calculateLayout, createYogaNodes(page)))(page);\n};\n/**\n * Calculates root object layout using Yoga.\n *\n * @param {Object} root object\n * @returns {Object} root object with correct 'box' layout attributes\n */\n\n\nvar resolveDimensions = function resolveDimensions(node) {\n  return evolve({\n    children: map(resolvePageDimensions)\n  })(node);\n};\n\nvar SAFTY_THRESHOLD = 0.001;\nvar assingChildren = assoc('children');\nvar getTop$3 = pathOr(0, ['box', 'top']);\nvar getHeight = path(['box', 'height']);\nvar getChildren$1 = propOr([], 'children');\nvar isElementOutside = useWith(lte, [identity, getTop$3]);\nvar isFixed = pathEq(['props', 'fixed'], true);\nvar allFixed = all(isFixed);\nvar isDynamic = hasPath(['props', 'render']);\nvar relayoutPage = compose(resolveTextLayout, resolveInheritance, resolvePageDimensions);\n\nvar splitView = function splitView(node, height) {\n  var _splitNode = splitNode(node, height),\n      currentNode = _splitNode[0],\n      nextNode = _splitNode[1];\n\n  var _splitChildren = splitChildren(height, node),\n      currentChilds = _splitChildren[0],\n      nextChildren = _splitChildren[1];\n\n  return [assingChildren(currentChilds)(currentNode), assingChildren(nextChildren)(nextNode)];\n};\n\nvar split = ifElse(isText, splitText, splitView);\n\nvar splitNodes = function splitNodes(height, nodes) {\n  var currentChildren = [];\n  var nextChildren = [];\n\n  for (var i = 0; i < nodes.length; i++) {\n    var child = nodes[i];\n    var futureNodes = nodes.slice(i + 1);\n    var futureFixedNodes = filter(isFixed, futureNodes);\n    var nodeTop = getTop$3(child);\n    var nodeHeight = getHeight(child);\n    var isOutside = isElementOutside(height, child);\n    var shouldBreak$1 = shouldBreak(child, futureNodes, height);\n    var shouldSplit = height + SAFTY_THRESHOLD < nodeTop + nodeHeight;\n\n    if (isFixed(child)) {\n      nextChildren.push(child);\n      currentChildren.push(child);\n      continue;\n    }\n\n    if (isOutside) {\n      var next = evolve({\n        box: {\n          top: subtract(__, height)\n        }\n      })(child);\n      nextChildren.push(next);\n      continue;\n    }\n\n    if (shouldBreak$1) {\n      var _next = evolve({\n        box: {\n          top: subtract(__, height)\n        },\n        props: evolve({\n          \"break\": always(false)\n        })\n      })(child);\n\n      currentChildren.push.apply(currentChildren, futureFixedNodes);\n      nextChildren.push.apply(nextChildren, [_next].concat(futureNodes));\n      break;\n    }\n\n    if (shouldSplit) {\n      var _split = split(child, height),\n          currentChild = _split[0],\n          nextChild = _split[1];\n\n      if (currentChild) currentChildren.push(currentChild);\n      if (nextChild) nextChildren.push(nextChild);\n      continue;\n    }\n\n    currentChildren.push(child);\n  }\n\n  return [currentChildren, nextChildren];\n};\n\nvar splitChildren = function splitChildren(height, node) {\n  var children = getChildren$1(node);\n  var availableHeight = height - getTop$3(node);\n  return splitNodes(availableHeight, children);\n};\n\nvar splitPage = function splitPage(page, pageNumber) {\n  var contentArea = getContentArea(page);\n  var height = path(['style', 'height'], page);\n  var dynamicPage = resolveDynamicPage({\n    pageNumber: pageNumber\n  }, page);\n\n  var _splitNodes = splitNodes(contentArea, dynamicPage.children),\n      currentChilds = _splitNodes[0],\n      nextChilds = _splitNodes[1];\n\n  var currentPage = compose(relayoutPage, assingChildren(currentChilds), assocPath(['box', 'height'], height))(page);\n  if (isEmpty(nextChilds) || allFixed(nextChilds)) return [currentPage, null];\n  var nextPage = compose(relayoutPage, assingChildren(nextChilds), dissocPath(['box', 'height']))(page);\n  return [currentPage, nextPage];\n};\n\nvar shouldResolveDynamicNodes = function shouldResolveDynamicNodes(node) {\n  return either(isDynamic, compose(any(shouldResolveDynamicNodes), propOr([], 'children')))(node);\n};\n\nvar resolveDynamicPage = function resolveDynamicPage(props, page) {\n  return when(shouldResolveDynamicNodes, compose(relayoutPage, resolveDynamicNodes(props)))(page);\n};\n\nvar resolveDynamicNodes = function resolveDynamicNodes(props) {\n  return function (node) {\n    var isNodeDynamic = always(isDynamic(node));\n\n    var resolveRender = function resolveRender() {\n      var res = node.props.render(props);\n      return [createInstance(res)];\n    };\n\n    return evolve({\n      children: ifElse(isNodeDynamic, resolveRender, map(resolveDynamicNodes(props))),\n      lines: when(isNodeDynamic, always([]))\n    }, node);\n  };\n};\n\nvar paginate = function paginate(page, pageNumber) {\n  if (!page) return [];\n  var splittedPage = splitPage(page, pageNumber);\n  var pages = [splittedPage[0]];\n  var nextPage = splittedPage[1];\n\n  while (nextPage !== null) {\n    splittedPage = splitPage(nextPage, pageNumber + pages.length);\n    pages.push(splittedPage[0]);\n    nextPage = splittedPage[1];\n  }\n\n  return pages;\n};\n\nvar resolvePageIndices = function resolvePageIndices(page, pageNumber, pages) {\n  var totalPages = pages.length;\n  return resolveDynamicPage({\n    pageNumber: pageNumber + 1,\n    totalPages: totalPages\n  }, page);\n};\n\nvar resolvePagination = function resolvePagination(doc) {\n  var pages = [];\n  var pageNumber = 1;\n\n  for (var i = 0; i < doc.children.length; i++) {\n    var page = doc.children[i];\n    var subpages = paginate(page, pageNumber);\n    pageNumber += subpages.length;\n    pages = pages.concat(subpages);\n  }\n\n  pages = pages.map(resolvePageIndices);\n  return assingChildren(pages, doc);\n};\n/**\n * Removes margins on node\n *\n * @param {Object} node\n * @returns {Object} node without margins\n */\n\n\nvar removeMargins = compose(dissocPath(['style', 'margin']), dissocPath(['style', 'marginTop']), dissocPath(['style', 'marginRight']), dissocPath(['style', 'marginBottom']), dissocPath(['style', 'marginLeft']), dissocPath(['style', 'marginHorizontal']), dissocPath(['style', 'marginVertical']));\n/**\n * Remove page margins\n *\n * @param {Object} document root\n * @returns {Object} document root without margins on pages\n */\n\nvar resolvePageMargins = evolve({\n  children: map(removeMargins)\n});\n/**\n * Get node underlying text value\n *\n * @param {Object} node\n * @returns {String} node text content\n */\n\nvar getNodeText = function getNodeText(node) {\n  return cond([[is(String), identity], [isTextInstance, prop('value')], [T, compose(getNodesText, propOr([], 'children'))]])(node);\n};\n/**\n * Get underlying text value of several nodes\n *\n * @param {Array} nodes\n * @returns {String} nodes text content\n */\n\n\nvar getNodesText = compose(join(''), map(getNodeText));\n/**\n * Transforms string to text instance\n *\n * @param {String} value\n * @returns {Array} text intance\n */\n\nvar wrapTextInstance = function wrapTextInstance(value) {\n  return [{\n    type: 'TEXT_INSTANCE',\n    value: value\n  }];\n};\n/**\n * Cast Note children as a text instance\n *\n * @param {Object} node\n * @returns {Object} node with resolved note children\n */\n\n\nvar resolveNoteChildren = function resolveNoteChildren(node) {\n  return ifElse(isNote, evolve({\n    children: compose(wrapTextInstance, getNodesText)\n  }), evolve({\n    children: map(resolveNoteChildren)\n  }))(node);\n};\n/*\n * Translates page percentage horizontal paddings in fixed ones\n *\n * @param {Object} page container\n * @param {String} padding value\n * @returns {Object} translated padding value\n */\n\n\nvar resolvePageHorizontalPadding = function resolvePageHorizontalPadding(container) {\n  return function (value) {\n    var match = matchPercent(value);\n    return match ? match.percent * container.width : value;\n  };\n};\n/**\n * Translates page percentage vertical paddings in fixed ones\n *\n * @param {Object} page container\n * @param {String} padding value\n * @returns {Object} translated padding value\n */\n\n\nvar resolvePageVerticalPadding = function resolvePageVerticalPadding(container) {\n  return function (value) {\n    var match = matchPercent(value);\n    return match ? match.percent * container.height : value;\n  };\n};\n/**\n * Translates page percentage paddings in fixed ones\n *\n * @param {Object} page\n * @returns {Object} page with fixed paddings\n */\n\n\nvar resolvePagePaddings = function resolvePagePaddings(page) {\n  var container = pathOr({}, ['props', 'size'], page);\n  return evolve({\n    style: evolve({\n      paddingLeft: resolvePageHorizontalPadding(container),\n      paddingRight: resolvePageHorizontalPadding(container),\n      paddingTop: resolvePageVerticalPadding(container),\n      paddingBottom: resolvePageVerticalPadding(container)\n    })\n  })(page);\n};\n/**\n * Translates all pages percentage paddings in fixed ones\n * This has to be computed from pages calculated size and not by Yoga\n * because at this point we didn't performed pagination yet.\n *\n * @param {Object} document root\n * @returns {Object} document root with translated page paddings\n */\n\n\nvar resolvePagePaddings$1 = evolve({\n  children: map(resolvePagePaddings)\n});\n/**\n *\n * @param {Object} container width and height\n * @param {String | Number} value border radius value\n * @returns {Number} fixed border radius value\n */\n\nvar resolveRadius = function resolveRadius(container) {\n  return function (value) {\n    var match = matchPercent(value);\n    return match ? match.percent * Math.min(container.width, container.height) : value;\n  };\n};\n/**\n * Transforms percent border radius into fixed values\n *\n * @param {Object} node\n * @returns {Object} node\n */\n\n\nvar resolvePercentRadius = function resolvePercentRadius(node) {\n  return evolve({\n    children: map(resolvePercentRadius),\n    style: evolve({\n      borderTopLeftRadius: resolveRadius(node.box),\n      borderTopRightRadius: resolveRadius(node.box),\n      borderBottomRightRadius: resolveRadius(node.box),\n      borderBottomLeftRadius: resolveRadius(node.box)\n    })\n  })(node);\n};\n/**\n * Transform percent height into fixed\n *\n * @param {String | number} height\n * @return {number} height\n */\n\n\nvar transformHeight = function transformHeight(pageArea) {\n  return function (height) {\n    var match = matchPercent(height);\n    return match ? match.percent * pageArea : height;\n  };\n};\n/**\n * Get page area (height minus paddings)\n *\n * @param {Object} page\n * @return {number} page area\n */\n\n\nvar getPageArea = function getPageArea(page) {\n  var pageHeight = path(['style', 'height'], page);\n  var pagePaddingTop = pathOr(0, ['style', 'paddingTop'], page);\n  var pagePaddingBottom = pathOr(0, ['style', 'paddingBottom'], page);\n  return pageHeight - pagePaddingTop - pagePaddingBottom;\n};\n/**\n * Checks if page has height\n *\n * @param {Object} page\n * @return {boolean} page has height\n */\n\n\nvar hasHeight = hasPath(['style', 'height']);\n/**\n * Transform node percent height to fixed\n *\n * @param {Object} page\n * @param {Object} node\n * @return {Object} transformed node\n */\n\nvar resolveNodePercentHeight = function resolveNodePercentHeight(page) {\n  return function (node) {\n    if (hasHeight(page)) {\n      var pageArea = getPageArea(page);\n      return evolve({\n        style: {\n          height: transformHeight(pageArea)\n        }\n      })(node);\n    }\n\n    return node;\n  };\n};\n/**\n * Transform page immediate children with percent height to fixed\n *\n * @param {Object} page\n * @return {Object} transformed page\n */\n\n\nvar resolvePagePercentHeight = function resolvePagePercentHeight(page) {\n  return evolve({\n    children: map(resolveNodePercentHeight(page))\n  })(page);\n};\n/**\n * Transform all page immediate children with percent height to fixed\n *\n * @param {Object} document root\n * @return {Object} transformed document root\n */\n\n\nvar resolvePercentHeight = evolve({\n  children: map(resolvePagePercentHeight)\n});\n/**\n * Checks if node has render prop\n *\n * @param {Object} node\n * @returns {Boolean} has render prop?\n */\n\nvar hasRenderProp = hasPath(['props', 'render']);\n/**\n * Checks if all children of node are text instances\n *\n * @param {Object} node\n * @returns {Boolean} are all children text instances?\n */\n\nvar hasTextInstanceChilds = compose(all(isTextInstance), propOr([], 'children'));\n/**\n * If the Link has a string child or render prop, substitute the instance by a Text,\n * that will ultimately render the inline Link via the textkit PDF renderer.\n *\n * @param {Object} node\n * @returns {Object} node with link substitution\n */\n\nvar resolveLinkSubstitution = function resolveLinkSubstitution(node) {\n  return evolve({\n    children: map(ifElse(both(isLink, either(hasRenderProp, hasTextInstanceChilds)), assoc('type', TEXT), resolveLinkSubstitution))\n  })(node);\n};\n/**\n * Performs right-to-left function composition with async functions support\n *\n * @param  {...any} functions\n */\n\n\nvar asyncCompose = function asyncCompose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value) {\n      var _iterator, _isArray, _i, _ref2, fn;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _iterator = reverse(fns), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();\n\n            case 1:\n              if (!_isArray) {\n                _context.next = 7;\n                break;\n              }\n\n              if (!(_i >= _iterator.length)) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"break\", 17);\n\n            case 4:\n              _ref2 = _iterator[_i++];\n              _context.next = 11;\n              break;\n\n            case 7:\n              _i = _iterator.next();\n\n              if (!_i.done) {\n                _context.next = 10;\n                break;\n              }\n\n              return _context.abrupt(\"break\", 17);\n\n            case 10:\n              _ref2 = _i.value;\n\n            case 11:\n              fn = _ref2;\n              _context.next = 14;\n              return fn(value);\n\n            case 14:\n              value = _context.sent;\n\n            case 15:\n              _context.next = 1;\n              break;\n\n            case 17:\n              return _context.abrupt(\"return\", value);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nvar startTimer = function startTimer(name) {\n  return tap(function () {\n    return console.time(name);\n  });\n};\n\nvar endTimer = function endTimer(name) {\n  return tap(function () {\n    return console.timeEnd(name);\n  });\n};\n\nvar layout = asyncCompose(resolveZIndex, resolveRulers, resolveOrigin, resolvePagination, resolveTextLayout, resolvePercentRadius, resolveDimensions, resolveSvg, resolveAssets, resolveInheritance, resolvePercentHeight, resolvePagePaddings$1, resolveStyles$1, endTimer('timer'), resolveNoteChildren, startTimer('timer'), resolveLinkSubstitution, resolvePageMargins, resolvePageSizes);\n/**\n * Checks if two sets of props are equal (recursively)\n *\n * @param {Object} props A\n * @param {Object} props B\n * @returns {Boolean} props equals?\n *\n */\n\nvar propsEqual = function propsEqual(a, b) {\n  var oldPropsKeys = Object.keys(a);\n  var newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (var i = 0; i < oldPropsKeys.length; i++) {\n    var propName = oldPropsKeys[i];\n\n    if (propName === 'render') {\n      if (!a[propName] !== !b[propName]) {\n        return false;\n      }\n\n      continue;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (typeof a[propName] === 'object' && typeof b[propName] === 'object' && propsEqual(a[propName], b[propName])) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (propName === 'children' && (typeof a[propName] === 'string' || typeof b[propName] === 'string')) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nvar emptyObject = {};\n\nvar createRenderer = function createRenderer(_ref) {\n  var _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange;\n  return ReactFiberReconciler({\n    schedulePassiveEffects: unstable_scheduleCallback,\n    cancelPassiveEffects: unstable_cancelCallback,\n    supportsMutation: true,\n    isPrimaryRenderer: false,\n    warnsIfNotActing: false,\n    appendInitialChild: function appendInitialChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n    createInstance: function createInstance(type, _ref2) {\n      var style = _ref2.style,\n          children = _ref2.children,\n          props = _objectWithoutPropertiesLoose(_ref2, [\"style\", \"children\"]);\n\n      return {\n        type: type,\n        box: {},\n        style: style || {},\n        props: props || {},\n        children: []\n      };\n    },\n    createTextInstance: function createTextInstance(text, rootContainerInstance) {\n      return {\n        type: 'TEXT_INSTANCE',\n        value: text\n      };\n    },\n    finalizeInitialChildren: function finalizeInitialChildren(element, type, props) {\n      return false;\n    },\n    getPublicInstance: function getPublicInstance(instance) {\n      return instance;\n    },\n    prepareForCommit: function prepareForCommit() {// Noop\n    },\n    prepareUpdate: function prepareUpdate(element, type, oldProps, newProps) {\n      return !propsEqual(oldProps, newProps);\n    },\n    resetAfterCommit: onChange,\n    resetTextContent: function resetTextContent(element) {// Noop\n    },\n    getRootHostContext: function getRootHostContext() {\n      return emptyObject;\n    },\n    getChildHostContext: function getChildHostContext() {\n      return emptyObject;\n    },\n    shouldSetTextContent: function shouldSetTextContent(type, props) {\n      return false;\n    },\n    now: Date.now,\n    useSyncScheduling: true,\n    appendChild: function appendChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n    appendChildToContainer: function appendChildToContainer(parentInstance, child) {\n      if (parentInstance.type === 'ROOT') {\n        parentInstance.document = child;\n      } else {\n        parentInstance.children.push(child);\n      }\n    },\n    insertBefore: function insertBefore(parentInstance, child, beforeChild) {\n      var index = parentInstance.children.indexOf(beforeChild);\n      if (index !== -1 && child) parentInstance.children.splice(index, 0, child);\n    },\n    removeChild: function removeChild(parentInstance, child) {\n      var index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n    removeChildFromContainer: function removeChildFromContainer(parentInstance, child) {\n      var index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n    commitTextUpdate: function commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.value = newText;\n    },\n    commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n      var style = newProps.style,\n          props = _objectWithoutPropertiesLoose(newProps, [\"style\"]);\n\n      instance.props = props;\n      instance.style = style;\n    }\n  });\n};\n\nvar create = function create(styles) {\n  return styles;\n};\n\nvar absoluteFillObject = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0\n};\nvar StyleSheet = {\n  hairlineWidth: 1,\n  create: create,\n  flatten: flatten,\n  absoluteFillObject: absoluteFillObject\n};\nvar version = \"2.0.0-beta.5\";\nvar View = VIEW;\nvar Text = TEXT;\nvar Link = LINK;\nvar Page = PAGE;\nvar Note = NOTE;\nvar Image = IMAGE;\nvar Document = DOCUMENT;\nvar Canvas = CANVAS;\nvar Svg = SVG;\nvar G = GROUP;\nvar Path = PATH;\nvar Rect = RECT;\nvar Line = LINE;\nvar Circle = CIRCLE;\nvar Ellipse = ELLIPSE;\nvar Polygon = POLYGON;\nvar Polyline = POLYLINE;\nvar Defs = DEFS;\nvar Tspan = TSPAN;\nvar ClipPath = CLIP_PATH;\nvar Stop = STOP;\nvar LinearGradient = LINEAR_GRADIENT;\nvar RadialGradient = RADIAL_GRADIENT;\n\nvar pdf = function pdf(_ref) {\n  var initialValue = _ref.initialValue,\n      onChange = _ref.onChange;\n  var container = {\n    type: 'ROOT',\n    document: null\n  };\n  var PDFRenderer = createRenderer({\n    onChange: onChange\n  });\n  var mountNode = PDFRenderer.createContainer(container);\n  if (initialValue) updateContainer(initialValue);\n\n  var render$1 = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ctx, layout$1;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ctx = new PDFDocument({\n                autoFirstPage: false\n              });\n              console.time('layout');\n              _context.next = 4;\n              return layout(container.document);\n\n            case 4:\n              layout$1 = _context.sent;\n              console.timeEnd('layout');\n              return _context.abrupt(\"return\", render(ctx, layout$1));\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function render() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var layout$1 = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", layout(container));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function layout() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  function updateContainer(doc) {\n    PDFRenderer.updateContainer(doc, mountNode, null);\n  }\n\n  function callOnRender(params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (container.document.props.onRender) {\n      container.document.props.onRender(params);\n    }\n  }\n\n  function toBlob() {\n    return _toBlob.apply(this, arguments);\n  }\n\n  function _toBlob() {\n    _toBlob = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var instance, stream;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return render$1();\n\n            case 2:\n              instance = _context3.sent;\n              stream = instance.pipe(BlobStream());\n              return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n                stream.on('finish', function () {\n                  try {\n                    var blob = stream.toBlob('application/pdf');\n                    callOnRender({\n                      blob: blob\n                    });\n                    resolve(blob);\n                  } catch (error) {\n                    reject(error);\n                  }\n                });\n                stream.on('error', reject);\n              }));\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _toBlob.apply(this, arguments);\n  }\n\n  function toBuffer() {\n    return _toBuffer.apply(this, arguments);\n  }\n\n  function _toBuffer() {\n    _toBuffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              callOnRender();\n              return _context4.abrupt(\"return\", render$1());\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _toBuffer.apply(this, arguments);\n  }\n\n  function toString() {\n    var result = '';\n    var instance = render$1();\n    return new Promise(function (resolve, reject) {\n      try {\n        instance.on('data', function (buffer) {\n          result += buffer;\n        });\n        instance.on('end', function () {\n          resolve(result);\n        });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  return {\n    layout: layout$1,\n    container: container,\n    updateContainer: updateContainer,\n    toBuffer: toBuffer,\n    toBlob: toBlob,\n    toString: toString\n  };\n};\n\nvar svgpath = require('svgpath');\n\nvar queue = require('queue');\n\nvar canvasInstance = function canvasInstance(canvas) {\n  var instance = {};\n  var images = {};\n  var ctx = canvas.getContext('2d');\n  var fillColor = 'white';\n\n  var nil = function nil() {\n    return instance;\n  };\n\n  instance.info = {};\n  instance.end = nil;\n  instance.font = nil;\n\n  instance.translate = function (x, y) {\n    ctx.translate(x, y);\n    return instance;\n  };\n\n  instance.addPage = function (_ref) {\n    var size = _ref.size;\n    canvas.width = size[0];\n    canvas.height = size[1];\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  instance.save = function () {\n    ctx.save();\n    return instance;\n  };\n\n  instance.restore = function () {\n    ctx.restore();\n    return instance;\n  };\n\n  instance.moveTo = function (x, y) {\n    ctx.moveTo(x, y);\n    return instance;\n  };\n\n  instance.lineTo = function (x, y) {\n    ctx.lineTo(x, y);\n    return instance;\n  };\n\n  instance.bezierCurveTo = function (a, b, c, d, e, f) {\n    ctx.bezierCurveTo(a, b, c, d, e, f);\n    return instance;\n  };\n\n  instance.closePath = function () {\n    ctx.closePath();\n    return instance;\n  };\n\n  instance.clip = function () {\n    ctx.clip();\n    return instance;\n  };\n\n  instance.fillColor = function (color) {\n    fillColor = color;\n    return instance;\n  };\n\n  instance.rect = function (a, b, c, d) {\n    ctx.rect(a, b, c, d);\n    return instance;\n  };\n\n  instance.fill = function () {\n    ctx.fillStyle = fillColor;\n    ctx.fill();\n    return instance;\n  };\n\n  instance.fillOpacity = function (opacity) {\n    ctx.globalAlpha = opacity;\n    return instance;\n  };\n\n  instance._addGlyphs = function (glyphs, positions) {\n    var xAdvance = 0;\n    var fontSize = 20;\n    var unitsPerEm = 2048;\n\n    for (var i = 0; i < glyphs.length; i++) {\n      var glyph = glyphs[i];\n      var position = positions[i];\n      var path = svgpath(glyph.path.toSVG()).scale(1, -1).scale(fontSize / unitsPerEm).translate(xAdvance, 0).toString();\n      xAdvance += position.xAdvance;\n      ctx.fillStyle = '#000';\n      var p = new Path2D(path);\n      ctx.stroke(p);\n      ctx.fill(p);\n    }\n\n    return instance;\n  };\n\n  instance.image = function (data, x, y, _ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    var base64Data = btoa(String.fromCharCode.apply(null, data));\n\n    if (images[base64Data]) {\n      ctx.drawImage(images[base64Data], x, y, width, height);\n    } else {\n      var img = document.createElement('img');\n      img.src = 'data:image/png;base64,' + base64Data;\n      images[base64Data] = img;\n\n      img.onload = function () {\n        ctx.drawImage(img, x, y, width, height);\n      };\n    }\n\n    return instance;\n  };\n\n  instance.clear = function () {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return instance;\n};\n\nvar CanvasViewer = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CanvasViewer, _React$Component);\n\n  function CanvasViewer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.ctx = null;\n    _this.instance = pdf();\n    _this.renderQueue = queue({\n      autostart: true,\n      concurrency: 1\n    });\n    _this.state = {\n      layout: null,\n      error: null\n    };\n\n    _this.onRenderFailed = function (error) {\n      _this.setState({\n        error: error\n      });\n\n      console.error(error);\n    };\n\n    _this.onRenderSuccessful = function (layout) {\n      _this.setState({\n        layout: layout\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = CanvasViewer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.ctx = canvasInstance(this.canvas);\n    this.queueDocumentRender(this.props.children);\n    this.renderQueue.on('error', this.onRenderFailed);\n    this.renderQueue.on('success', this.onRenderSuccessful);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.children !== this.props.children) {\n      this.queueDocumentRender(this.props.children);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.renderQueue.end();\n  };\n\n  _proto.queueDocumentRender = function queueDocumentRender(doc) {\n    var _this2 = this;\n\n    this.renderQueue.splice(0, this.renderQueue.length, function () {\n      _this2.instance.updateContainer(doc);\n\n      if (_this2.instance.isDirty() && !_this2.state.error) {\n        return _this2.instance.renderWithContext(_this2.ctx);\n      }\n\n      return Promise.resolve();\n    });\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    return React.createElement(\"canvas\", {\n      height: 900,\n      id: \"myCanvas\",\n      ref: function ref(_ref3) {\n        return _this3.canvas = _ref3;\n      },\n      style: {\n        border: '1px solid black'\n      },\n      width: 900\n    });\n  };\n\n  return CanvasViewer;\n}(React.Component);\n\nvar queue$1 = require('queue');\n\nvar flatStyles = function flatStyles(stylesArray) {\n  return stylesArray.reduce(function (acc, style) {\n    return _extends({}, acc, style);\n  }, {});\n};\n\nvar Document$1 = function Document$1(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  return React.createElement(Document, props, children);\n};\n\nvar InternalBlobProvider = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(InternalBlobProvider, _React$PureComponent);\n\n  function InternalBlobProvider() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.renderQueue = queue$1({\n      autostart: true,\n      concurrency: 1\n    });\n    _this.state = {\n      blob: null,\n      url: null,\n      loading: true,\n      error: null\n    };\n\n    _this.queueDocumentRender = function () {\n      _this.renderQueue.splice(0, _this.renderQueue.length, function () {\n        return _this.state.error ? Promise.resolve() : _this.instance.toBlob();\n      });\n    };\n\n    _this.onRenderFailed = function (error) {\n      _this.setState({\n        error: error\n      });\n\n      console.error(error);\n    };\n\n    _this.onRenderSuccessful = function (blob) {\n      var oldBlobUrl = _this.state.url;\n\n      _this.setState({\n        blob: blob,\n        url: URL.createObjectURL(blob),\n        loading: false\n      }, function () {\n        return URL.revokeObjectURL(oldBlobUrl);\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = InternalBlobProvider.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.instance = pdf({\n      onChange: this.queueDocumentRender\n    });\n    this.instance.updateContainer(this.props.document);\n    this.renderQueue.on('error', this.onRenderFailed);\n    this.renderQueue.on('success', this.onRenderSuccessful);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.instance.updateContainer(this.props.document);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.renderQueue.end();\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.state);\n  };\n\n  return InternalBlobProvider;\n}(React.PureComponent);\n\nvar BlobProvider = function BlobProvider(_ref2) {\n  var doc = _ref2.document,\n      children = _ref2.children;\n\n  if (!doc) {\n    warning(false, 'You should pass a valid document to BlobProvider');\n    return null;\n  }\n\n  return React.createElement(InternalBlobProvider, {\n    document: doc\n  }, children);\n};\n\nvar PDFViewer = function PDFViewer(_ref3) {\n  var className = _ref3.className,\n      style = _ref3.style,\n      children = _ref3.children,\n      innerRef = _ref3.innerRef,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"className\", \"style\", \"children\", \"innerRef\"]);\n\n  return React.createElement(InternalBlobProvider, {\n    document: children\n  }, function (_ref4) {\n    var url = _ref4.url;\n    return React.createElement(\"iframe\", _extends({\n      className: className,\n      ref: innerRef,\n      src: url,\n      style: Array.isArray(style) ? flatStyles(style) : style\n    }, props));\n  });\n};\n\nvar PDFDownloadLink = function PDFDownloadLink(_ref5) {\n  var doc = _ref5.document,\n      className = _ref5.className,\n      style = _ref5.style,\n      children = _ref5.children,\n      _ref5$fileName = _ref5.fileName,\n      fileName = _ref5$fileName === void 0 ? 'document.pdf' : _ref5$fileName;\n\n  if (!doc) {\n    warning(false, 'You should pass a valid document to PDFDownloadLink');\n    return null;\n  }\n\n  var downloadOnIE = function downloadOnIE(blob) {\n    return function () {\n      if (window.navigator.msSaveBlob) {\n        window.navigator.msSaveBlob(blob, fileName);\n      }\n    };\n  };\n\n  return React.createElement(InternalBlobProvider, {\n    document: doc\n  }, function (params) {\n    return React.createElement(\"a\", {\n      className: className,\n      download: fileName,\n      href: params.url,\n      onClick: downloadOnIE(params.blob),\n      style: Array.isArray(style) ? flatStyles(style) : style\n    }, typeof children === 'function' ? children(params) : children);\n  });\n};\n\nvar dom = {\n  pdf: pdf,\n  View: View,\n  Text: Text,\n  Link: Link,\n  Page: Page,\n  Font: Font$1,\n  Note: Note,\n  Image: Image,\n  Canvas: Canvas,\n  Svg: Svg,\n  G: G,\n  Path: Path,\n  Rect: Rect,\n  Line: Line,\n  Circle: Circle,\n  Ellipse: Ellipse,\n  Polygon: Polygon,\n  Polyline: Polyline,\n  Defs: Defs,\n  Tspan: Tspan,\n  ClipPath: ClipPath,\n  Stop: Stop,\n  LinearGradient: LinearGradient,\n  RadialGradient: RadialGradient,\n  version: version,\n  Document: Document$1,\n  PDFViewer: PDFViewer,\n  StyleSheet: StyleSheet,\n  CanvasViewer: CanvasViewer,\n  BlobProvider: BlobProvider,\n  PDFDownloadLink: PDFDownloadLink\n};\nexport default dom;\nexport { Document$1 as Document, BlobProvider, PDFViewer, PDFDownloadLink, pdf, View, Text, Link, Page, Font$1 as Font, Note, Image, Canvas, Svg, G, Path, Rect, Line, Circle, Ellipse, Polygon, Polyline, Defs, Tspan, ClipPath, Stop, LinearGradient, RadialGradient, version, StyleSheet, CanvasViewer };"],"sourceRoot":""}